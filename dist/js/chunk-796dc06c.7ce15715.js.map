{"version":3,"sources":["webpack:///./src/api/cluster/namespace.js","webpack:///./src/business/clusters/detail/overview/index.vue?a044","webpack:///./src/api/cluster.js","webpack:///./src/api/cluster/cluster.js","webpack:///./src/api/cluster/node.js","webpack:///./src/business/clusters/detail/overview/index.vue?6713","webpack:///src/business/clusters/detail/overview/index.vue","webpack:///./src/business/clusters/detail/overview/index.vue?f2ac","webpack:///./src/business/clusters/detail/overview/index.vue"],"names":["proxyUrl","namespaceUrl","namespaceOpUrl","listNamespace","clusterName","url","replace","get","createNamespace","data","post","deleteNamespace","namespace","del","clusterUrl","clusterLoggerUrl","storageProvisionerLoggerUrl","getClusterByName","getClusterByProject","projectNames","checkClusterNameExistence","searchClusters","page","size","condition","createCluster","healthCheck","clusterRecover","deleteCluster","force","importCluster","allClusters","initCluster","upgradeCluster","version","req","getClusterStatus","getClusterLog","getProvisionerLog","logId","openLogger","window","open","openProvisionerLogger","getSecret","deploymentUrl","namespaceDeploymentUrl","podUrl","namespacePodUrl","listDeployment","continueToken","undefined","listPod","getClusterToken","limit","nodesUrl","evictionUrl","nodeStatsSummaryUrl","baseUrl","detailUrl","batchUrl","recreateUrl","listNodesUsage","cordonNode","nodeName","headers","patch","evictionNode","pod","listNodeInDB","listNodeInCluster","listNodesByPage","pageNum","pageSize","nodeBatchOperation","getNodeByName","node","nodeReCreate","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","slot","_v","_s","$t","currentCluster","source","_e","name","spec","architectures","networkType","flannelBackend","calicoIpv4PoolIpip","kubeProxyMode","runtimeType","directives","rawName","value","expression","cpuUsagePercent","memUsagePercent","podUsagePercent","nodes","length","namespaces","deployments","pods","containerNumber","opened","on","$event","onOpen","newWindow","downloadKubeConfig","staticRenderFns","loading_chart","loading_xterm","cpuTotal","cpuUsage","memTotal","memUsage","podLimit","methods","search","$route","params","loadNameSpaces","loadNodes","loadDeployments","loadPods","loadNodesUsages","metrics","forEach","mounted","component"],"mappings":"4PAEMA,EAAW,kDAEXC,EAAe,oBACfC,EAAiB,gCAEhB,SAASC,EAAcC,GAC5B,IAAMC,EAAML,EAASM,QAAQ,iBAAkBF,GAAaE,QAAQ,iBAAkBL,GACtF,OAAOM,eAAIF,GAGN,SAASG,EAAgBJ,EAAaK,GAC3C,IAAMJ,EAAML,EAASM,QAAQ,iBAAkBF,GAAaE,QAAQ,iBAAkBL,GACtF,OAAOS,eAAKL,EAAKI,GAGZ,SAASE,EAAgBP,EAAaQ,GAC3C,IAAMP,EAAML,EAASM,QAAQ,iBAAkBF,GAAaE,QAAQ,iBAAkBJ,GAAgBI,QAAQ,cAAeM,GAC7H,OAAOC,eAAIR,K,kCCnBb,W,srBCEMS,EAAa,mBACbC,EAAmB,yCAEnBC,EAA8B,2DAE7B,SAASC,EAAiBb,GAC/B,OAAOG,eAAI,GAAD,OAAIO,EAAJ,YAAkBV,IAGvB,SAASc,EAAoBC,GAClC,OAAOZ,eAAI,GAAD,OAAIO,EAAJ,iBAAuBK,IAG5B,SAASC,EAA0BhB,GACxC,OAAOG,eAAI,GAAD,OAAIO,EAAJ,sBAA4BV,IAOjC,SAASiB,EAAeC,EAAMC,EAAMC,GACzC,OAAOd,eAAK,GAAD,OAAII,EAAJ,2BAAiCQ,EAAjC,qBAAkDC,GAAQC,GAGhE,SAASC,EAAchB,GAC5B,OAAOC,eAAK,GAAD,OAAII,GAAcL,GAGxB,SAASiB,EAAYtB,GAC1B,OAAOG,eAAI,GAAD,OAAIO,EAAJ,mBAAyBV,IAG9B,SAASuB,EAAevB,GAC7B,OAAOM,eAAK,GAAD,OAAII,EAAJ,oBAA0BV,GAAe,IAG/C,SAASwB,EAAcxB,EAAayB,GACzC,OAAOhB,eAAI,GAAD,OAAIC,EAAJ,YAAkBV,EAAlB,kBAAuCyB,IAG5C,SAASC,EAAcrB,GAC5B,OAAOC,eAAK,GAAD,OAAII,EAAJ,YAA0BL,GAGhC,SAASsB,IACd,OAAOxB,eAAI,GAAD,OAAIO,IAGT,SAASkB,EAAY5B,GAC1B,OAAOM,eAAK,GAAD,OAAII,EAAJ,iBAAuBV,EAAvB,KAAuC,IAG7C,SAAS6B,EAAe7B,EAAa8B,GAC1C,IAAIC,EAAM,CACR/B,YAAaA,EACb8B,QAASA,GAEX,OAAOxB,eAAK,GAAD,OAAII,EAAJ,aAA2BqB,GAGjC,SAASC,EAAiBhC,GAC/B,OAAOG,eAAI,GAAD,OAAIO,EAAJ,mBAAyBV,IAG9B,SAASiC,EAAcjC,GAC5B,OAAOG,eAAIQ,EAAiBT,QAAQ,iBAAkBF,IAOjD,SAASkC,EAAkBlC,EAAamC,GAC7C,OAAOhC,eAAIS,EAA4BV,QAAQ,iBAAkBF,GAAaE,QAAQ,WAAYiC,IAG7F,SAASC,EAAWpC,GACzBqC,OAAOC,KAAP,mCAAwCtC,GAAe,SAAU,qHAG5D,SAASuC,EAAsBvC,EAAamC,GACjDE,OAAOC,KAAP,mCAAwCtC,EAAxC,kBAA6DmC,GAAS,SAAU,qHAG3E,SAASK,EAAUxC,GACxB,OAAOG,eAAI,GAAD,OAAIO,EAAJ,mBAAyBV,M,mMCtF/BJ,EAAW,kDAKX6C,EAAgB,2BAChBC,EAAyB,kDAezBC,EAAS,cACTC,EAAkB,sCAIjB,SAASC,EAAe7C,EAAa8C,EAAetC,GACzD,IAAIP,EAAML,EAASM,QAAQ,iBAAkBF,GAM7C,OAJEC,OADgB8C,IAAdvC,GAAyC,OAAdA,EACvBP,EAAIC,QAAQ,iBAAkBwC,GAAwBxC,QAAQ,cAAeM,GAE7EP,EAAIC,QAAQ,iBAAkBuC,GAE/BtC,eAAIF,GAmHN,SAAS+C,EAAQhD,EAAa8C,EAAetC,GAClD,IAAIP,EAAML,EAASM,QAAQ,iBAAkBF,GAM7C,OAJEC,OADgB8C,IAAdvC,GAAyC,OAAdA,EACvBP,EAAIC,QAAQ,iBAAkB0C,GAAiB1C,QAAQ,cAAeM,GAEtEP,EAAIC,QAAQ,iBAAkByC,GAE/BxC,eAAIF,GAiBN,SAASgD,EAAgBjD,GAC9B,OAAOG,eAAI,+BAAD,OAAgCH,EAAhC,e,kYC7KNJ,EAAW,kDACXsD,EAAQ,GAERC,EAAW,gBACXC,EAAc,oDACdC,EAAsB,oCACtBC,EAAU,sCACVC,EAAY,oDACZC,EAAW,4CACXC,EAAc,sDAEb,SAASC,EAAe1D,EAAa8C,GAC1C,IAAI7C,EAAML,EAASM,QAAQ,iBAAkBF,GAAaE,QAAQ,iBAAkBmD,GAKpF,OAJApD,GAAO,UAAYiD,OACGH,IAAlBD,GAAiD,OAAlBA,IACjC7C,GAAO,aAAe6C,GAEjB3C,eAAIF,GAGN,SAAS0D,EAAW3D,EAAa4D,EAAUvD,GAChD,IAAIwD,EAAU,CAAC,eAAgB,0CAC3B5D,EAAML,EAASM,QAAQ,iBAAkBF,GAAaE,QAAQ,iBAAkBiD,GAAY,IAAMS,EACtG,OAAOE,eAAM7D,EAAKI,EAAMwD,GAGnB,SAASE,EAAa/D,EAAaQ,EAAWwD,EAAK3D,GACxD,IAAIJ,EAAML,EAASM,QAAQ,iBAAkBF,GAAaE,QAAQ,iBAAkBkD,GAAalD,QAAQ,cAAeM,GAAWN,QAAQ,QAAS8D,GACpJ,OAAO1D,eAAKL,EAAKI,GAGZ,SAAS4D,EAAajE,GAC3B,OAAOG,eAAI,yBAAD,OAA0BH,IAG/B,SAASkE,EAAkBlE,EAAa8C,GAC7C,IAAI7C,EAAML,EAASM,QAAQ,iBAAkBF,GAAaE,QAAQ,iBAAkBiD,GAIpF,YAHsBJ,IAAlBD,GAAiD,OAAlBA,IACjC7C,GAAO,aAAe6C,GAEjB3C,eAAIF,GAGN,SAASkE,EAAgBnE,EAAaoE,EAASC,GACpD,OAAOlE,eAAImD,EAAQpD,QAAQ,gBAAiBF,GAAjC,mBAA4DoE,EAA5D,qBAAgFC,IAGtF,SAASC,EAAmBtE,EAAaK,GAC9C,OAAOC,eAAKkD,EAAStD,QAAQ,gBAAiBF,GAAcK,GAGvD,SAASkE,EAAcvE,EAAawE,GACzC,OAAOrE,eAAIoD,EAAUrD,QAAQ,gBAAiBF,GAAaE,QAAQ,SAAUsE,IAGxE,SAASC,EAAazE,EAAawE,GACxC,OAAOlE,eAAKmD,EAAYvD,QAAQ,gBAAiBF,GAAaE,QAAQ,SAAUsE,M,yCC1DlF,IAAIE,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,SAAS,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,IAAI,CAACH,EAAG,UAAU,CAACI,YAAY,CAAC,OAAS,UAAU,CAACJ,EAAG,MAAM,CAACE,YAAY,WAAWC,MAAM,CAAC,KAAO,UAAUE,KAAK,UAAU,CAACL,EAAG,OAAO,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIY,GAAG,2CAA2CR,EAAG,MAAM,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,KAAK,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIY,GAAG,6BAA6BR,EAAG,KAAK,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIY,GAAG,uBAAuBR,EAAG,KAAK,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIY,GAAG,6BAA6BR,EAAG,KAAK,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIY,GAAG,qCAAoE,UAA9BZ,EAAIa,eAAeC,OAAoBV,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIY,GAAG,wCAAwCR,EAAG,KAAK,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIY,GAAG,qCAAqCZ,EAAIe,KAAKX,EAAG,KAAK,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIY,GAAG,qCAAqCR,EAAG,KAAK,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIY,GAAG,wCAAwCR,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,KAAK,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIa,eAAeG,SAASZ,EAAG,KAAK,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIa,eAAeI,KAAK9D,YAAYiD,EAAG,KAAK,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIa,eAAeI,KAAKC,kBAAkBd,EAAG,KAAK,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIa,eAAeI,KAAKE,gBAA+C,UAA9BnB,EAAIa,eAAeC,OAAoBV,EAAG,MAAM,CAA0C,YAAxCJ,EAAIa,eAAeI,KAAKE,YAA2Bf,EAAG,KAAK,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIa,eAAeI,KAAKG,mBAAmBpB,EAAIe,KAA8C,WAAxCf,EAAIa,eAAeI,KAAKE,aAA2E,QAA/CnB,EAAIa,eAAeI,KAAKI,mBAA8BjB,EAAG,KAAK,CAACJ,EAAIU,GAAG,SAASV,EAAIe,KAA8C,WAAxCf,EAAIa,eAAeI,KAAKE,aAA2E,WAA/CnB,EAAIa,eAAeI,KAAKI,mBAAiCjB,EAAG,KAAK,CAACJ,EAAIU,GAAG,UAAUV,EAAIe,KAAKX,EAAG,KAAK,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIa,eAAeI,KAAKK,oBAAoBtB,EAAIe,KAAKX,EAAG,KAAK,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIa,eAAeI,KAAKM,gBAAgBnB,EAAG,KAAK,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIa,eAAeC,cAAc,MAAM,GAAGV,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,UAAU,CAACoB,WAAW,CAAC,CAACR,KAAK,UAAUS,QAAQ,YAAYC,MAAO1B,EAAiB,cAAE2B,WAAW,kBAAkBnB,YAAY,CAAC,OAAS,UAAU,CAACJ,EAAG,MAAM,CAACE,YAAY,WAAWC,MAAM,CAAC,KAAO,UAAUE,KAAK,UAAU,CAACL,EAAG,OAAO,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIY,GAAG,+CAA+CR,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,OAAO,QAAU,WAAW,CAACH,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,IAAI,CAACH,EAAG,MAAM,CAACG,MAAM,CAAC,MAAQ,WAAW,CAACH,EAAG,cAAc,CAACG,MAAM,CAAC,eAAe,GAAG,KAAO,SAAS,MAAQ,IAAI,WAAaP,EAAI4B,mBAAmBxB,EAAG,MAAMA,EAAG,OAAO,CAACI,YAAY,CAAC,YAAY,SAAS,CAACR,EAAIU,GAAGV,EAAIW,GAAGX,EAAIY,GAAG,oCAAoC,KAAKR,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,IAAI,CAACH,EAAG,MAAM,CAACG,MAAM,CAAC,MAAQ,WAAW,CAACH,EAAG,cAAc,CAACG,MAAM,CAAC,eAAe,GAAG,KAAO,SAAS,MAAQ,IAAI,WAAaP,EAAI6B,mBAAmBzB,EAAG,MAAMA,EAAG,OAAO,CAACI,YAAY,CAAC,YAAY,SAAS,CAACR,EAAIU,GAAGV,EAAIW,GAAGX,EAAIY,GAAG,uCAAuC,KAAKR,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,IAAI,CAACH,EAAG,MAAM,CAACG,MAAM,CAAC,MAAQ,WAAW,CAACH,EAAG,cAAc,CAACG,MAAM,CAAC,eAAe,GAAG,KAAO,SAAS,MAAQ,IAAI,WAAaP,EAAI8B,mBAAmB1B,EAAG,MAAMA,EAAG,OAAO,CAACI,YAAY,CAAC,YAAY,SAAS,CAACR,EAAIU,GAAGV,EAAIW,GAAGX,EAAIY,GAAG,uCAAuC,MAAM,IAAI,IAAI,GAAGR,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,IAAI,CAACH,EAAG,UAAU,CAACI,YAAY,CAAC,OAAS,UAAU,CAACJ,EAAG,MAAM,CAACE,YAAY,WAAWC,MAAM,CAAC,KAAO,UAAUE,KAAK,UAAU,CAACL,EAAG,OAAO,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIY,GAAG,kDAAkDR,EAAG,MAAM,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,KAAK,CAACJ,EAAIU,GAAG,WAAWN,EAAG,KAAK,CAACJ,EAAIU,GAAG,gBAAgBN,EAAG,KAAK,CAACJ,EAAIU,GAAG,iBAAiBN,EAAG,KAAK,CAACJ,EAAIU,GAAG,UAAUN,EAAG,KAAK,CAACJ,EAAIU,GAAG,kBAAkBN,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,KAAK,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAI+B,MAAMC,WAAW5B,EAAG,KAAK,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIiC,WAAWD,WAAW5B,EAAG,KAAK,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIkC,YAAYF,WAAW5B,EAAG,KAAK,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAImC,KAAKH,WAAW5B,EAAG,KAAK,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIoC,uBAAuB,MAAM,IAAI,IAAI,GAAGhC,EAAG,UAAU,CAACoB,WAAW,CAAC,CAACR,KAAK,UAAUS,QAAQ,YAAYC,MAAO1B,EAAiB,cAAE2B,WAAW,kBAAkBnB,YAAY,CAAC,aAAa,SAAS,CAACJ,EAAG,MAAM,CAACI,YAAY,CAAC,OAAS,QAAQD,MAAM,CAAC,KAAO,UAAUE,KAAK,UAAU,CAAGT,EAAIqC,OAAuKrC,EAAIe,KAAnKX,EAAG,YAAY,CAACI,YAAY,CAAC,MAAQ,SAAS8B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvC,EAAIwC,YAAY,CAACxC,EAAIU,GAAGV,EAAIW,GAAGX,EAAIY,GAAG,uCAAiDZ,EAAU,OAAEI,EAAG,aAAa,CAACG,MAAM,CAAC,OAAS,OAAO,QAAUP,EAAIY,GAAG,+CAA+C,UAAY,WAAW,CAACR,EAAG,YAAY,CAACI,YAAY,CAAC,MAAQ,SAAS8B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvC,EAAIyC,eAAe,CAACrC,EAAG,MAAM,CAACE,YAAY,OAAOC,MAAM,CAAC,cAAc,SAAS,CAACH,EAAG,MAAM,CAACG,MAAM,CAAC,aAAa,yBAAyB,GAAGP,EAAIe,KAAkC,UAA5Bf,EAAIa,eAAeC,OAAkBV,EAAG,YAAY,CAACI,YAAY,CAAC,MAAQ,QAAQ,eAAe,QAAQD,MAAM,CAAC,KAAO,oBAAoB+B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvC,EAAI0C,wBAAwB,CAAC1C,EAAIU,GAAGV,EAAIW,GAAGX,EAAIY,GAAG,oDAAoDZ,EAAIe,MAAM,GAAIf,EAAU,OAAEI,EAAG,MAAM,CAACA,EAAG,SAAS,CAACI,YAAY,CAAC,MAAQ,OAAO,OAAS,SAASD,MAAM,CAAC,IAAMP,EAAI1E,SAAS0E,EAAIe,QAAQ,IACvgK4B,EAAkB,G,8GCuHtB,GACE3B,KAAM,kBACNtF,KAFF,WAGI,MAAO,CACLkH,eAAe,EACfC,eAAe,EACfxH,YAAa,GACbwF,eAAgB,CACdG,KAAM,GACNC,KAAM,CACJ9D,QAAS,GACT+D,cAAe,GACfC,YAAa,GACbG,cAAe,GACfC,YAAa,GACbH,eAAgB,GAChBC,mBAAoB,IAEtBP,OAAQ,IAEVmB,WAAY,GACZE,KAAM,GACNJ,MAAO,GACPG,YAAa,GACbE,gBAAiB,EACjBU,SAAU,EACVC,SAAU,EACVnB,gBAAiB,EACjBoB,SAAU,EACVC,SAAU,EACVpB,gBAAiB,EACjBqB,SAAU,EACVpB,gBAAiB,EACjBO,QAAQ,EACR/G,IAAK,KAGT6H,QAAS,CACPT,mBADJ,WAEMhF,OAAOC,KAAK,+BAAlB,oCAEIyF,OAJJ,WAIA,WACMnD,KAAK2C,eAAgB,EACrB3C,KAAK5E,YAAc4E,KAAKoD,OAAOC,OAAOtC,KACtC,OAAN,OAAM,CAAN,oCACQ,EAAR,oBAEMf,KAAKsD,iBACLtD,KAAKuD,YACLvD,KAAKwD,mBAEPjB,OAdJ,WAcA,WACMvC,KAAK4C,eAAgB,EACrB5C,KAAKoC,QAAS,EACd,OAAN,OAAM,CAAN,oCACQ,EAAR,2CACQ,EAAR,qBAGII,UAtBJ,WAsBA,WACMxC,KAAKoC,QAAS,EACd,OAAN,OAAM,CAAN,oCACQ,EAAR,mDACQ3E,OAAOC,KAAK,EAApB,wEAGI4F,eA7BJ,WA6BA,WACM,OAAN,OAAM,CAAN,oCACQ,EAAR,uBAGIG,SAlCJ,WAkCA,WACM,OAAN,OAAM,CAAN,oCACQ,EAAR,aACQ,EAAR,0BACU,EAAV,8DAEQ,EAAR,6DAGIF,UA3CJ,WA2CA,WACM,OAAN,OAAM,CAAN,oCACQ,EAAR,cACQ,EAAR,2BACU,EAAV,kDACU,IAAV,4CACU,EAAV,8BACU,EAAV,sDAEQ,EAAR,kBACQ,EAAR,eAGIC,gBAxDJ,WAwDA,WACM,OAAN,OAAM,CAAN,oCACQ,EAAR,wBAGIE,gBA7DJ,WA6DA,WACM,OAAN,OAAM,CAAN,oCACQ,IAAR,UACQC,EAAQC,SAAQ,SAAxB,GACU,IAAV,8BACU,EAAV,8BACU,IAAV,kCACU,EAAV,iCAEQ,EAAR,wBACQ,EAAR,sDACQ,EAAR,sDACQ,EAAR,sBAIEC,QAlHF,WAmHI7D,KAAKmD,WC3Oud,I,wBCQ5dW,EAAY,eACd,EACAhE,EACA4C,GACA,EACA,KACA,WACA,MAIa,aAAAoB,E","file":"js/chunk-796dc06c.7ce15715.js","sourcesContent":["import {get, post, del} from \"@/plugins/request\"\n\nconst proxyUrl = \"/proxy/kubernetes/{cluster_name}/{resource_url}\"\n\nconst namespaceUrl = \"api/v1/namespaces\"\nconst namespaceOpUrl = \"api/v1/namespaces/{namespace}\"\n\nexport function listNamespace(clusterName) {\n  const url = proxyUrl.replace(\"{cluster_name}\", clusterName).replace(\"{resource_url}\", namespaceUrl)\n  return get(url)\n}\n\nexport function createNamespace(clusterName, data) {\n  const url = proxyUrl.replace(\"{cluster_name}\", clusterName).replace(\"{resource_url}\", namespaceUrl)\n  return post(url, data)\n}\n\nexport function deleteNamespace(clusterName, namespace) {\n  const url = proxyUrl.replace(\"{cluster_name}\", clusterName).replace(\"{resource_url}\", namespaceOpUrl).replace(\"{namespace}\", namespace)\n  return del(url)\n}\n","export * from \"-!../../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/_sass-loader@10.2.0@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5282fd68&lang=scss&scoped=true&\"","import {get, post, del} from \"@/plugins/request\"\n\nconst clusterUrl = \"/api/v1/clusters\"\nconst clusterLoggerUrl = \"/api/v1/clusters/logger/{cluster_name}\"\nconst clusterNodeLoggerUrl = \"/api/v1/clusters/node/logger/{cluster_name}/{node_name}\"\nconst storageProvisionerLoggerUrl = \"/api/v1/clusters/provisioner/log/{cluster_name}/{log_id}\"\n\nexport function getClusterByName(clusterName) {\n  return get(`${clusterUrl}/${clusterName}`)\n}\n\nexport function getClusterByProject(projectNames) {\n  return get(`${clusterUrl}/name/${projectNames}`)\n}\n\nexport function checkClusterNameExistence(clusterName) {\n  return get(`${clusterUrl}/existence/${clusterName}`)\n}\n\nexport function listClusters(page, size) {\n  return get(`${clusterUrl}?pageNum=${page}&pageSize=${size}`)\n}\n\nexport function searchClusters(page, size, condition) {\n  return post(`${clusterUrl}/search?pageNum=${page}&pageSize=${size}`, condition)\n}\n\nexport function createCluster(data) {\n  return post(`${clusterUrl}`, data)\n}\n\nexport function healthCheck(clusterName) {\n  return get(`${clusterUrl}/health/${clusterName}`)\n}\n\nexport function clusterRecover(clusterName) {\n  return post(`${clusterUrl}/recover/${clusterName}`, {})\n}\n\nexport function deleteCluster(clusterName, force) {\n  return del(`${clusterUrl}/${clusterName}?force=${force}`)\n}\n\nexport function importCluster(data) {\n  return post(`${clusterUrl}/import/`, data)\n}\n\nexport function allClusters() {\n  return get(`${clusterUrl}`)\n}\n\nexport function initCluster(clusterName) {\n  return post(`${clusterUrl}/init/${clusterName}/`, {})\n}\n\nexport function upgradeCluster(clusterName, version) {\n  let req = {\n    clusterName: clusterName,\n    version: version,\n  }\n  return post(`${clusterUrl}/upgrade/`, req)\n}\n\nexport function getClusterStatus(clusterName) {\n  return get(`${clusterUrl}/status/${clusterName}`)\n}\n\nexport function getClusterLog(clusterName) {\n  return get(clusterLoggerUrl.replace(\"{cluster_name}\", clusterName))\n}\n\nexport function getClusterNodeLog(clusterName, nodeName) {\n  return get(clusterNodeLoggerUrl.replace(\"{cluster_name}\", clusterName).replace(\"{node_name}\", nodeName))\n}\n\nexport function getProvisionerLog(clusterName, logId) {\n  return get(storageProvisionerLoggerUrl.replace(\"{cluster_name}\", clusterName).replace(\"{log_id}\", logId))\n}\n\nexport function openLogger(clusterName) {\n  window.open(`/ui/#/logger?clusterName=${clusterName}`, \"_blank\", \"height=865, width=800, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, resizable=yes,location=no, status=no\")\n}\n\nexport function openProvisionerLogger(clusterName, logId) {\n  window.open(`/ui/#/logger?clusterName=${clusterName}&logId=${logId}`, \"_blank\", \"height=865, width=800, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, resizable=yes,location=no, status=no\")\n}\n\nexport function getSecret(clusterName) {\n  return get(`${clusterUrl}/secret/${clusterName}`)\n}\n","import {get} from \"@/plugins/request\"\n\nconst proxyUrl = \"/proxy/kubernetes/{cluster_name}/{resource_url}\"\nconst limit = 10\n\nconst serviceUrl = \"api/v1/services\"\nconst namespaceServiceUrl = \"api/v1/namespaces/{namespace}/services\"\nconst deploymentUrl = \"apis/apps/v1/deployments\"\nconst namespaceDeploymentUrl = \"apis/apps/v1/namespaces/{namespace}/deployments\"\nconst daemonSetUrl = \"apis/apps/v1/daemonsets/\"\nconst statefulSetUrl = \"apis/apps/v1/statefulsets/\"\nconst namespaceStatefulSet = \"apis/apps/v1/namespaces/{namespace}/statefulsets/\"\nconst namespaceDaemonSetUrl = \"apis/apps/v1/namespaces/{namespace}/daemonsets/\"\nconst cornJobUrl = \"apis/batch/v1beta1/cronjobs\"\nconst namespaceCornJobUrl = \"apis/batch/v1beta1/namespaces/{namespace}/cronjobs\"\nconst jobUrl = \"apis/batch/v1/jobs\"\nconst namespaceJobUrl = \"apis/batch/v1/namespaces/{namespace}/jobs\"\nconst ingressUrl = \"apis/networking.k8s.io/v1beta1/ingresses\"\nconst namespaceIngressUrl = \"apis/networking.k8s.io/v1beta1/namespaces/{namespace}/ingresses\"\nconst configMapUrl = \"api/v1/configmaps\"\nconst namespaceConfigMapUrl = \"api/v1/namespaces/{namespace}/configmaps\"\nconst secretUrl = \"api/v1/secrets\"\nconst namespaceSecretUrl = \"api/v1/secrets\"\nconst podUrl = \"api/v1/pods\"\nconst namespacePodUrl = \"api/v1/namespaces/{namespace}/pods/\"\nconst eventByNamespaceUrl = \"api/v1/namespaces/{namespace}/events\"\nconst eventsUrl = \"api/v1/events\"\n\nexport function listDeployment(clusterName, continueToken, namespace) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName)\n  if (namespace !== undefined && namespace !== null) {\n    url = url.replace(\"{resource_url}\", namespaceDeploymentUrl).replace(\"{namespace}\", namespace)\n  } else {\n    url = url.replace(\"{resource_url}\", deploymentUrl)\n  }\n  return get(url)\n}\n\nexport function listDaemonSet(clusterName, continueToken, namespace) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName)\n  url += \"?limit=\" + limit\n  if (continueToken !== undefined && continueToken !== null) {\n    url += \"&continue=\" + continueToken\n  }\n  if (namespace !== undefined && namespace !== null) {\n    url = url.replace(\"{resource_url}\", namespaceDaemonSetUrl).replace(\"{namespace}\", namespace)\n  } else {\n    url = url.replace(\"{resource_url}\", daemonSetUrl)\n  }\n  return get(url)\n}\n\nexport function listStatefulSet(clusterName, continueToken, namespace) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName)\n  url += \"?limit=\" + limit\n  if (continueToken !== undefined && continueToken !== null) {\n    url += \"&continue=\" + continueToken\n  }\n  if (namespace !== undefined && namespace !== null) {\n    url = url.replace(\"{resource_url}\", namespaceStatefulSet).replace(\"{namespace}\", namespace)\n  } else {\n    url = url.replace(\"{resource_url}\", statefulSetUrl)\n  }\n  return get(url)\n}\n\nexport function listJob(clusterName, continueToken, namespace){\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName)\n  url += \"?limit=\" + limit\n  if (continueToken !== undefined && continueToken !== null) {\n    url += \"&continue=\" + continueToken\n  }\n  if (namespace !== undefined && namespace !== null) {\n    url = url.replace(\"{resource_url}\", namespaceJobUrl).replace(\"{namespace}\", namespace)\n  } else {\n    url = url.replace(\"{resource_url}\", jobUrl)\n  }\n  return get(url)\n}\n\nexport function listCornJob(clusterName, continueToken, namespace) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName)\n  url += \"?limit=\" + limit\n  if (continueToken !== undefined && continueToken !== null) {\n    url += \"&continue=\" + continueToken\n  }\n  if (namespace !== undefined && namespace !== null) {\n    url = url.replace(\"{resource_url}\", namespaceCornJobUrl).replace(\"{namespace}\", namespace)\n  } else {\n    url = url.replace(\"{resource_url}\", cornJobUrl)\n  }\n  return get(url)\n}\n\nexport function listService(clusterName, continueToken, namespace) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName)\n  url += \"?limit=\" + limit\n  if (continueToken !== undefined && continueToken !== null) {\n    url += \"&continue=\" + continueToken\n  }\n  if (namespace !== undefined && namespace !== null) {\n    url = url.replace(\"{resource_url}\", namespaceServiceUrl).replace(\"{namespace}\", namespace)\n  } else {\n    url = url.replace(\"{resource_url}\", serviceUrl)\n  }\n  return get(url)\n}\n\nexport function listIngress(clusterName, continueToken, namespace) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName)\n  url += \"?limit=\" + limit\n  if (continueToken !== undefined && continueToken !== null) {\n    url += \"&continue=\" + continueToken\n  }\n  if (namespace !== undefined && namespace !== null) {\n    url = url.replace(\"{resource_url}\", namespaceIngressUrl).replace(\"{namespace}\", namespace)\n  } else {\n    url = url.replace(\"{resource_url}\", ingressUrl)\n  }\n  return get(url)\n}\n\nexport function listConfigMap(clusterName, continueToken, namespace) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName)\n  url += \"?limit=\" + limit\n  if (continueToken !== undefined && continueToken !== null) {\n    url += \"&continue=\" + continueToken\n  }\n  if (namespace !== undefined && namespace !== null) {\n    url = url.replace(\"{resource_url}\", namespaceConfigMapUrl).replace(\"{namespace}\", namespace)\n  } else {\n    url = url.replace(\"{resource_url}\", configMapUrl)\n  }\n  return get(url)\n}\n\nexport function listSecret(clusterName, continueToken, namespace) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName)\n  url += \"?limit=\" + limit\n  if (continueToken !== undefined && continueToken !== null) {\n    url += \"&continue=\" + continueToken\n  }\n  if (namespace !== undefined && namespace !== null) {\n    url = url.replace(\"{resource_url}\", namespaceSecretUrl).replace(\"{namespace}\", namespace)\n  } else {\n    url = url.replace(\"{resource_url}\", secretUrl)\n  }\n  return get(url)\n}\n\nexport function listPod(clusterName, continueToken, namespace) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName)\n  if (namespace !== undefined && namespace !== null) {\n    url = url.replace(\"{resource_url}\", namespacePodUrl).replace(\"{namespace}\", namespace)\n  } else {\n    url = url.replace(\"{resource_url}\", podUrl)\n  }\n  return get(url)\n}\n\nexport function listEvents(clusterName, continueToken, namespace) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName)\n  url += \"?limit=\" + limit\n  if (continueToken !== undefined && continueToken !== null) {\n    url += \"&continue=\" + continueToken\n  }\n  if (namespace !== undefined && namespace !== null) {\n    url = url.replace(\"{resource_url}\", eventByNamespaceUrl).replace(\"{namespace}\", namespace)\n  } else {\n    url = url.replace(\"{resource_url}\", eventsUrl)\n  }\n  return get(url)\n}\n\nexport function getClusterToken(clusterName) {\n  return get(`/api/v1/clusters/webkubectl/${clusterName}?l=zh-CN`)\n}\n","import {get, post, patch} from \"@/plugins/request\"\n\nconst proxyUrl = \"/proxy/kubernetes/{cluster_name}/{resource_url}\"\nconst limit = 10\n\nconst nodesUrl = \"/api/v1/nodes\"\nconst evictionUrl = \"api/v1/namespaces/{namespace}/pods/{pod}/eviction\"\nconst nodeStatsSummaryUrl = \"apis/metrics.k8s.io/v1beta1/nodes\"\nconst baseUrl = \"/api/v1/clusters/node/{clusterName}\"\nconst detailUrl = \"/api/v1/clusters/node/detail/{clusterName}/{node}\"\nconst batchUrl = \"/api/v1/clusters/node/batch/{clusterName}\"\nconst recreateUrl = \"/api/v1/clusters/node/recreate/{clusterName}/{node}\"\n\nexport function listNodesUsage(clusterName, continueToken) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName).replace(\"{resource_url}\", nodeStatsSummaryUrl)\n  url += \"?limit=\" + limit\n  if (continueToken !== undefined && continueToken !== null) {\n    url += \"&continue=\" + continueToken\n  }\n  return get(url)\n}\n\nexport function cordonNode(clusterName, nodeName, data) {\n  let headers = {\"Content-Type\": \"application/strategic-merge-patch+json\"}\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName).replace(\"{resource_url}\", nodesUrl) + \"/\" + nodeName\n  return patch(url, data, headers)\n}\n\nexport function evictionNode(clusterName, namespace, pod, data) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName).replace(\"{resource_url}\", evictionUrl).replace(\"{namespace}\", namespace).replace(\"{pod}\", pod)\n  return post(url, data)\n}\n\nexport function listNodeInDB(clusterName) {\n  return get(`/api/v1/clusters/node/${clusterName}`)\n}\n\nexport function listNodeInCluster(clusterName, continueToken) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName).replace(\"{resource_url}\", nodesUrl)\n  if (continueToken !== undefined && continueToken !== null) {\n    url += \"&continue=\" + continueToken\n  }\n  return get(url)\n}\n\nexport function listNodesByPage(clusterName, pageNum, pageSize) {\n  return get(baseUrl.replace(\"{clusterName}\", clusterName) + `?pageNum=${pageNum}&pageSize=${pageSize}`)\n}\n\nexport function nodeBatchOperation(clusterName, data) {\n  return post(batchUrl.replace(\"{clusterName}\", clusterName), data)\n}\n\nexport function getNodeByName(clusterName, node) {\n  return get(detailUrl.replace(\"{clusterName}\", clusterName).replace(\"{node}\", node))\n}\n\nexport function nodeReCreate(clusterName, node) {\n  return post(recreateUrl.replace(\"{clusterName}\", clusterName).replace(\"{node}\", node))\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"example\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('el-card',{staticStyle:{\"height\":\"350px\"}},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(_vm._s(_vm.$t('cluster.detail.overview.base_info')))])]),_c('div',[_c('el-col',{attrs:{\"span\":12}},[_c('ul',[_vm._v(_vm._s(_vm.$t('cluster.creation.name')))]),_c('ul',[_vm._v(_vm._s(_vm.$t('cluster.version')))]),_c('ul',[_vm._v(_vm._s(_vm.$t('cluster.creation.arch')))]),_c('ul',[_vm._v(_vm._s(_vm.$t('cluster.creation.network_type')))]),(_vm.currentCluster.source === 'local')?_c('div',[_c('ul',[_vm._v(_vm._s(_vm.$t('cluster.creation.flannel_backend')))]),_c('ul',[_vm._v(_vm._s(_vm.$t('cluster.creation.proxy_mode')))])]):_vm._e(),_c('ul',[_vm._v(_vm._s(_vm.$t('cluster.creation.runtime_type')))]),_c('ul',[_vm._v(_vm._s(_vm.$t('cluster.detail.overview.source')))])]),_c('el-col',{attrs:{\"span\":12}},[_c('ul',[_vm._v(_vm._s(_vm.currentCluster.name))]),_c('ul',[_vm._v(_vm._s(_vm.currentCluster.spec.version))]),_c('ul',[_vm._v(_vm._s(_vm.currentCluster.spec.architectures))]),_c('ul',[_vm._v(_vm._s(_vm.currentCluster.spec.networkType))]),(_vm.currentCluster.source === 'local')?_c('div',[(_vm.currentCluster.spec.networkType === 'flannel')?_c('ul',[_vm._v(_vm._s(_vm.currentCluster.spec.flannelBackend))]):_vm._e(),(_vm.currentCluster.spec.networkType === 'calico' && _vm.currentCluster.spec.calicoIpv4PoolIpip === 'off')?_c('ul',[_vm._v(\"bgp\")]):_vm._e(),(_vm.currentCluster.spec.networkType === 'calico' && _vm.currentCluster.spec.calicoIpv4PoolIpip === 'Always')?_c('ul',[_vm._v(\"ipip\")]):_vm._e(),_c('ul',[_vm._v(_vm._s(_vm.currentCluster.spec.kubeProxyMode))])]):_vm._e(),_c('ul',[_vm._v(_vm._s(_vm.currentCluster.spec.runtimeType))]),_c('ul',[_vm._v(_vm._s(_vm.currentCluster.source))])])],1)])],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-card',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading_chart),expression:\"loading_chart\"}],staticStyle:{\"height\":\"350px\"}},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(_vm._s(_vm.$t('cluster.detail.overview.capacity_info')))])]),_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('div',{attrs:{\"align\":\"center\"}},[_c('el-progress',{attrs:{\"stroke-width\":20,\"type\":\"circle\",\"width\":140,\"percentage\":_vm.cpuUsagePercent}}),_c('br'),_c('span',{staticStyle:{\"font-size\":\"24px\"}},[_vm._v(_vm._s(_vm.$t('cluster.detail.overview.cpu')))])],1)]),_c('el-col',{attrs:{\"span\":8}},[_c('div',{attrs:{\"align\":\"center\"}},[_c('el-progress',{attrs:{\"stroke-width\":20,\"type\":\"circle\",\"width\":140,\"percentage\":_vm.memUsagePercent}}),_c('br'),_c('span',{staticStyle:{\"font-size\":\"24px\"}},[_vm._v(_vm._s(_vm.$t('cluster.detail.overview.memory')))])],1)]),_c('el-col',{attrs:{\"span\":8}},[_c('div',{attrs:{\"align\":\"center\"}},[_c('el-progress',{attrs:{\"stroke-width\":20,\"type\":\"circle\",\"width\":140,\"percentage\":_vm.podUsagePercent}}),_c('br'),_c('span',{staticStyle:{\"font-size\":\"24px\"}},[_vm._v(_vm._s(_vm.$t('cluster.detail.overview.docker')))])],1)])],1)],1)],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-card',{staticStyle:{\"height\":\"350px\"}},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(_vm._s(_vm.$t('cluster.detail.overview.statistical_info')))])]),_c('div',[_c('el-col',{attrs:{\"span\":12}},[_c('ul',[_vm._v(\"Nodes\")]),_c('ul',[_vm._v(\"Namespaces\")]),_c('ul',[_vm._v(\"Deployments\")]),_c('ul',[_vm._v(\"Pods\")]),_c('ul',[_vm._v(\"Containers\")])]),_c('el-col',{attrs:{\"span\":12}},[_c('ul',[_vm._v(_vm._s(_vm.nodes.length))]),_c('ul',[_vm._v(_vm._s(_vm.namespaces.length))]),_c('ul',[_vm._v(_vm._s(_vm.deployments.length))]),_c('ul',[_vm._v(_vm._s(_vm.pods.length))]),_c('ul',[_vm._v(_vm._s(_vm.containerNumber))])])],1)])],1)],1)],1),_c('el-card',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading_xterm),expression:\"loading_xterm\"}],staticStyle:{\"margin-top\":\"20px\"}},[_c('div',{staticStyle:{\"height\":\"20px\"},attrs:{\"slot\":\"header\"},slot:\"header\"},[(!_vm.opened)?_c('el-button',{staticStyle:{\"float\":\"right\"},on:{\"click\":function($event){return _vm.onOpen()}}},[_vm._v(_vm._s(_vm.$t('cluster.detail.overview.connect')))]):_vm._e(),(_vm.opened)?_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":_vm.$t('cluster.detail.overview.open_in_new_windows'),\"placement\":\"bottom\"}},[_c('el-button',{staticStyle:{\"float\":\"right\"},on:{\"click\":function($event){return _vm.newWindow()}}},[_c('svg',{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#iconchuangkou\"}})])])],1):_vm._e(),(_vm.currentCluster.source==='local')?_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-right\":\"10px\"},attrs:{\"icon\":\"el-icon-document\"},on:{\"click\":function($event){return _vm.downloadKubeConfig()}}},[_vm._v(_vm._s(_vm.$t('cluster.detail.overview.download_kube_config')))]):_vm._e()],1),(_vm.opened)?_c('div',[_c('iframe',{staticStyle:{\"width\":\"100%\",\"height\":\"512px\"},attrs:{\"src\":_vm.url}})]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"example\">\n      <el-row>\n        <el-col :span=\"6\">\n          <el-card style=\"height: 350px\">\n            <div slot=\"header\" class=\"clearfix\">\n              <span>{{$t('cluster.detail.overview.base_info')}}</span>\n            </div>\n            <div>\n              <el-col :span=\"12\">\n                <ul>{{$t('cluster.creation.name')}}</ul>\n                <ul>{{$t('cluster.version')}}</ul>\n                <ul>{{$t('cluster.creation.arch')}}</ul>\n                <ul>{{$t('cluster.creation.network_type')}}</ul>\n                <div v-if=\"currentCluster.source === 'local'\">\n                  <ul>{{$t('cluster.creation.flannel_backend')}}</ul>\n                  <ul>{{$t('cluster.creation.proxy_mode')}}</ul>\n                </div>\n                <ul>{{$t('cluster.creation.runtime_type')}}</ul>\n                <ul>{{$t('cluster.detail.overview.source')}}</ul>\n              </el-col>\n              <el-col :span=\"12\">\n                <ul>{{currentCluster.name}}</ul>\n                <ul>{{currentCluster.spec.version}}</ul>\n                <ul>{{currentCluster.spec.architectures}}</ul>\n                <ul>{{currentCluster.spec.networkType}}</ul>\n                <div v-if=\"currentCluster.source === 'local'\">\n                  <ul v-if=\"currentCluster.spec.networkType === 'flannel'\">{{currentCluster.spec.flannelBackend}}</ul>\n                  <ul v-if=\"currentCluster.spec.networkType === 'calico' && currentCluster.spec.calicoIpv4PoolIpip === 'off'\">bgp</ul>\n                  <ul v-if=\"currentCluster.spec.networkType === 'calico' && currentCluster.spec.calicoIpv4PoolIpip === 'Always'\">ipip</ul>\n                  <ul>{{currentCluster.spec.kubeProxyMode}}</ul>\n                </div>\n                <ul>{{currentCluster.spec.runtimeType}}</ul>\n                <ul>{{currentCluster.source}}</ul>\n              </el-col>\n            </div>\n          </el-card>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-card v-loading=\"loading_chart\" style=\"height: 350px\">\n            <div slot=\"header\" class=\"clearfix\">\n              <span>{{$t('cluster.detail.overview.capacity_info')}}</span>\n            </div>\n            <el-row type=\"flex\" justify=\"center\">\n              <el-col :span=\"8\">\n                <div align=\"center\">\n                  <el-progress :stroke-width=\"20\" type=\"circle\" :width=\"140\" :percentage=\"cpuUsagePercent\"></el-progress>\n                  <br>\n                  <span style=\"font-size: 24px\">{{$t('cluster.detail.overview.cpu')}}</span>\n                </div>\n              </el-col>\n              <el-col :span=\"8\">\n                <div align=\"center\">\n                  <el-progress :stroke-width=\"20\" type=\"circle\" :width=\"140\" :percentage=\"memUsagePercent\"></el-progress>\n                  <br>\n                  <span style=\"font-size: 24px\">{{$t('cluster.detail.overview.memory')}}</span>\n                </div>\n              </el-col>\n              <el-col :span=\"8\">\n                <div align=\"center\">\n                  <el-progress :stroke-width=\"20\" type=\"circle\" :width=\"140\" :percentage=\"podUsagePercent\"></el-progress>\n                  <br>\n                  <span style=\"font-size: 24px\">{{$t('cluster.detail.overview.docker')}}</span>\n                </div>\n              </el-col>\n            </el-row>\n          </el-card>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-card style=\"height: 350px\">\n            <div slot=\"header\" class=\"clearfix\">\n              <span>{{$t('cluster.detail.overview.statistical_info')}}</span>\n            </div>\n            <div>\n              <el-col :span=\"12\">\n                <ul>Nodes</ul>\n                <ul>Namespaces</ul>\n                <ul>Deployments</ul>\n                <ul>Pods</ul>\n                <ul>Containers</ul>\n              </el-col>\n              <el-col :span=\"12\">\n                <ul>{{nodes.length}}</ul>\n                <ul>{{namespaces.length}}</ul>\n                <ul>{{deployments.length}}</ul>\n                <ul>{{pods.length}}</ul>\n                <ul>{{containerNumber}}</ul>\n              </el-col>\n            </div>\n          </el-card>\n        </el-col>\n      </el-row>\n    </div>\n\n    <el-card style=\"margin-top: 20px\" v-loading=\"loading_xterm\">\n      <div slot=\"header\" style=\"height: 20px\">\n        <el-button v-if=\"!opened\" @click=\"onOpen()\" style=\"float: right;\">{{$t('cluster.detail.overview.connect')}}</el-button>\n        <el-tooltip v-if=\"opened\" effect=\"dark\" :content=\"$t('cluster.detail.overview.open_in_new_windows')\" placement=\"bottom\">\n          <el-button @click=\"newWindow()\" style=\"float: right;\">\n            <svg class=\"icon\" aria-hidden=\"true\">\n              <use xlink:href=\"#iconchuangkou\"></use>\n            </svg>\n          </el-button>  \n        </el-tooltip>\n        <el-button v-if=\"currentCluster.source==='local'\" icon=\"el-icon-document\" @click=\"downloadKubeConfig()\" style=\"float: right; margin-right: 10px\">{{$t('cluster.detail.overview.download_kube_config')}}</el-button>\n      </div>\n      <div v-if=\"opened\">\n        <iframe style=\"width: 100%;height: 512px;\" :src=\"url\"></iframe>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { listPod, listDeployment, getClusterToken } from \"@/api/cluster/cluster\"\nimport { listNodeInCluster, listNodesUsage } from \"@/api/cluster/node\"\nimport { listNamespace } from \"@/api/cluster/namespace\"\nimport { getClusterByName } from \"@/api/cluster\"\n\nexport default {\n  name: \"ClusterOverview\",\n  data() {\n    return {\n      loading_chart: false,\n      loading_xterm: false,\n      clusterName: \"\",\n      currentCluster: {\n        name: \"\",\n        spec: {\n          version: \"\",\n          architectures: \"\",\n          networkType: \"\",\n          kubeProxyMode: \"\",\n          runtimeType: \"\",\n          flannelBackend: \"\",\n          calicoIpv4PoolIpip: \"\",\n        },\n        source: \"\",\n      },\n      namespaces: [],\n      pods: [],\n      nodes: [],\n      deployments: [],\n      containerNumber: 0,\n      cpuTotal: 0,\n      cpuUsage: 0,\n      cpuUsagePercent: 0.0,\n      memTotal: 0,\n      memUsage: 0,\n      memUsagePercent: 0.0,\n      podLimit: 0,\n      podUsagePercent: 0.0,\n      opened: false,\n      url: \"\",\n    }\n  },\n  methods: {\n    downloadKubeConfig() {\n      window.open(`/api/v1/clusters/kubeconfig/${this.clusterName}`, \"_blank\")\n    },\n    search() {\n      this.loading_chart = true\n      this.clusterName = this.$route.params.name\n      getClusterByName(this.clusterName).then((data) => {\n        this.currentCluster = data\n      })\n      this.loadNameSpaces()\n      this.loadNodes()\n      this.loadDeployments()\n    },\n    onOpen() {\n      this.loading_xterm = true\n      this.opened = true\n      getClusterToken(this.clusterName).then((data) => {\n        this.url = \"/webkubectl/terminal/?token=\" + data.token\n        this.loading_xterm = false\n      })\n    },\n    newWindow() {\n      this.opened = true\n      getClusterToken(this.clusterName).then((data) => {\n        this.url = `/webkubectl/terminal/?token=${data.token}`\n        window.open(this.url, \"_blank\", \"weight=300,height=200,alwaysRaised=yes,depended=yes\")\n      })\n    },\n    loadNameSpaces() {\n      listNamespace(this.clusterName).then((data) => {\n        this.namespaces = data.items\n      })\n    },\n    loadPods() {\n      listPod(this.clusterName).then((data) => {\n        this.pods = data.items\n        this.pods.forEach((pod) => {\n          this.containerNumber = this.containerNumber + pod.spec.containers.length\n        })\n        this.podUsagePercent = Math.round((this.pods.length / this.podLimit) * 100)\n      })\n    },\n    loadNodes() {\n      listNodeInCluster(this.clusterName).then((data) => {\n        this.nodes = data.items\n        this.nodes.forEach((node) => {\n          this.cpuTotal = this.cpuTotal + Number(node.status.capacity.cpu)\n          const mem = node.status.capacity.memory.replace(\"Ki\", \"\")\n          this.memTotal = this.memTotal + Number(mem)\n          this.podLimit = this.podLimit + Number(node.status.capacity.pods)\n        })\n        this.loadNodesUsages()\n        this.loadPods()\n      })\n    },\n    loadDeployments() {\n      listDeployment(this.clusterName).then((data) => {\n        this.deployments = data.items\n      })\n    },\n    loadNodesUsages() {\n      listNodesUsage(this.clusterName).then((data) => {\n        let metrics = data.items\n        metrics.forEach((me) => {\n          const c = me.usage.cpu.replace(\"n\", \"\")\n          this.cpuUsage = this.cpuUsage + Number(c)\n          const m = me.usage.memory.replace(\"Ki\", \"\")\n          this.memUsage = this.memUsage + Number(m)\n        })\n        this.cpuUsage = this.cpuUsage / (1000 * 1000 * 1000)\n        this.memUsagePercent = Math.round((this.memUsage / this.memTotal) * 100)\n        this.cpuUsagePercent = Math.round((this.cpuUsage / this.cpuTotal) * 100)\n        this.loading_chart = false\n      })\n    },\n  },\n  mounted() {\n    this.search()\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.example {\n  ul {\n    height: 20px;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5282fd68&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5282fd68&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5282fd68\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}