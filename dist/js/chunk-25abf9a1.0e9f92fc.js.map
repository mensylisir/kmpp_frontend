{"version":3,"sources":["webpack:///./src/api/cluster/storage.js","webpack:///./src/components/k8s-page/index.vue?bb75","webpack:///src/components/k8s-page/index.vue","webpack:///./src/components/k8s-page/index.vue?8c54","webpack:///./src/components/k8s-page/index.vue","webpack:///./src/api/cluster.js","webpack:///./src/business/clusters/detail/storage/index.vue?850a","webpack:///src/business/clusters/detail/storage/index.vue","webpack:///./src/business/clusters/detail/storage/index.vue?664d","webpack:///./src/business/clusters/detail/storage/index.vue"],"names":["proxyUrl","limit","persistentVolumesUrl","storageClassUrl","persistentVolumesOpUrl","storageClassOpUrl","provisionerUrl","secretUrl","listProvisioner","clusterName","get","replace","createProvisioner","item","post","syncProvisioner","hosts","syncUrl","url","deleteProvisioner","deleteUrl","createPersistentVolume","data","listPersistentVolumes","continueToken","undefined","listStorageClass","all","createStorageClass","deleteStorageClass","name","del","deletePersistentVolume","createSecret","namespace","deleteSecret","secretsName","render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","ko_nextToken","ko_btnLoading","on","$event","getPageNext","_v","_s","ko_currentPage","getPageAhead","staticRenderFns","props","nextToken","String","currentPage","Number","watch","handler","newName","immediate","ko_aheadToken","ko_continueToken","methods","length","pop","$emit","push","component","clusterUrl","clusterLoggerUrl","storageProvisionerLoggerUrl","getClusterByName","getClusterByProject","projectNames","checkClusterNameExistence","searchClusters","page","size","condition","createCluster","healthCheck","clusterRecover","deleteCluster","force","importCluster","allClusters","initCluster","upgradeCluster","version","req","getClusterStatus","getClusterLog","getProvisionerLog","logId","openLogger","window","open","openProvisionerLogger","getSecret","provider","$t","_e","handleClick","model","value","callback","$$v","activeName","expression","pvCreate","pvSelection","onBatchDelete","directives","rawName","pvDatas","scopedSlots","_u","key","fn","ref","row","_f","metadata","creationTimestamp","buttons_pv","pvPage","pvPageChange","classCreate","classSelection","storageClassDatas","buttons_class","classPage","classPageChange","provisionerCreate","provisionerSelection","onSync","provisionerDatas","status","staticClass","openXterm","getErrorInfo","createdAt","buttons_provisioner","dialogSyncVisible","_l","pro","type","slot","submitSync","dialogErrorVisible","errMsg","components","loading","dialogDeleteVisible","timer","search","getCluster","message","token","localStorage","setItem","$router","onDelete","isBatchDelete","submitDelete","$confirm","confirmButtonText","cancelButtonText","isClassExist","provisioner","deleteClass","polling","setInterval","flag","created","$route","params","getItem","destroyed","clearInterval"],"mappings":"4iBAEMA,EAAW,kDACXC,EAAQ,GAERC,EAAuB,2BACvBC,EAAkB,wCAGlBC,EAAyB,kCACzBC,EAAoB,+CAEpBC,EAAiB,8CACjBC,EAAY,wCAEX,SAASC,EAAgBC,GAC9B,OAAOC,eAAIJ,EAAeK,QAAQ,iBAAkBF,IAG/C,SAASG,EAAkBH,EAAaI,GAC7C,OAAOC,eAAKR,EAAeK,QAAQ,iBAAkBF,GAAcI,GAG9D,SAASE,EAAgBN,EAAaO,GAC3C,IAAMC,EAAU,mDACVC,EAAMD,EAAQN,QAAQ,iBAAkBF,GAC9C,OAAOK,eAAKI,EAAKF,GAGZ,SAASG,EAAkBV,EAAaI,GAC7C,IAAMO,EAAY,qDACZF,EAAME,EAAUT,QAAQ,iBAAkBF,GAChD,OAAOK,eAAKI,EAAKL,GAGZ,SAASQ,EAAuBZ,EAAaa,GAClD,IAAMJ,EAAMlB,EAASW,QAAQ,iBAAkBF,GAAaE,QAAQ,iBAAkBT,GACtF,OAAOY,eAAKI,EAAKI,GAGZ,SAASC,EAAsBd,EAAae,GACjD,IAAIN,EAAMlB,EAASW,QAAQ,iBAAkBF,GAAaE,QAAQ,iBAAkBT,GAKpF,OAJAgB,GAAO,UAAYjB,OACGwB,IAAlBD,GAAiD,OAAlBA,IACjCN,GAAO,aAAeM,GAEjBd,eAAIQ,GAGN,SAASQ,EAAiBjB,EAAae,EAAeG,GAC3D,IAAIT,EAAMlB,EAASW,QAAQ,iBAAkBF,GAAaE,QAAQ,iBAAkBR,GAOpF,OANKwB,IACHT,GAAO,UAAYjB,QAECwB,IAAlBD,GAAiD,OAAlBA,IACjCN,GAAO,aAAeM,GAEjBd,eAAIQ,GAGN,SAASU,EAAmBnB,EAAaa,GAC9C,IAAMJ,EAAMlB,EAASW,QAAQ,iBAAkBF,GAAaE,QAAQ,iBAAkBR,GACtF,OAAOW,eAAKI,EAAKI,GAiBZ,SAASO,EAAmBpB,EAAaqB,GAC9C,IAAMZ,EAAMlB,EAASW,QAAQ,iBAAkBF,GAAaE,QAAQ,iBAAkBN,GAAmBM,QAAQ,SAAUmB,GAC3H,OAAOC,eAAIb,GAGN,SAASc,EAAuBvB,EAAaqB,GAClD,IAAMZ,EAAMlB,EAASW,QAAQ,iBAAkBF,GAAaE,QAAQ,iBAAkBP,GAAwBO,QAAQ,SAAUmB,GAChI,OAAOC,eAAIb,GAGN,SAASe,EAAaxB,EAAYyB,EAAWrB,GAClD,IAAMK,EAAMlB,EAASW,QAAQ,iBAAkBF,GAAaE,QAAQ,iBAAkBJ,EAAUI,QAAQ,cAAeuB,IACvH,OAAOpB,eAAKI,EAAKL,GAQZ,SAASsB,EAAa1B,EAAayB,EAAWE,GACnD,IAAMlB,EAAMlB,EAASW,QAAQ,iBAAkBF,GAAaE,QAAQ,iBAAkBJ,EAAUI,QAAQ,cAAeuB,GAAa,IAAME,GAC1I,OAAOL,eAAIb,K,oCCrGb,IAAImB,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,YAAY,CAACE,YAAY,CAAC,MAAQ,SAASC,MAAM,CAAC,UAAYP,EAAIQ,cAAgBR,EAAIS,cAAc,KAAO,OAAO,KAAO,uBAAuBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAIY,kBAAkBR,EAAG,OAAO,CAACE,YAAY,CAAC,MAAQ,QAAQ,aAAa,QAAQ,CAACN,EAAIa,GAAGb,EAAIc,GAAGd,EAAIe,mBAAmBX,EAAG,YAAY,CAACE,YAAY,CAAC,MAAQ,SAASC,MAAM,CAAC,SAAgC,IAArBP,EAAIe,gBAAsBf,EAAIS,cAAc,KAAO,OAAO,KAAO,sBAAsBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAIgB,oBAAoB,IACzmBC,EAAkB,GCQtB,G,UAAA,CACEzB,KAAM,UACN0B,MAAO,CACLC,UAAWC,OACXC,YAAaC,QAEfC,MAAO,CACLJ,UAAW,CACTK,QADN,SACA,GACQvB,KAAKO,aAAeiB,GAEtBC,WAAW,GAEbL,YAAa,CACXG,QADN,SACA,GACQvB,KAAKc,eAAiBU,GAAoBxB,KAAKc,gBAEjDW,WAAW,IAGf1C,KApBF,WAqBI,MAAO,CACL2C,cAAe,GACfC,iBAAkB,GAClBpB,aAAc,GACdO,eAAgB,EAChBN,eAAe,IAGnBoB,QAAS,CACPb,aADJ,WAEMf,KAAKQ,eAAgB,EACrBR,KAAKc,iBACLd,KAAK2B,iBAAmB3B,KAAK0B,cAAc1B,KAAK0B,cAAcG,OAAS,GACvE7B,KAAK0B,cAAcI,MACnB9B,KAAK+B,MAAM,aAAc,CAA/B,uDACM/B,KAAKQ,eAAgB,GAEvBG,YATJ,WAUMX,KAAKc,iBACLd,KAAK0B,cAAcM,KAAKhC,KAAK2B,kBAC7B3B,KAAK2B,iBAAmB3B,KAAKO,aAC7BP,KAAK+B,MAAM,aAAc,CAA/B,2DCnDkc,I,YCO9bE,EAAY,eACd,EACAnC,EACAkB,GACA,EACA,KACA,KACA,MAIa,OAAAiB,E,+rBChBTC,EAAa,mBACbC,EAAmB,yCAEnBC,EAA8B,2DAE7B,SAASC,EAAiBnE,GAC/B,OAAOC,eAAI,GAAD,OAAI+D,EAAJ,YAAkBhE,IAGvB,SAASoE,EAAoBC,GAClC,OAAOpE,eAAI,GAAD,OAAI+D,EAAJ,iBAAuBK,IAG5B,SAASC,EAA0BtE,GACxC,OAAOC,eAAI,GAAD,OAAI+D,EAAJ,sBAA4BhE,IAOjC,SAASuE,EAAeC,EAAMC,EAAMC,GACzC,OAAOrE,eAAK,GAAD,OAAI2D,EAAJ,2BAAiCQ,EAAjC,qBAAkDC,GAAQC,GAGhE,SAASC,EAAc9D,GAC5B,OAAOR,eAAK,GAAD,OAAI2D,GAAcnD,GAGxB,SAAS+D,EAAY5E,GAC1B,OAAOC,eAAI,GAAD,OAAI+D,EAAJ,mBAAyBhE,IAG9B,SAAS6E,EAAe7E,GAC7B,OAAOK,eAAK,GAAD,OAAI2D,EAAJ,oBAA0BhE,GAAe,IAG/C,SAAS8E,EAAc9E,EAAa+E,GACzC,OAAOzD,eAAI,GAAD,OAAI0C,EAAJ,YAAkBhE,EAAlB,kBAAuC+E,IAG5C,SAASC,EAAcnE,GAC5B,OAAOR,eAAK,GAAD,OAAI2D,EAAJ,YAA0BnD,GAGhC,SAASoE,IACd,OAAOhF,eAAI,GAAD,OAAI+D,IAGT,SAASkB,EAAYlF,GAC1B,OAAOK,eAAK,GAAD,OAAI2D,EAAJ,iBAAuBhE,EAAvB,KAAuC,IAG7C,SAASmF,EAAenF,EAAaoF,GAC1C,IAAIC,EAAM,CACRrF,YAAaA,EACboF,QAASA,GAEX,OAAO/E,eAAK,GAAD,OAAI2D,EAAJ,aAA2BqB,GAGjC,SAASC,EAAiBtF,GAC/B,OAAOC,eAAI,GAAD,OAAI+D,EAAJ,mBAAyBhE,IAG9B,SAASuF,EAAcvF,GAC5B,OAAOC,eAAIgE,EAAiB/D,QAAQ,iBAAkBF,IAOjD,SAASwF,EAAkBxF,EAAayF,GAC7C,OAAOxF,eAAIiE,EAA4BhE,QAAQ,iBAAkBF,GAAaE,QAAQ,WAAYuF,IAG7F,SAASC,EAAW1F,GACzB2F,OAAOC,KAAP,mCAAwC5F,GAAe,SAAU,qHAG5D,SAAS6F,EAAsB7F,EAAayF,GACjDE,OAAOC,KAAP,mCAAwC5F,EAAxC,kBAA6DyF,GAAS,SAAU,qHAG3E,SAASK,EAAU9F,GACxB,OAAOC,eAAI,GAAD,OAAI+D,EAAJ,mBAAyBhE,M,yCCxFrC,IAAI4B,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAmB,KAAjBJ,EAAIkE,SAAiB9D,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQP,EAAImE,GAAG,wCAAwC,KAAO,UAAUnE,EAAIoE,KAAKhE,EAAG,MAAM,CAACE,YAAY,CAAC,aAAa,SAAS,CAACF,EAAG,UAAU,CAACE,YAAY,CAAC,gBAAgB,QAAQC,MAAM,CAAC,eAAe,QAAQG,GAAG,CAAC,YAAY,SAASC,GAAQ,OAAOX,EAAIqE,gBAAgBC,MAAM,CAACC,MAAOvE,EAAc,WAAEwE,SAAS,SAAUC,GAAMzE,EAAI0E,WAAWD,GAAKE,WAAW,eAAe,CAACvE,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQP,EAAImE,GAAG,6BAA6B,KAAO,OAAO,CAAC/D,EAAG,UAAU,CAAC,CAACA,EAAG,kBAAkB,CAACA,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,SAASG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAI4E,cAAc,CAAC5E,EAAIa,GAAGb,EAAIc,GAAGd,EAAImE,GAAG,6BAA6B/D,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,QAAQ,SAAWP,EAAI6E,YAAY/C,OAAS,GAAGpB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAI8E,cAAc,SAAS,CAAC9E,EAAIa,GAAGb,EAAIc,GAAGd,EAAImE,GAAG,8BAA8B,IAAI/D,EAAG,gBAAgB,CAAC2E,WAAW,CAAC,CAACvF,KAAK,UAAUwF,QAAQ,YAAYT,MAAOvE,EAAW,QAAE2E,WAAW,YAAYrE,YAAY,CAAC,aAAa,QAAQC,MAAM,CAAC,QAAUP,EAAI6E,YAAY,KAAO7E,EAAIiF,SAASvE,GAAG,CAAC,iBAAiB,SAASC,GAAQX,EAAI6E,YAAYlE,KAAU,CAACP,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,YAAY,IAAM,MAAMH,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQP,EAAImE,GAAG,sBAAsB,YAAY,MAAM,KAAO,gBAAgB,IAAM,MAAM/D,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQP,EAAImE,GAAG,mCAAmC,YAAY,MAAM,KAAO,wBAAwB,IAAM,MAAM/D,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQ,eAAe,YAAY,MAAM,KAAO,mBAAmB,IAAM,MAAMH,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQP,EAAImE,GAAG,iCAAiC,YAAY,MAAM,KAAO,wBAAwB,IAAM,MAAM/D,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQP,EAAImE,GAAG,wBAAwB,YAAY,MAAM,KAAO,eAAe,IAAM,MAAM/D,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQP,EAAImE,GAAG,8BAA8Be,YAAYlF,EAAImF,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAClgE,IAAIC,EAAMD,EAAIC,IACd,MAAO,CAACvF,EAAIa,GAAG,IAAIb,EAAIc,GAAGd,EAAIwF,GAAG,iBAAPxF,CAAyBuF,EAAIE,SAASC,oBAAoB,YAAYtF,EAAG,sBAAsB,CAACG,MAAM,CAAC,QAAUP,EAAI2F,WAAW,MAAQ3F,EAAImE,GAAG,wBAAwB,IAAM,OAAO,GAAG/D,EAAG,WAAW,CAACG,MAAM,CAAC,UAAYP,EAAI4F,OAAOzE,WAAWT,GAAG,CAAC,WAAaV,EAAI6F,iBAAiB,IAAI,GAAGzF,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQP,EAAImE,GAAG,wCAAwC,KAAO,kBAAkB,CAAC/D,EAAG,UAAU,CAAC,CAACA,EAAG,kBAAkB,CAACA,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,SAASG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAI8F,iBAAiB,CAAC9F,EAAIa,GAAGb,EAAIc,GAAGd,EAAImE,GAAG,6BAA6B/D,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,QAAQ,SAAWP,EAAI+F,eAAejE,OAAS,GAAGpB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAI8E,cAAc,YAAY,CAAC9E,EAAIa,GAAGb,EAAIc,GAAGd,EAAImE,GAAG,8BAA8B,IAAI/D,EAAG,gBAAgB,CAAC2E,WAAW,CAAC,CAACvF,KAAK,UAAUwF,QAAQ,YAAYT,MAAOvE,EAAW,QAAE2E,WAAW,YAAYrE,YAAY,CAAC,aAAa,QAAQC,MAAM,CAAC,QAAUP,EAAI+F,eAAe,KAAO/F,EAAIgG,mBAAmBtF,GAAG,CAAC,iBAAiB,SAASC,GAAQX,EAAI+F,eAAepF,KAAU,CAACP,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,YAAY,IAAM,MAAMH,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQP,EAAImE,GAAG,sBAAsB,YAAY,MAAM,KAAO,gBAAgB,IAAM,MAAM/D,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQP,EAAImE,GAAG,4CAA4C,YAAY,MAAM,KAAO,cAAc,IAAM,MAAM/D,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQP,EAAImE,GAAG,yCAAyC,YAAY,MAAM,KAAO,gBAAgB,IAAM,MAAM/D,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQP,EAAImE,GAAG,8CAA8C,YAAY,MAAM,KAAO,oBAAoB,IAAM,MAAM/D,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQP,EAAImE,GAAG,8BAA8Be,YAAYlF,EAAImF,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAC7wD,IAAIC,EAAMD,EAAIC,IACd,MAAO,CAACvF,EAAIa,GAAG,IAAIb,EAAIc,GAAGd,EAAIwF,GAAG,iBAAPxF,CAAyBuF,EAAIE,SAASC,oBAAoB,YAAYtF,EAAG,sBAAsB,CAACG,MAAM,CAAC,QAAUP,EAAIiG,cAAc,MAAQjG,EAAImE,GAAG,wBAAwB,IAAM,OAAO,GAAG/D,EAAG,WAAW,CAACG,MAAM,CAAC,UAAYP,EAAIkG,UAAU/E,WAAWT,GAAG,CAAC,WAAaV,EAAImG,oBAAoB,IAAI,GAAG/F,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQP,EAAImE,GAAG,sCAAsC,KAAO,gBAAgB,CAAC/D,EAAG,UAAU,CAAC,CAACA,EAAG,kBAAkB,CAACA,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,QAAQ,SAA4B,KAAjBP,EAAIkE,UAAiBxD,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAIoG,uBAAuB,CAACpG,EAAIa,GAAGb,EAAIc,GAAGd,EAAImE,GAAG,6BAA6B/D,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,QAAQ,SAAWP,EAAIqG,qBAAqBvE,OAAS,GAAGpB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAIsG,YAAY,CAACtG,EAAIa,GAAGb,EAAIc,GAAGd,EAAImE,GAAG,2BAA2B/D,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,QAAQ,SAAWP,EAAIqG,qBAAqBvE,OAAS,GAAGpB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAI8E,cAAc,kBAAkB,CAAC9E,EAAIa,GAAGb,EAAIc,GAAGd,EAAImE,GAAG,8BAA8B,IAAI/D,EAAG,gBAAgB,CAAC2E,WAAW,CAAC,CAACvF,KAAK,UAAUwF,QAAQ,YAAYT,MAAOvE,EAAW,QAAE2E,WAAW,YAAYrE,YAAY,CAAC,aAAa,QAAQC,MAAM,CAAC,QAAUP,EAAIqG,qBAAqB,KAAOrG,EAAIuG,kBAAkB7F,GAAG,CAAC,iBAAiB,SAASC,GAAQX,EAAIqG,qBAAqB1F,KAAU,CAACP,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,YAAY,IAAM,MAAMH,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQP,EAAImE,GAAG,sBAAsB,YAAY,MAAM,KAAO,OAAO,IAAM,MAAM/D,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQP,EAAImE,GAAG,sBAAsB,YAAY,MAAM,KAAO,OAAO,IAAM,MAAM/D,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQP,EAAImE,GAAG,wBAAwB,YAAY,MAAM,KAAO,SAAS,IAAM,IAAIe,YAAYlF,EAAImF,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAC5uD,IAAIC,EAAMD,EAAIC,IACd,MAAO,CAAiB,iBAAfA,EAAIiB,OAA2BpG,EAAG,MAAM,CAACA,EAAG,IAAI,CAACqG,YAAY,oBAAoBzG,EAAIa,GAAG,UAAUT,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,QAAQG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAI0G,UAAUnB,MAAQ,CAACvF,EAAIa,GAAG,IAAIb,EAAIc,GAAGd,EAAImE,GAAG,oCAAoC,GAAGnE,EAAIoE,KAAqB,gBAAfmB,EAAIiB,OAA0BpG,EAAG,MAAM,CAACA,EAAG,IAAI,CAACqG,YAAY,oBAAoBzG,EAAIa,GAAG,UAAUT,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,QAAQG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAI0G,UAAUnB,MAAQ,CAACvF,EAAIa,GAAG,IAAIb,EAAIc,GAAGd,EAAImE,GAAG,mCAAmC,GAAGnE,EAAIoE,KAAqB,WAAfmB,EAAIiB,OAAqBpG,EAAG,MAAM,CAACA,EAAG,OAAO,CAACqG,YAAY,qBAAqBnG,YAAY,CAAC,MAAQ,aAAaN,EAAIa,GAAG,WAAWT,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,QAAQG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAI2G,aAAapB,MAAQ,CAACvF,EAAIa,GAAGb,EAAIc,GAAGd,EAAImE,GAAG,8BAA8B,GAAGnE,EAAIoE,KAAoB,WAAdmB,EAAIiB,OAAqBpG,EAAG,MAAM,CAACA,EAAG,OAAO,CAACqG,YAAY,sBAAsBnG,YAAY,CAAC,MAAQ,aAAaN,EAAIa,GAAG,IAAIb,EAAIc,GAAGd,EAAImE,GAAG,2BAA2B,OAAOnE,EAAIoE,KAAoB,YAAdmB,EAAIiB,OAAsBpG,EAAG,MAAM,CAACA,EAAG,OAAO,CAACqG,YAAY,qBAAqBnG,YAAY,CAAC,MAAQ,aAAaN,EAAIa,GAAG,IAAIb,EAAIc,GAAGd,EAAImE,GAAG,6BAA6B,OAAOnE,EAAIoE,KAAqB,kBAAfmB,EAAIiB,OAA4BpG,EAAG,MAAM,CAACA,EAAG,IAAI,CAACqG,YAAY,oBAAoBzG,EAAIa,GAAG,UAAUT,EAAG,OAAO,CAACJ,EAAIa,GAAGb,EAAIc,GAAGd,EAAImE,GAAG,sCAAsCnE,EAAIoE,KAAqB,aAAfmB,EAAIiB,OAAuBpG,EAAG,MAAM,CAACA,EAAG,IAAI,CAACqG,YAAY,oBAAoBzG,EAAIa,GAAG,UAAUT,EAAG,OAAO,CAACJ,EAAIa,GAAGb,EAAIc,GAAGd,EAAImE,GAAG,iCAAiCnE,EAAIoE,KAAqB,YAAfmB,EAAIiB,OAAsBpG,EAAG,MAAM,CAACA,EAAG,IAAI,CAACqG,YAAY,oBAAoBzG,EAAIa,GAAG,UAAUT,EAAG,OAAO,CAACJ,EAAIa,GAAGb,EAAIc,GAAGd,EAAImE,GAAG,gCAAgCnE,EAAIoE,YAAYhE,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQP,EAAImE,GAAG,8BAA8Be,YAAYlF,EAAImF,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GACpzD,IAAIC,EAAMD,EAAIC,IACd,MAAO,CAACvF,EAAIa,GAAG,IAAIb,EAAIc,GAAGd,EAAIwF,GAAG,iBAAPxF,CAAyBuF,EAAIqB,YAAY,YAAYxG,EAAG,sBAAsB,CAACG,MAAM,CAAC,QAAUP,EAAI6G,oBAAoB,MAAQ7G,EAAImE,GAAG,wBAAwB,IAAM,OAAO,IAAI,IAAI,IAAI,IAAI,GAAG/D,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQP,EAAImE,GAAG,uBAAuB,MAAQ,MAAM,QAAUnE,EAAI8G,mBAAmBpG,GAAG,CAAC,iBAAiB,SAASC,GAAQX,EAAI8G,kBAAkBnG,KAAU,CAACP,EAAG,OAAO,CAACJ,EAAIa,GAAGb,EAAIc,GAAGd,EAAImE,GAAG,sDAAsDnE,EAAI+G,GAAI/G,EAAwB,sBAAE,SAASgH,GAAK,OAAO5G,EAAG,KAAK,CAACgF,IAAI4B,EAAIxH,KAAKc,YAAY,CAAC,cAAc,OAAO,CAACF,EAAG,KAAK,CAACJ,EAAIa,GAAGb,EAAIc,GAAGkG,EAAIxH,MAAM,KAAKQ,EAAIc,GAAGkG,EAAIC,MAAM,YAAW7G,EAAG,MAAM,CAACqG,YAAY,gBAAgBlG,MAAM,CAAC,KAAO,UAAU2G,KAAK,UAAU,CAAC9G,EAAG,YAAY,CAACM,GAAG,CAAC,MAAQ,SAASC,GAAQX,EAAI8G,mBAAoB,KAAS,CAAC9G,EAAIa,GAAGb,EAAIc,GAAGd,EAAImE,GAAG,6BAA6B/D,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAImH,gBAAgB,CAACnH,EAAIa,GAAGb,EAAIc,GAAGd,EAAImE,GAAG,0BAA0B,IAAI,GAAG/D,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQP,EAAImE,GAAG,iCAAiC,MAAQ,MAAM,QAAUnE,EAAIoH,oBAAoB1G,GAAG,CAAC,iBAAiB,SAASC,GAAQX,EAAIoH,mBAAmBzG,KAAU,CAACP,EAAG,MAAM,CAACE,YAAY,CAAC,OAAS,WAAW,CAACF,EAAG,OAAO,CAACE,YAAY,CAAC,cAAc,SAAS,CAACN,EAAIa,GAAGb,EAAIc,GAAGd,EAAIwF,GAAG,cAAPxF,CAAsBA,EAAIqH,cAAcjH,EAAG,MAAM,CAACqG,YAAY,gBAAgBlG,MAAM,CAAC,KAAO,UAAU2G,KAAK,UAAU,CAAC9G,EAAG,YAAY,CAACM,GAAG,CAAC,MAAQ,SAASC,GAAQX,EAAIoH,oBAAqB,KAAS,CAACpH,EAAIa,GAAGb,EAAIc,GAAGd,EAAImE,GAAG,8BAA8B,MAAM,IAC/hDlD,EAAkB,G,sGCuItB,GACEzB,KAAM,iBACN8H,WAAY,CAAd,oCACEtI,KAHF,WAGA,WACI,MAAO,CACL2G,WAAY,CAClB,CACQ,MAAR,iCACQ,KAAR,iBACQ,MAAR,YACU,EAAV,uBAIMM,cAAe,CACrB,CACQ,MAAR,iCACQ,KAAR,iBACQ,MAAR,YACU,EAAV,0BAIMY,oBAAqB,CAC3B,CACQ,MAAR,iCACQ,KAAR,iBACQ,MAAR,YACU,EAAV,8BAEQ,SAAR,YACU,MAAV,oEAIMjB,OAAQ,CACN1G,cAAe,GACfiC,UAAW,IAEb+E,UAAW,CACThH,cAAe,GACfiC,UAAW,IAEb+C,SAAU,KACVqD,SAAS,EACThB,iBAAkB,GAClBtB,QAAS,GACTe,kBAAmB,GACnB7H,YAAa,GACb0G,YAAa,GACbkB,eAAgB,GAChBM,qBAAsB,GACtBmB,qBAAqB,EACrBV,mBAAmB,EACnBM,oBAAoB,EACpBC,OAAQ,GACR3C,WAAY,KACZ+C,MAAO,KAGX5F,QAAS,CACP6F,OADJ,WACA,WACMzH,KAAKsH,SAAU,EACS,OAApBtH,KAAKyE,WACP,OAAR,OAAQ,CAAR,4CACA,kBACU,EAAV,WACU,EAAV,gBACU,EAAV,qEAEA,kBACU,EAAV,cAEA,kCACQ,OAAR,OAAQ,CAAR,kDACA,kBACU,EAAV,WACU,EAAV,0BACU,EAAV,wEAEA,kBACU,EAAV,cAEA,iCACQ,OAAR,OAAQ,CAAR,kBACA,kBACU,EAAV,WACU,EAAV,sBAEA,kBACU,EAAV,eAIIiD,WAlCJ,WAkCA,WACM,OAAN,OAAM,CAAN,oCACQ,EAAR,6BAGIhB,aAvCJ,SAuCA,GACM1G,KAAKmH,oBAAqB,EAC1BnH,KAAKoH,OAAS9B,EAAIqC,SAEpBzB,gBA3CJ,SA2CA,GACMlG,KAAKiG,UAAUhH,cAAgBA,EAAc2I,MAC7C5H,KAAKyH,UAEP7B,aA/CJ,SA+CA,GACM5F,KAAK2F,OAAO1G,cAAgBA,EAAc2I,MAC1C5H,KAAKyH,UAEPrD,YAnDJ,WAoDMyD,aAAaC,QAAQ,sBAAuB9H,KAAKyE,YACjDzE,KAAKyH,UAEP9C,SAvDJ,WAwDM3E,KAAK+H,QAAQ/F,KAAK,CAAxB,iCAEI6D,YA1DJ,WA2DM7F,KAAK+H,QAAQ/F,KAAK,CAAxB,oCAEImE,kBA7DJ,WA8DMnG,KAAK+H,QAAQ/F,KAAK,CAAxB,wCAEIgG,SAhEJ,SAgEA,kBACUC,EACFjI,KAAKkI,aAAa5C,EAAK0B,GAEvBhH,KAAKmI,SAASnI,KAAKkE,GAAG,kCAAmClE,KAAKkE,GAAG,yBAA0B,CACzFkE,kBAAmBpI,KAAKkE,GAAG,qBAC3BmE,iBAAkBrI,KAAKkE,GAAG,yBAC1B8C,KAAM,YAChB,iBACU,EAAV,uBACU,EAAV,sBAIIkB,aA9EJ,SA8EA,gBACM,OAAQlB,GACN,IAAK,cACH,OAAV,OAAU,CAAV,oCACY,IADZ,EACA,KADA,iBAEA,SAFA,IAEA,0CACA,2BACA,KACA,QALA,8BAQgBsB,EACF,EAAd,oFAEc,OAAd,OAAc,CAAd,kCACgB,EAAhB,kEACgB,EAAhB,eAIU,MACF,IAAK,QACH,GAAwB,4BAApBhD,EAAIiD,YAA2C,CACjD,IAAZ,+BACA,0BACY,OAAZ,OAAY,CAAZ,uCACc,EAAd,qCAGYvI,KAAKwI,YAAYlD,EAAIE,SAASjG,MAEhC,MACF,IAAK,KACH,OAAV,OAAU,CAAV,mDACY,EAAZ,kEACY,EAAZ,YAEU,QAGNsF,cAtHJ,SAsHA,cACM7E,KAAKmI,SAASnI,KAAKkE,GAAG,kCAAmClE,KAAKkE,GAAG,yBAA0B,CACzFkE,kBAAmBpI,KAAKkE,GAAG,qBAC3BmE,iBAAkBrI,KAAKkE,GAAG,yBAC1B8C,KAAM,YACd,iBACQ,OAAQA,GACN,IAAK,KACH,EAAZ,iCACc,EAAd,uBAEY,MACF,IAAK,QACH,EAAZ,oCACc,EAAd,0BAEY,MACF,IAAK,cACH,EAAZ,0CACc,EAAd,gCAEY,WAIRwB,YA/IJ,SA+IA,cACM,OAAN,OAAM,CAAN,qCACQ,EAAR,kEACQ,EAAR,aAGI/B,UArJJ,SAqJA,GACM,OAAN,OAAM,CAAN,wBAEIJ,OAxJJ,WAyJMrG,KAAK6G,mBAAoB,GAE3BK,WA3JJ,WA2JA,WACM,OAAN,OAAM,CAAN,4CACA,iBACQ,EAAR,SACQ,EAAR,UAAU,KAAV,UAAU,QAAV,wDACQ,EAAR,qBACQ,EAAR,2BAEA,kBACQ,EAAR,4BAGIuB,QAvKJ,WAuKA,WACMzI,KAAKwH,MAAQkB,aAAY,WACvB,IADR,EACA,KACA,sEAFA,iBAGA,oBAHA,IAGA,0CACA,6BACA,KACA,QANA,8BASYC,GACF,OAAV,OAAU,CAAV,iCACY,EAAZ,wBAGA,OAGEC,QArPF,WAsPI5I,KAAK9B,YAAc8B,KAAK6I,OAAOC,OAAOvJ,KAClCsI,aAAakB,QAAQ,yBACvB/I,KAAKyE,WAAaoD,aAAakB,QAAQ,wBAEzC/I,KAAK0H,aACL1H,KAAKyH,SACLzH,KAAKyI,WAEPO,UA9PF,WA+PIC,cAAcjJ,KAAKwH,SC/Yyc,I,YCO5dvF,EAAY,eACd,EACAnC,EACAkB,GACA,EACA,KACA,WACA,MAIa,aAAAiB,E","file":"js/chunk-25abf9a1.0e9f92fc.js","sourcesContent":["import {get, post, del} from \"@/plugins/request\"\n\nconst proxyUrl = \"/proxy/kubernetes/{cluster_name}/{resource_url}\"\nconst limit = 10\n\nconst persistentVolumesUrl = \"api/v1/persistentvolumes\"\nconst storageClassUrl = \"apis/storage.k8s.io/v1/storageclasses\"\nconst persistentVolumeClaimsUrl = \"api/v1/persistentvolumeclaims\"\nconst namespacePersistentVolumeClaimsUrl = \"api/v1/namespaces/{namespace}/deployments\"\nconst persistentVolumesOpUrl = \"api/v1/persistentvolumes/{name}\"\nconst storageClassOpUrl = \"apis/storage.k8s.io/v1/storageclasses/{name}\"\n\nconst provisionerUrl = \"/api/v1/clusters/provisioner/{cluster_name}\"\nconst secretUrl = \"api/v1/namespaces/{namespace}/secrets\"\n\nexport function listProvisioner(clusterName) {\n  return get(provisionerUrl.replace(\"{cluster_name}\", clusterName))\n}\n\nexport function createProvisioner(clusterName, item) {\n  return post(provisionerUrl.replace(\"{cluster_name}\", clusterName), item)\n}\n\nexport function syncProvisioner(clusterName, hosts) {\n  const syncUrl = \"/api/v1/clusters/provisioner/sync/{cluster_name}\"\n  const url = syncUrl.replace(\"{cluster_name}\", clusterName)\n  return post(url, hosts)\n}\n\nexport function deleteProvisioner(clusterName, item) {\n  const deleteUrl = \"/api/v1/clusters/provisioner/delete/{cluster_name}\"\n  const url = deleteUrl.replace(\"{cluster_name}\", clusterName)\n  return post(url, item)\n}\n\nexport function createPersistentVolume(clusterName, data) {\n  const url = proxyUrl.replace(\"{cluster_name}\", clusterName).replace(\"{resource_url}\", persistentVolumesUrl)\n  return post(url, data)\n}\n\nexport function listPersistentVolumes(clusterName, continueToken) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName).replace(\"{resource_url}\", persistentVolumesUrl)\n  url += \"?limit=\" + limit\n  if (continueToken !== undefined && continueToken !== null) {\n    url += \"&continue=\" + continueToken\n  }\n  return get(url)\n}\n\nexport function listStorageClass(clusterName, continueToken, all) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName).replace(\"{resource_url}\", storageClassUrl)\n  if (!all) {\n    url += \"?limit=\" + limit\n  }\n  if (continueToken !== undefined && continueToken !== null) {\n    url += \"&continue=\" + continueToken\n  }\n  return get(url)\n}\n\nexport function createStorageClass(clusterName, data) {\n  const url = proxyUrl.replace(\"{cluster_name}\", clusterName).replace(\"{resource_url}\", storageClassUrl)\n  return post(url, data)\n}\n\nexport function listPersistentVolumeClaims(clusterName, continueToken, namespace) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName)\n  url += \"?limit=\" + limit\n  if (continueToken !== undefined && continueToken !== null) {\n    url += \"&continue=\" + continueToken\n  }\n  if (namespace !== undefined && namespace !== null) {\n    url = url.replace(\"{resource_url}\", namespacePersistentVolumeClaimsUrl).replace(\"{namespace}\", namespace)\n  } else {\n    url = url.replace(\"{resource_url}\", persistentVolumeClaimsUrl)\n  }\n  return get(url)\n}\n\nexport function deleteStorageClass(clusterName, name) {\n  const url = proxyUrl.replace(\"{cluster_name}\", clusterName).replace(\"{resource_url}\", storageClassOpUrl).replace(\"{name}\", name)\n  return del(url)\n}\n\nexport function deletePersistentVolume(clusterName, name) {\n  const url = proxyUrl.replace(\"{cluster_name}\", clusterName).replace(\"{resource_url}\", persistentVolumesOpUrl).replace(\"{name}\", name)\n  return del(url)\n}\n\nexport function createSecret(clusterName,namespace, item) {\n  const url = proxyUrl.replace(\"{cluster_name}\", clusterName).replace(\"{resource_url}\", secretUrl.replace(\"{namespace}\", namespace))\n  return post(url, item)\n}\n\nexport function getSecretByName(clusterName, secretsName, namespace) {\n  const url = proxyUrl.replace(\"{cluster_name}\", clusterName).replace(\"{resource_url}\", secretUrl.replace(\"{namespace}\", namespace) + \"/\" + secretsName)\n  return get(url)\n}\n\nexport function deleteSecret(clusterName, namespace, secretsName) {\n  const url = proxyUrl.replace(\"{cluster_name}\", clusterName).replace(\"{resource_url}\", secretUrl.replace(\"{namespace}\", namespace) + \"/\" + secretsName)\n  return del(url)\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"disabled\":!_vm.ko_nextToken || _vm.ko_btnLoading,\"size\":\"mini\",\"icon\":\"el-icon-caret-right\"},on:{\"click\":function($event){return _vm.getPageNext()}}}),_c('span',{staticStyle:{\"float\":\"right\",\"margin-top\":\"7px\"}},[_vm._v(_vm._s(_vm.ko_currentPage))]),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"disabled\":_vm.ko_currentPage===1 || _vm.ko_btnLoading,\"size\":\"mini\",\"icon\":\"el-icon-caret-left\"},on:{\"click\":function($event){return _vm.getPageAhead()}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-button :disabled=\"!ko_nextToken || ko_btnLoading\" size=\"mini\" style=\"float:right\" icon=\"el-icon-caret-right\" @click=\"getPageNext()\"></el-button>\n    <span style=\"float:right; margin-top: 7px\">{{ko_currentPage}}</span>\n    <el-button :disabled=\"ko_currentPage===1 || ko_btnLoading\" size=\"mini\" style=\"float:right\" icon=\"el-icon-caret-left\" @click=\"getPageAhead()\"></el-button>\n  </div>\n</template>\n          \n<script>\nexport default {\n  name: \"K8sPage\",\n  props: {\n    nextToken: String,\n    currentPage: Number,\n  },\n  watch: {\n    nextToken: {\n      handler(newName) {\n        this.ko_nextToken = newName\n      },\n      immediate: true,\n    },\n    currentPage: {\n      handler(newName) {\n        this.ko_currentPage = newName ? newName : this.ko_currentPage\n      },\n      immediate: true,\n    },\n  },\n  data() {\n    return {\n      ko_aheadToken: [],\n      ko_continueToken: \"\",\n      ko_nextToken: \"\",\n      ko_currentPage: 1,\n      ko_btnLoading: false,\n    }\n  },\n  methods: {\n    getPageAhead() {\n      this.ko_btnLoading = true\n      this.ko_currentPage--\n      this.ko_continueToken = this.ko_aheadToken[this.ko_aheadToken.length - 1]\n      this.ko_aheadToken.pop()\n      this.$emit(\"pageChange\", {token: this.ko_continueToken, page: this.ko_currentPage})\n      this.ko_btnLoading = false\n    },\n    getPageNext() {\n      this.ko_currentPage++\n      this.ko_aheadToken.push(this.ko_continueToken)\n      this.ko_continueToken = this.ko_nextToken\n      this.$emit(\"pageChange\", {token: this.ko_continueToken, page: this.ko_currentPage})\n    },\n  },\n}\n</script>\n          \n<style>\n</style>","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2f8a55d4&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {get, post, del} from \"@/plugins/request\"\n\nconst clusterUrl = \"/api/v1/clusters\"\nconst clusterLoggerUrl = \"/api/v1/clusters/logger/{cluster_name}\"\nconst clusterNodeLoggerUrl = \"/api/v1/clusters/node/logger/{cluster_name}/{node_name}\"\nconst storageProvisionerLoggerUrl = \"/api/v1/clusters/provisioner/log/{cluster_name}/{log_id}\"\n\nexport function getClusterByName(clusterName) {\n  return get(`${clusterUrl}/${clusterName}`)\n}\n\nexport function getClusterByProject(projectNames) {\n  return get(`${clusterUrl}/name/${projectNames}`)\n}\n\nexport function checkClusterNameExistence(clusterName) {\n  return get(`${clusterUrl}/existence/${clusterName}`)\n}\n\nexport function listClusters(page, size) {\n  return get(`${clusterUrl}?pageNum=${page}&pageSize=${size}`)\n}\n\nexport function searchClusters(page, size, condition) {\n  return post(`${clusterUrl}/search?pageNum=${page}&pageSize=${size}`, condition)\n}\n\nexport function createCluster(data) {\n  return post(`${clusterUrl}`, data)\n}\n\nexport function healthCheck(clusterName) {\n  return get(`${clusterUrl}/health/${clusterName}`)\n}\n\nexport function clusterRecover(clusterName) {\n  return post(`${clusterUrl}/recover/${clusterName}`, {})\n}\n\nexport function deleteCluster(clusterName, force) {\n  return del(`${clusterUrl}/${clusterName}?force=${force}`)\n}\n\nexport function importCluster(data) {\n  return post(`${clusterUrl}/import/`, data)\n}\n\nexport function allClusters() {\n  return get(`${clusterUrl}`)\n}\n\nexport function initCluster(clusterName) {\n  return post(`${clusterUrl}/init/${clusterName}/`, {})\n}\n\nexport function upgradeCluster(clusterName, version) {\n  let req = {\n    clusterName: clusterName,\n    version: version,\n  }\n  return post(`${clusterUrl}/upgrade/`, req)\n}\n\nexport function getClusterStatus(clusterName) {\n  return get(`${clusterUrl}/status/${clusterName}`)\n}\n\nexport function getClusterLog(clusterName) {\n  return get(clusterLoggerUrl.replace(\"{cluster_name}\", clusterName))\n}\n\nexport function getClusterNodeLog(clusterName, nodeName) {\n  return get(clusterNodeLoggerUrl.replace(\"{cluster_name}\", clusterName).replace(\"{node_name}\", nodeName))\n}\n\nexport function getProvisionerLog(clusterName, logId) {\n  return get(storageProvisionerLoggerUrl.replace(\"{cluster_name}\", clusterName).replace(\"{log_id}\", logId))\n}\n\nexport function openLogger(clusterName) {\n  window.open(`/ui/#/logger?clusterName=${clusterName}`, \"_blank\", \"height=865, width=800, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, resizable=yes,location=no, status=no\")\n}\n\nexport function openProvisionerLogger(clusterName, logId) {\n  window.open(`/ui/#/logger?clusterName=${clusterName}&logId=${logId}`, \"_blank\", \"height=865, width=800, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, resizable=yes,location=no, status=no\")\n}\n\nexport function getSecret(clusterName) {\n  return get(`${clusterUrl}/secret/${clusterName}`)\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.provider === '')?_c('el-alert',{attrs:{\"title\":_vm.$t('cluster.detail.storage.operator_help'),\"type\":\"info\"}}):_vm._e(),_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[_c('el-tabs',{staticStyle:{\"margin-bottom\":\"30px\"},attrs:{\"tab-position\":\"left\"},on:{\"tab-click\":function($event){return _vm.handleClick()}},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":_vm.$t('cluster.detail.storage.pv'),\"name\":\"pv\"}},[_c('el-card',[[_c('el-button-group',[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.pvCreate()}}},[_vm._v(_vm._s(_vm.$t('commons.button.create')))]),_c('el-button',{attrs:{\"size\":\"small\",\"disabled\":_vm.pvSelection.length < 1},on:{\"click\":function($event){return _vm.onBatchDelete('pv')}}},[_vm._v(_vm._s(_vm.$t('commons.button.delete')))])],1)],_c('complex-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"margin-top\":\"20px\"},attrs:{\"selects\":_vm.pvSelection,\"data\":_vm.pvDatas},on:{\"update:selects\":function($event){_vm.pvSelection=$event}}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"fix\":\"\"}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('commons.table.name'),\"min-width\":\"100\",\"prop\":\"metadata.name\",\"fix\":\"\"}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('cluster.detail.storage.capacity'),\"min-width\":\"100\",\"prop\":\"spec.capacity.storage\",\"fix\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"Access Modes\",\"min-width\":\"100\",\"prop\":\"spec.accessModes\",\"fix\":\"\"}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('cluster.detail.storage.source'),\"min-width\":\"100\",\"prop\":\"spec.storageClassName\",\"fix\":\"\"}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('commons.table.status'),\"min-width\":\"100\",\"prop\":\"status.phase\",\"fix\":\"\"}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('commons.table.create_time')},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(_vm._f(\"datetimeFormat\")(row.metadata.creationTimestamp))+\" \")]}}])}),_c('fu-table-operations',{attrs:{\"buttons\":_vm.buttons_pv,\"label\":_vm.$t('commons.table.action'),\"fix\":\"\"}})],1),_c('k8s-page',{attrs:{\"nextToken\":_vm.pvPage.nextToken},on:{\"pageChange\":_vm.pvPageChange}})],2)],1),_c('el-tab-pane',{attrs:{\"label\":_vm.$t('cluster.detail.storage.storage_class'),\"name\":\"storage_class\"}},[_c('el-card',[[_c('el-button-group',[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.classCreate()}}},[_vm._v(_vm._s(_vm.$t('commons.button.create')))]),_c('el-button',{attrs:{\"size\":\"small\",\"disabled\":_vm.classSelection.length < 1},on:{\"click\":function($event){return _vm.onBatchDelete('class')}}},[_vm._v(_vm._s(_vm.$t('commons.button.delete')))])],1)],_c('complex-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"margin-top\":\"20px\"},attrs:{\"selects\":_vm.classSelection,\"data\":_vm.storageClassDatas},on:{\"update:selects\":function($event){_vm.classSelection=$event}}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"fix\":\"\"}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('commons.table.name'),\"min-width\":\"100\",\"prop\":\"metadata.name\",\"fix\":\"\"}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('cluster.detail.storage.provisioner_short'),\"min-width\":\"100\",\"prop\":\"provisioner\",\"fix\":\"\"}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('cluster.detail.storage.reclaim_policy'),\"min-width\":\"100\",\"prop\":\"reclaimPolicy\",\"fix\":\"\"}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('cluster.detail.storage.volume_binding_mode'),\"min-width\":\"100\",\"prop\":\"volumeBindingMode\",\"fix\":\"\"}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('commons.table.create_time')},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(_vm._f(\"datetimeFormat\")(row.metadata.creationTimestamp))+\" \")]}}])}),_c('fu-table-operations',{attrs:{\"buttons\":_vm.buttons_class,\"label\":_vm.$t('commons.table.action'),\"fix\":\"\"}})],1),_c('k8s-page',{attrs:{\"nextToken\":_vm.classPage.nextToken},on:{\"pageChange\":_vm.classPageChange}})],2)],1),_c('el-tab-pane',{attrs:{\"label\":_vm.$t('cluster.detail.storage.provisioner'),\"name\":\"provisioner\"}},[_c('el-card',[[_c('el-button-group',[_c('el-button',{attrs:{\"size\":\"small\",\"disabled\":_vm.provider === ''},on:{\"click\":function($event){return _vm.provisionerCreate()}}},[_vm._v(_vm._s(_vm.$t('commons.button.create')))]),_c('el-button',{attrs:{\"size\":\"small\",\"disabled\":_vm.provisionerSelection.length < 1},on:{\"click\":function($event){return _vm.onSync()}}},[_vm._v(_vm._s(_vm.$t('commons.button.sync')))]),_c('el-button',{attrs:{\"size\":\"small\",\"disabled\":_vm.provisionerSelection.length < 1},on:{\"click\":function($event){return _vm.onBatchDelete('provisioner')}}},[_vm._v(_vm._s(_vm.$t('commons.button.delete')))])],1)],_c('complex-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"margin-top\":\"20px\"},attrs:{\"selects\":_vm.provisionerSelection,\"data\":_vm.provisionerDatas},on:{\"update:selects\":function($event){_vm.provisionerSelection=$event}}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"fix\":\"\"}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('commons.table.name'),\"min-width\":\"100\",\"prop\":\"name\",\"fix\":\"\"}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('commons.table.type'),\"min-width\":\"100\",\"prop\":\"type\",\"fix\":\"\"}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('commons.table.status'),\"min-width\":\"100\",\"prop\":\"status\",\"fix\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [(row.status === 'Initializing')?_c('div',[_c('i',{staticClass:\"el-icon-loading\"}),_vm._v(\"      \"),_c('el-link',{attrs:{\"type\":\"info\"},on:{\"click\":function($event){return _vm.openXterm(row)}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"commons.status.initializing\")))])],1):_vm._e(),(row.status === 'Terminating')?_c('div',[_c('i',{staticClass:\"el-icon-loading\"}),_vm._v(\"      \"),_c('el-link',{attrs:{\"type\":\"info\"},on:{\"click\":function($event){return _vm.openXterm(row)}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"commons.status.terminating\")))])],1):_vm._e(),(row.status === 'Failed')?_c('div',[_c('span',{staticClass:\"iconfont iconerror\",staticStyle:{\"color\":\"#FA4147\"}}),_vm._v(\"       \"),_c('el-link',{attrs:{\"type\":\"info\"},on:{\"click\":function($event){return _vm.getErrorInfo(row)}}},[_vm._v(_vm._s(_vm.$t(\"commons.status.failed\")))])],1):_vm._e(),(row.status == 'Running')?_c('div',[_c('span',{staticClass:\"iconfont iconduihao\",staticStyle:{\"color\":\"#32B350\"}}),_vm._v(\" \"+_vm._s(_vm.$t(\"commons.status.running\"))+\" \")]):_vm._e(),(row.status == 'NotReady')?_c('div',[_c('span',{staticClass:\"iconfont iconerror\",staticStyle:{\"color\":\"#FA4147\"}}),_vm._v(\" \"+_vm._s(_vm.$t(\"commons.status.not_ready\"))+\" \")]):_vm._e(),(row.status === 'Synchronizing')?_c('div',[_c('i',{staticClass:\"el-icon-loading\"}),_vm._v(\"      \"),_c('span',[_vm._v(_vm._s(_vm.$t(\"commons.status.synchronizing\")))])]):_vm._e(),(row.status === 'Creating')?_c('div',[_c('i',{staticClass:\"el-icon-loading\"}),_vm._v(\"      \"),_c('span',[_vm._v(_vm._s(_vm.$t(\"commons.status.creating\")))])]):_vm._e(),(row.status === 'Waiting')?_c('div',[_c('i',{staticClass:\"el-icon-loading\"}),_vm._v(\"      \"),_c('span',[_vm._v(_vm._s(_vm.$t(\"commons.status.waiting\")))])]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('commons.table.create_time')},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(_vm._f(\"datetimeFormat\")(row.createdAt))+\" \")]}}])}),_c('fu-table-operations',{attrs:{\"buttons\":_vm.buttons_provisioner,\"label\":_vm.$t('commons.table.action'),\"fix\":\"\"}})],1)],2)],1)],1)],1),_c('el-dialog',{attrs:{\"title\":_vm.$t('commons.button.sync'),\"width\":\"30%\",\"visible\":_vm.dialogSyncVisible},on:{\"update:visible\":function($event){_vm.dialogSyncVisible=$event}}},[_c('span',[_vm._v(_vm._s(_vm.$t('cluster.detail.storage.ensure_provisioner_sync')))]),_vm._l((_vm.provisionerSelection),function(pro){return _c('ul',{key:pro.name,staticStyle:{\"margin-left\":\"5%\"}},[_c('li',[_vm._v(_vm._s(pro.name)+\" (\"+_vm._s(pro.type)+\")\")])])}),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogSyncVisible = false}}},[_vm._v(_vm._s(_vm.$t('commons.button.cancel')))]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitSync()}}},[_vm._v(_vm._s(_vm.$t('commons.button.ok')))])],1)],2),_c('el-dialog',{attrs:{\"title\":_vm.$t('cluster.detail.tool.err_title'),\"width\":\"50%\",\"visible\":_vm.dialogErrorVisible},on:{\"update:visible\":function($event){_vm.dialogErrorVisible=$event}}},[_c('div',{staticStyle:{\"margin\":\"0 50px\"}},[_c('span',{staticStyle:{\"line-height\":\"30px\"}},[_vm._v(_vm._s(_vm._f(\"errorFormat\")(_vm.errMsg)))])]),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogErrorVisible = false}}},[_vm._v(_vm._s(_vm.$t('commons.button.cancel')))])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-alert v-if=\"provider === ''\" :title=\"$t('cluster.detail.storage.operator_help')\" type=\"info\" />\n    <div style=\"margin-top: 20px\">\n      <el-tabs v-model=\"activeName\" tab-position=\"left\" @tab-click=\"handleClick()\" style=\"margin-bottom: 30px;\">\n        <el-tab-pane :label=\"$t('cluster.detail.storage.pv')\" name=\"pv\">\n          <el-card>\n            <template>\n              <el-button-group>\n                <el-button size=\"small\" @click=\"pvCreate()\">{{$t('commons.button.create')}}</el-button>\n                <el-button size=\"small\" :disabled=\"pvSelection.length < 1\" @click=\"onBatchDelete('pv')\">{{$t('commons.button.delete')}}</el-button>\n              </el-button-group>\n            </template>\n            <complex-table style=\"margin-top: 20px\" v-loading=\"loading\" :selects.sync=\"pvSelection\" :data=\"pvDatas\">\n              <el-table-column type=\"selection\" fix></el-table-column>\n              <el-table-column :label=\"$t('commons.table.name')\" min-width=\"100\" prop=\"metadata.name\" fix />\n              <el-table-column :label=\"$t('cluster.detail.storage.capacity')\" min-width=\"100\" prop=\"spec.capacity.storage\" fix />\n              <el-table-column label=\"Access Modes\" min-width=\"100\" prop=\"spec.accessModes\" fix />\n              <el-table-column :label=\"$t('cluster.detail.storage.source')\" min-width=\"100\" prop=\"spec.storageClassName\" fix />\n              <el-table-column :label=\"$t('commons.table.status')\" min-width=\"100\" prop=\"status.phase\" fix />\n              <el-table-column :label=\"$t('commons.table.create_time')\">\n                <template v-slot:default=\"{row}\">\n                  {{ row.metadata.creationTimestamp | datetimeFormat }}\n                </template>\n              </el-table-column>\n              <fu-table-operations :buttons=\"buttons_pv\" :label=\"$t('commons.table.action')\" fix />\n            </complex-table>\n\n            <k8s-page @pageChange=\"pvPageChange\" :nextToken=\"pvPage.nextToken\" />\n          </el-card>\n        </el-tab-pane>\n        <el-tab-pane :label=\"$t('cluster.detail.storage.storage_class')\" name=\"storage_class\">\n          <el-card>\n            <template>\n              <el-button-group>\n                <el-button size=\"small\" @click=\"classCreate()\">{{$t('commons.button.create')}}</el-button>\n                <el-button size=\"small\" :disabled=\"classSelection.length < 1\" @click=\"onBatchDelete('class')\">{{$t('commons.button.delete')}}</el-button>\n              </el-button-group>\n            </template>\n            <complex-table style=\"margin-top: 20px\" v-loading=\"loading\" :selects.sync=\"classSelection\" :data=\"storageClassDatas\">\n              <el-table-column type=\"selection\" fix></el-table-column>\n              <el-table-column :label=\"$t('commons.table.name')\" min-width=\"100\" prop=\"metadata.name\" fix />\n              <el-table-column :label=\"$t('cluster.detail.storage.provisioner_short')\" min-width=\"100\" prop=\"provisioner\" fix />\n              <el-table-column :label=\"$t('cluster.detail.storage.reclaim_policy')\" min-width=\"100\" prop=\"reclaimPolicy\" fix />\n              <el-table-column :label=\"$t('cluster.detail.storage.volume_binding_mode')\" min-width=\"100\" prop=\"volumeBindingMode\" fix />\n              <el-table-column :label=\"$t('commons.table.create_time')\">\n                <template v-slot:default=\"{row}\">\n                  {{ row.metadata.creationTimestamp | datetimeFormat }}\n                </template>\n              </el-table-column>\n              <fu-table-operations :buttons=\"buttons_class\" :label=\"$t('commons.table.action')\" fix />\n            </complex-table>\n\n            <k8s-page @pageChange=\"classPageChange\" :nextToken=\"classPage.nextToken\" />\n          </el-card>\n        </el-tab-pane>\n        <el-tab-pane :label=\"$t('cluster.detail.storage.provisioner')\" name=\"provisioner\">\n          <el-card>\n            <template>\n              <el-button-group>\n                <el-button size=\"small\" :disabled=\"provider === ''\" @click=\"provisionerCreate()\">{{$t('commons.button.create')}}</el-button>\n                <el-button size=\"small\" :disabled=\"provisionerSelection.length < 1\" @click=\"onSync()\">{{$t('commons.button.sync')}}</el-button>\n                <el-button size=\"small\" :disabled=\"provisionerSelection.length < 1\" @click=\"onBatchDelete('provisioner')\">{{$t('commons.button.delete')}}</el-button>\n              </el-button-group>\n            </template>\n            <complex-table style=\"margin-top: 20px\" v-loading=\"loading\" :selects.sync=\"provisionerSelection\" :data=\"provisionerDatas\">\n              <el-table-column type=\"selection\" fix></el-table-column>\n              <el-table-column :label=\"$t('commons.table.name')\" min-width=\"100\" prop=\"name\" fix />\n              <el-table-column :label=\"$t('commons.table.type')\" min-width=\"100\" prop=\"type\" fix />\n              <el-table-column :label=\"$t('commons.table.status')\" min-width=\"100\" prop=\"status\" fix>\n                <template v-slot:default=\"{row}\">\n                  <div v-if=\"row.status === 'Initializing'\">\n                    <i class=\"el-icon-loading\" />&nbsp; &nbsp; &nbsp;\n                    <el-link type=\"info\" @click=\"openXterm(row)\"> {{ $t(\"commons.status.initializing\") }}</el-link>\n                  </div>\n                  <div v-if=\"row.status === 'Terminating'\">\n                    <i class=\"el-icon-loading\" />&nbsp; &nbsp; &nbsp;\n                    <el-link type=\"info\" @click=\"openXterm(row)\"> {{ $t(\"commons.status.terminating\") }}</el-link>\n                  </div>\n                  <div v-if=\"row.status === 'Failed'\">\n                    <span class=\"iconfont iconerror\" style=\"color: #FA4147\"></span> &nbsp; &nbsp; &nbsp;\n                    <el-link type=\"info\" @click=\"getErrorInfo(row)\">{{ $t(\"commons.status.failed\") }}</el-link>\n                  </div>\n                  <div v-if=\"row.status == 'Running'\">\n                    <span class=\"iconfont iconduihao\" style=\"color: #32B350\"></span>\n                    {{ $t(\"commons.status.running\") }}\n                  </div>\n                  <div v-if=\"row.status == 'NotReady'\">\n                    <span class=\"iconfont iconerror\" style=\"color: #FA4147\"></span>\n                    {{ $t(\"commons.status.not_ready\") }}\n                  </div>\n                  <div v-if=\"row.status === 'Synchronizing'\">\n                    <i class=\"el-icon-loading\" />&nbsp; &nbsp; &nbsp;\n                    <span>{{ $t(\"commons.status.synchronizing\") }}</span>\n                  </div>\n                  <div v-if=\"row.status === 'Creating'\">\n                    <i class=\"el-icon-loading\" />&nbsp; &nbsp; &nbsp;\n                    <span>{{ $t(\"commons.status.creating\") }}</span>\n                  </div>\n                  <div v-if=\"row.status === 'Waiting'\">\n                    <i class=\"el-icon-loading\" />&nbsp; &nbsp; &nbsp;\n                    <span>{{ $t(\"commons.status.waiting\") }}</span>\n                  </div>\n                </template>\n              </el-table-column>\n              <el-table-column :label=\"$t('commons.table.create_time')\">\n                <template v-slot:default=\"{row}\">\n                  {{ row.createdAt | datetimeFormat }}\n                </template>\n              </el-table-column>\n              <fu-table-operations :buttons=\"buttons_provisioner\" :label=\"$t('commons.table.action')\" fix />\n            </complex-table>\n          </el-card>\n        </el-tab-pane>\n      </el-tabs>\n    </div>\n\n    <el-dialog :title=\"$t('commons.button.sync')\" width=\"30%\" :visible.sync=\"dialogSyncVisible\">\n      <span>{{$t('cluster.detail.storage.ensure_provisioner_sync')}}</span>\n      <ul style=\"margin-left: 5%;\" :key=\"pro.name\" v-for=\"pro of provisionerSelection\">\n        <li>{{pro.name}} ({{pro.type}})</li>\n      </ul>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogSyncVisible = false\">{{$t('commons.button.cancel')}}</el-button>\n        <el-button type=\"primary\" @click=\"submitSync()\">{{$t('commons.button.ok')}}</el-button>\n      </div>\n    </el-dialog>\n\n    <el-dialog :title=\"$t('cluster.detail.tool.err_title')\" width=\"50%\" :visible.sync=\"dialogErrorVisible\">\n      <div style=\"margin: 0 50px\"><span style=\"line-height: 30px\">{{ errMsg | errorFormat }}</span></div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogErrorVisible = false\">{{$t('commons.button.cancel')}}</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport ComplexTable from \"@/components/complex-table\"\nimport K8sPage from \"@/components/k8s-page\"\nimport { getClusterByName } from \"@/api/cluster\"\nimport { openProvisionerLogger } from \"@/api/cluster\"\nimport { listProvisioner, listPersistentVolumes, listStorageClass, syncProvisioner, deleteProvisioner, deleteSecret, deleteStorageClass, deletePersistentVolume } from \"@/api/cluster/storage\"\n\nexport default {\n  name: \"ClusterStorage\",\n  components: { ComplexTable, K8sPage },\n  data() {\n    return {\n      buttons_pv: [\n        {\n          label: this.$t(\"commons.button.delete\"),\n          icon: \"el-icon-delete\",\n          click: (row) => {\n            this.onDelete(row, \"pv\", false)\n          },\n        },\n      ],\n      buttons_class: [\n        {\n          label: this.$t(\"commons.button.delete\"),\n          icon: \"el-icon-delete\",\n          click: (row) => {\n            this.onDelete(row, \"class\", false)\n          },\n        },\n      ],\n      buttons_provisioner: [\n        {\n          label: this.$t(\"commons.button.delete\"),\n          icon: \"el-icon-delete\",\n          click: (row) => {\n            this.onDelete(row, \"provisioner\", false)\n          },\n          disabled: (row) => {\n            return row.status !== \"Running\" && row.status !== \"Failed\" && row.status !== \"NotReady\"\n          },\n        },\n      ],\n      pvPage: {\n        continueToken: \"\",\n        nextToken: \"\",\n      },\n      classPage: {\n        continueToken: \"\",\n        nextToken: \"\",\n      },\n      provider: null,\n      loading: false,\n      provisionerDatas: [],\n      pvDatas: [],\n      storageClassDatas: [],\n      clusterName: \"\",\n      pvSelection: [],\n      classSelection: [],\n      provisionerSelection: [],\n      dialogDeleteVisible: false,\n      dialogSyncVisible: false,\n      dialogErrorVisible: false,\n      errMsg: \"\",\n      activeName: \"pv\",\n      timer: {},\n    }\n  },\n  methods: {\n    search() {\n      this.loading = true\n      if (this.activeName === \"pv\") {\n        listPersistentVolumes(this.clusterName, this.pvPage.continueToken)\n          .then((data) => {\n            this.loading = false\n            this.pvDatas = data.items\n            this.pvPage.nextToken = data.metadata[\"continue\"] ? data.metadata[\"continue\"] : \"\"\n          })\n          .catch(() => {\n            this.loading = false\n          })\n      } else if (this.activeName === \"storage_class\") {\n        listStorageClass(this.clusterName, this.classPage.continueToken, false)\n          .then((data) => {\n            this.loading = false\n            this.storageClassDatas = data.items\n            this.classPage.nextToken = data.metadata[\"continue\"] ? data.metadata[\"continue\"] : \"\"\n          })\n          .catch(() => {\n            this.loading = false\n          })\n      } else if (this.activeName === \"provisioner\") {\n        listProvisioner(this.clusterName)\n          .then((data) => {\n            this.loading = false\n            this.provisionerDatas = data\n          })\n          .catch(() => {\n            this.loading = false\n          })\n      }\n    },\n    getCluster() {\n      getClusterByName(this.clusterName).then((data) => {\n        this.provider = data.spec.provider\n      })\n    },\n    getErrorInfo(row) {\n      this.dialogErrorVisible = true\n      this.errMsg = row.message\n    },\n    classPageChange(continueToken) {\n      this.classPage.continueToken = continueToken.token\n      this.search()\n    },\n    pvPageChange(continueToken) {\n      this.pvPage.continueToken = continueToken.token\n      this.search()\n    },\n    handleClick() {\n      localStorage.setItem(\"storage_active_name\", this.activeName)\n      this.search()\n    },\n    pvCreate() {\n      this.$router.push({ name: \"ClusterStoragePvCreate\" })\n    },\n    classCreate() {\n      this.$router.push({ name: \"ClusterStorageClassCreate\" })\n    },\n    provisionerCreate() {\n      this.$router.push({ name: \"ClusterStorageProvionerCreate\" })\n    },\n    onDelete(row, type, isBatchDelete) {\n      if (isBatchDelete) {\n        this.submitDelete(row, type)\n      } else {\n        this.$confirm(this.$t(\"commons.confirm_message.delete\"), this.$t(\"commons.button.delete\"), {\n          confirmButtonText: this.$t(\"commons.button.ok\"),\n          cancelButtonText: this.$t(\"commons.button.cancel\"),\n          type: \"warning\",\n        }).then(() => {\n          this.dialogDeleteVisible = false\n          this.submitDelete(row, type)\n        })\n      }\n    },\n    submitDelete(row, type) {\n      switch (type) {\n        case \"provisioner\":\n          listStorageClass(this.clusterName).then((data) => {\n            let isClassExist = false\n            for (let item of data.items) {\n              if (item.provisioner === row.name) {\n                isClassExist = true\n                break\n              }\n            }\n            if (isClassExist) {\n              this.$message({ type: \"error\", message: this.$t(\"cluster.detail.storage.storage_class_exist\") })\n            } else {\n              deleteProvisioner(this.clusterName, row).then(() => {\n                this.$message({ type: \"success\", message: this.$t(\"commons.msg.op_success\") })\n                this.search()\n              })\n            }\n          })\n          break\n        case \"class\":\n          if (row.provisioner === \"kubernetes.io/glusterfs\") {\n            const namespace = row.parameters.secretNamespace\n            const secretName = row.parameters.secretName\n            deleteSecret(this.clusterName, namespace, secretName).then(() => {\n              this.deleteClass(row.metadata.name)\n            })\n          } else {\n            this.deleteClass(row.metadata.name)\n          }\n          break\n        case \"pv\":\n          deletePersistentVolume(this.clusterName, row.metadata.name).then(() => {\n            this.$message({ type: \"success\", message: this.$t(\"commons.msg.op_success\") })\n            this.search()\n          })\n          break\n      }\n    },\n    onBatchDelete(type) {\n      this.$confirm(this.$t(\"commons.confirm_message.delete\"), this.$t(\"commons.button.delete\"), {\n        confirmButtonText: this.$t(\"commons.button.ok\"),\n        cancelButtonText: this.$t(\"commons.button.cancel\"),\n        type: \"warning\",\n      }).then(() => {\n        switch (type) {\n          case \"pv\":\n            this.pvSelection.forEach((item) => {\n              this.onDelete(item, \"pv\", true)\n            })\n            break\n          case \"class\":\n            this.classSelection.forEach((item) => {\n              this.onDelete(item, \"class\", true)\n            })\n            break\n          case \"provisioner\":\n            this.provisionerSelection.forEach((item) => {\n              this.onDelete(item, \"provisioner\", true)\n            })\n            break\n        }\n      })\n    },\n    deleteClass(deleteName) {\n      deleteStorageClass(this.clusterName, deleteName).then(() => {\n        this.$message({ type: \"success\", message: this.$t(\"commons.msg.op_success\") })\n        this.search()\n      })\n    },\n    openXterm(row) {\n      openProvisionerLogger(this.clusterName, row.id)\n    },\n    onSync() {\n      this.dialogSyncVisible = true\n    },\n    submitSync() {\n      syncProvisioner(this.clusterName, this.provisionerSelection)\n        .then(() => {\n          this.search()\n          this.$message({ type: \"success\", message: this.$t(\"cluster.detail.storage.start_provisioner_sync\") })\n          this.dialogSyncVisible = false\n          this.provisionerSelection = []\n        })\n        .catch(() => {\n          this.provisionerSelection = []\n        })\n    },\n    polling() {\n      this.timer = setInterval(() => {\n        let flag = false\n        const needPolling = [\"Initializing\", \"Terminating\", \"Synchronizing\", \"Creating\", \"Waiting\"]\n        for (const item of this.provisionerDatas) {\n          if (needPolling.indexOf(item.status) !== -1) {\n            flag = true\n            break\n          }\n        }\n        if (flag) {\n          listProvisioner(this.clusterName).then((data) => {\n            this.provisionerDatas = data\n          })\n        }\n      }, 10000)\n    },\n  },\n  created() {\n    this.clusterName = this.$route.params.name\n    if (localStorage.getItem(\"storage_active_name\")) {\n      this.activeName = localStorage.getItem(\"storage_active_name\")\n    }\n    this.getCluster()\n    this.search()\n    this.polling()\n  },\n  destroyed() {\n    clearInterval(this.timer)\n  },\n}\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2936b669&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2936b669\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}