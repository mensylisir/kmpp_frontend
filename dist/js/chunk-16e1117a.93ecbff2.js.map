{"version":3,"sources":["webpack:///./src/api/cluster/namespace.js","webpack:///./node_modules/_core-js@3.15.2@core-js/internals/same-value.js","webpack:///./src/api/cluster.js","webpack:///./src/api/cluster/cluster.js","webpack:///./src/business/clusters/detail/overview/index.vue?2b58","webpack:///./src/api/cluster/node.js","webpack:///./node_modules/_core-js@3.15.2@core-js/modules/es.string.search.js","webpack:///./src/business/clusters/detail/overview/index.vue?56b0","webpack:///src/business/clusters/detail/overview/index.vue","webpack:///./src/business/clusters/detail/overview/index.vue?f2ac","webpack:///./src/business/clusters/detail/overview/index.vue"],"names":["proxyUrl","namespaceUrl","namespaceOpUrl","listNamespace","clusterName","url","replace","get","createNamespace","data","post","deleteNamespace","namespace","del","module","exports","Object","is","x","y","clusterUrl","clusterLoggerUrl","storageProvisionerLoggerUrl","getClusterByName","getClusterByProject","projectNames","checkClusterNameExistence","searchClusters","page","size","condition","createCluster","healthCheck","clusterRecover","deleteCluster","force","importCluster","initCluster","upgradeCluster","version","req","getClusterStatus","getClusterLog","getProvisionerLog","logId","openLogger","window","open","openProvisionerLogger","getSecret","deploymentUrl","namespaceDeploymentUrl","podUrl","namespacePodUrl","listDeployment","continueToken","undefined","listPod","getClusterToken","limit","nodesUrl","evictionUrl","nodeStatsSummaryUrl","baseUrl","detailUrl","batchUrl","recreateUrl","listNodesUsage","cordonNode","nodeName","headers","patch","evictionNode","pod","listNodeInDB","listNodeInCluster","listNodesByPage","pageNum","pageSize","nodeBatchOperation","getNodeByName","node","nodeReCreate","fixRegExpWellKnownSymbolLogic","anObject","requireObjectCoercible","sameValue","regExpExec","SEARCH","nativeSearch","maybeCallNative","regexp","O","this","searcher","call","RegExp","String","string","res","done","value","rx","S","previousLastIndex","lastIndex","result","index","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","slot","_v","_s","$t","currentCluster","source","_e","name","spec","architectures","networkType","flannelBackend","calicoIpv4PoolIpip","kubeProxyMode","runtimeType","directives","rawName","expression","cpuUsagePercent","memUsagePercent","podUsagePercent","nodes","length","namespaces","deployments","pods","containerNumber","opened","on","$event","onOpen","newWindow","downloadKubeConfig","staticRenderFns","loading_chart","loading_xterm","cpuTotal","cpuUsage","memTotal","memUsage","podLimit","methods","search","$route","params","loadNameSpaces","loadNodes","loadDeployments","loadPods","loadNodesUsages","metrics","forEach","mounted","component"],"mappings":"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","file":"js/chunk-16e1117a.93ecbff2.js","sourcesContent":["import {get, post, del} from \"@/plugins/request\"\n\nconst proxyUrl = \"/proxy/kubernetes/{cluster_name}/{resource_url}\"\n\nconst namespaceUrl = \"api/v1/namespaces\"\nconst namespaceOpUrl = \"api/v1/namespaces/{namespace}\"\n\nexport function listNamespace(clusterName) {\n  const url = proxyUrl.replace(\"{cluster_name}\", clusterName).replace(\"{resource_url}\", namespaceUrl)\n  return get(url)\n}\n\nexport function createNamespace(clusterName, data) {\n  const url = proxyUrl.replace(\"{cluster_name}\", clusterName).replace(\"{resource_url}\", namespaceUrl)\n  return post(url, data)\n}\n\nexport function deleteNamespace(clusterName, namespace) {\n  const url = proxyUrl.replace(\"{cluster_name}\", clusterName).replace(\"{resource_url}\", namespaceOpUrl).replace(\"{namespace}\", namespace)\n  return del(url)\n}\n","// `SameValue` abstract operation\n// https://tc39.es/ecma262/#sec-samevalue\n// eslint-disable-next-line es/no-object-is -- safe\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","import {get, post, del} from \"@/plugins/request\"\n\nconst clusterUrl = \"/api/v1/clusters\"\nconst clusterLoggerUrl = \"/api/v1/clusters/logger/{cluster_name}\"\nconst clusterNodeLoggerUrl = \"/api/v1/clusters/node/logger/{cluster_name}/{node_name}\"\nconst storageProvisionerLoggerUrl = \"/api/v1/clusters/provisioner/log/{cluster_name}/{log_id}\"\n\nexport function getClusterByName(clusterName) {\n  return get(`${clusterUrl}/${clusterName}`)\n}\n\nexport function getClusterByProject(projectNames) {\n  return get(`${clusterUrl}/name/${projectNames}`)\n}\n\nexport function checkClusterNameExistence(clusterName) {\n  return get(`${clusterUrl}/existence/${clusterName}`)\n}\n\nexport function listClusters(page, size) {\n  return get(`${clusterUrl}?pageNum=${page}&pageSize=${size}`)\n}\n\nexport function searchClusters(page, size, condition) {\n  return post(`${clusterUrl}/search?pageNum=${page}&pageSize=${size}`, condition)\n}\n\nexport function createCluster(data) {\n  return post(`${clusterUrl}`, data)\n}\n\nexport function healthCheck(clusterName) {\n  return get(`${clusterUrl}/health/${clusterName}`)\n}\n\nexport function clusterRecover(clusterName) {\n  return post(`${clusterUrl}/recover/${clusterName}`, {})\n}\n\nexport function deleteCluster(clusterName, force) {\n  return del(`${clusterUrl}/${clusterName}?force=${force}`)\n}\n\nexport function importCluster(data) {\n  return post(`${clusterUrl}/import/`, data)\n}\n\nexport function allClusters() {\n  return get(`${clusterUrl}`)\n}\n\nexport function initCluster(clusterName) {\n  return post(`${clusterUrl}/init/${clusterName}/`, {})\n}\n\nexport function upgradeCluster(clusterName, version) {\n  let req = {\n    clusterName: clusterName,\n    version: version,\n  }\n  return post(`${clusterUrl}/upgrade/`, req)\n}\n\nexport function getClusterStatus(clusterName) {\n  return get(`${clusterUrl}/status/${clusterName}`)\n}\n\nexport function getClusterLog(clusterName) {\n  return get(clusterLoggerUrl.replace(\"{cluster_name}\", clusterName))\n}\n\nexport function getClusterNodeLog(clusterName, nodeName) {\n  return get(clusterNodeLoggerUrl.replace(\"{cluster_name}\", clusterName).replace(\"{node_name}\", nodeName))\n}\n\nexport function getProvisionerLog(clusterName, logId) {\n  return get(storageProvisionerLoggerUrl.replace(\"{cluster_name}\", clusterName).replace(\"{log_id}\", logId))\n}\n\nexport function openLogger(clusterName) {\n  window.open(`/ui/#/logger?clusterName=${clusterName}`, \"_blank\", \"height=865, width=800, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, resizable=yes,location=no, status=no\")\n}\n\nexport function openProvisionerLogger(clusterName, logId) {\n  window.open(`/ui/#/logger?clusterName=${clusterName}&logId=${logId}`, \"_blank\", \"height=865, width=800, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, resizable=yes,location=no, status=no\")\n}\n\nexport function getSecret(clusterName) {\n  return get(`${clusterUrl}/secret/${clusterName}`)\n}\n","import {get} from \"@/plugins/request\"\n\nconst proxyUrl = \"/proxy/kubernetes/{cluster_name}/{resource_url}\"\nconst limit = 10\n\nconst serviceUrl = \"api/v1/services\"\nconst namespaceServiceUrl = \"api/v1/namespaces/{namespace}/services\"\nconst deploymentUrl = \"apis/apps/v1/deployments\"\nconst namespaceDeploymentUrl = \"apis/apps/v1/namespaces/{namespace}/deployments\"\nconst daemonSetUrl = \"apis/apps/v1/daemonsets/\"\nconst statefulSetUrl = \"apis/apps/v1/statefulsets/\"\nconst namespaceStatefulSet = \"apis/apps/v1/namespaces/{namespace}/statefulsets/\"\nconst namespaceDaemonSetUrl = \"apis/apps/v1/namespaces/{namespace}/daemonsets/\"\nconst cornJobUrl = \"apis/batch/v1beta1/cronjobs\"\nconst namespaceCornJobUrl = \"apis/batch/v1beta1/namespaces/{namespace}/cronjobs\"\nconst jobUrl = \"apis/batch/v1/jobs\"\nconst namespaceJobUrl = \"apis/batch/v1/namespaces/{namespace}/jobs\"\nconst ingressUrl = \"apis/networking.k8s.io/v1beta1/ingresses\"\nconst namespaceIngressUrl = \"apis/networking.k8s.io/v1beta1/namespaces/{namespace}/ingresses\"\nconst configMapUrl = \"api/v1/configmaps\"\nconst namespaceConfigMapUrl = \"api/v1/namespaces/{namespace}/configmaps\"\nconst secretUrl = \"api/v1/secrets\"\nconst namespaceSecretUrl = \"api/v1/secrets\"\nconst podUrl = \"api/v1/pods\"\nconst namespacePodUrl = \"api/v1/namespaces/{namespace}/pods/\"\nconst eventByNamespaceUrl = \"api/v1/namespaces/{namespace}/events\"\nconst eventsUrl = \"api/v1/events\"\n\nexport function listDeployment(clusterName, continueToken, namespace) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName)\n  if (namespace !== undefined && namespace !== null) {\n    url = url.replace(\"{resource_url}\", namespaceDeploymentUrl).replace(\"{namespace}\", namespace)\n  } else {\n    url = url.replace(\"{resource_url}\", deploymentUrl)\n  }\n  return get(url)\n}\n\nexport function listDaemonSet(clusterName, continueToken, namespace) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName)\n  url += \"?limit=\" + limit\n  if (continueToken !== undefined && continueToken !== null) {\n    url += \"&continue=\" + continueToken\n  }\n  if (namespace !== undefined && namespace !== null) {\n    url = url.replace(\"{resource_url}\", namespaceDaemonSetUrl).replace(\"{namespace}\", namespace)\n  } else {\n    url = url.replace(\"{resource_url}\", daemonSetUrl)\n  }\n  return get(url)\n}\n\nexport function listStatefulSet(clusterName, continueToken, namespace) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName)\n  url += \"?limit=\" + limit\n  if (continueToken !== undefined && continueToken !== null) {\n    url += \"&continue=\" + continueToken\n  }\n  if (namespace !== undefined && namespace !== null) {\n    url = url.replace(\"{resource_url}\", namespaceStatefulSet).replace(\"{namespace}\", namespace)\n  } else {\n    url = url.replace(\"{resource_url}\", statefulSetUrl)\n  }\n  return get(url)\n}\n\nexport function listJob(clusterName, continueToken, namespace){\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName)\n  url += \"?limit=\" + limit\n  if (continueToken !== undefined && continueToken !== null) {\n    url += \"&continue=\" + continueToken\n  }\n  if (namespace !== undefined && namespace !== null) {\n    url = url.replace(\"{resource_url}\", namespaceJobUrl).replace(\"{namespace}\", namespace)\n  } else {\n    url = url.replace(\"{resource_url}\", jobUrl)\n  }\n  return get(url)\n}\n\nexport function listCornJob(clusterName, continueToken, namespace) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName)\n  url += \"?limit=\" + limit\n  if (continueToken !== undefined && continueToken !== null) {\n    url += \"&continue=\" + continueToken\n  }\n  if (namespace !== undefined && namespace !== null) {\n    url = url.replace(\"{resource_url}\", namespaceCornJobUrl).replace(\"{namespace}\", namespace)\n  } else {\n    url = url.replace(\"{resource_url}\", cornJobUrl)\n  }\n  return get(url)\n}\n\nexport function listService(clusterName, continueToken, namespace) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName)\n  url += \"?limit=\" + limit\n  if (continueToken !== undefined && continueToken !== null) {\n    url += \"&continue=\" + continueToken\n  }\n  if (namespace !== undefined && namespace !== null) {\n    url = url.replace(\"{resource_url}\", namespaceServiceUrl).replace(\"{namespace}\", namespace)\n  } else {\n    url = url.replace(\"{resource_url}\", serviceUrl)\n  }\n  return get(url)\n}\n\nexport function listIngress(clusterName, continueToken, namespace) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName)\n  url += \"?limit=\" + limit\n  if (continueToken !== undefined && continueToken !== null) {\n    url += \"&continue=\" + continueToken\n  }\n  if (namespace !== undefined && namespace !== null) {\n    url = url.replace(\"{resource_url}\", namespaceIngressUrl).replace(\"{namespace}\", namespace)\n  } else {\n    url = url.replace(\"{resource_url}\", ingressUrl)\n  }\n  return get(url)\n}\n\nexport function listConfigMap(clusterName, continueToken, namespace) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName)\n  url += \"?limit=\" + limit\n  if (continueToken !== undefined && continueToken !== null) {\n    url += \"&continue=\" + continueToken\n  }\n  if (namespace !== undefined && namespace !== null) {\n    url = url.replace(\"{resource_url}\", namespaceConfigMapUrl).replace(\"{namespace}\", namespace)\n  } else {\n    url = url.replace(\"{resource_url}\", configMapUrl)\n  }\n  return get(url)\n}\n\nexport function listSecret(clusterName, continueToken, namespace) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName)\n  url += \"?limit=\" + limit\n  if (continueToken !== undefined && continueToken !== null) {\n    url += \"&continue=\" + continueToken\n  }\n  if (namespace !== undefined && namespace !== null) {\n    url = url.replace(\"{resource_url}\", namespaceSecretUrl).replace(\"{namespace}\", namespace)\n  } else {\n    url = url.replace(\"{resource_url}\", secretUrl)\n  }\n  return get(url)\n}\n\nexport function listPod(clusterName, continueToken, namespace) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName)\n  if (namespace !== undefined && namespace !== null) {\n    url = url.replace(\"{resource_url}\", namespacePodUrl).replace(\"{namespace}\", namespace)\n  } else {\n    url = url.replace(\"{resource_url}\", podUrl)\n  }\n  return get(url)\n}\n\nexport function listEvents(clusterName, continueToken, namespace) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName)\n  url += \"?limit=\" + limit\n  if (continueToken !== undefined && continueToken !== null) {\n    url += \"&continue=\" + continueToken\n  }\n  if (namespace !== undefined && namespace !== null) {\n    url = url.replace(\"{resource_url}\", eventByNamespaceUrl).replace(\"{namespace}\", namespace)\n  } else {\n    url = url.replace(\"{resource_url}\", eventsUrl)\n  }\n  return get(url)\n}\n\nexport function getClusterToken(clusterName) {\n  return get(`/api/v1/clusters/webkubectl/${clusterName}?l=zh-CN`)\n}\n","export * from \"-!../../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/_sass-loader@10.2.0@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=9a530c56&lang=scss&scoped=true&\"","import {get, post, patch} from \"@/plugins/request\"\n\nconst proxyUrl = \"/proxy/kubernetes/{cluster_name}/{resource_url}\"\nconst limit = 10\n\nconst nodesUrl = \"/api/v1/nodes\"\nconst evictionUrl = \"api/v1/namespaces/{namespace}/pods/{pod}/eviction\"\nconst nodeStatsSummaryUrl = \"apis/metrics.k8s.io/v1beta1/nodes\"\nconst baseUrl = \"/api/v1/clusters/node/{clusterName}\"\nconst detailUrl = \"/api/v1/clusters/node/detail/{clusterName}/{node}\"\nconst batchUrl = \"/api/v1/clusters/node/batch/{clusterName}\"\nconst recreateUrl = \"/api/v1/clusters/node/recreate/{clusterName}/{node}\"\n\nexport function listNodesUsage(clusterName, continueToken) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName).replace(\"{resource_url}\", nodeStatsSummaryUrl)\n  url += \"?limit=\" + limit\n  if (continueToken !== undefined && continueToken !== null) {\n    url += \"&continue=\" + continueToken\n  }\n  return get(url)\n}\n\nexport function cordonNode(clusterName, nodeName, data) {\n  let headers = {\"Content-Type\": \"application/strategic-merge-patch+json\"}\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName).replace(\"{resource_url}\", nodesUrl) + \"/\" + nodeName\n  return patch(url, data, headers)\n}\n\nexport function evictionNode(clusterName, namespace, pod, data) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName).replace(\"{resource_url}\", evictionUrl).replace(\"{namespace}\", namespace).replace(\"{pod}\", pod)\n  return post(url, data)\n}\n\nexport function listNodeInDB(clusterName) {\n  return get(`/api/v1/clusters/node/${clusterName}`)\n}\n\nexport function listNodeInCluster(clusterName, continueToken) {\n  let url = proxyUrl.replace(\"{cluster_name}\", clusterName).replace(\"{resource_url}\", nodesUrl)\n  if (continueToken !== undefined && continueToken !== null) {\n    url += \"&continue=\" + continueToken\n  }\n  return get(url)\n}\n\nexport function listNodesByPage(clusterName, pageNum, pageSize) {\n  return get(baseUrl.replace(\"{clusterName}\", clusterName) + `?pageNum=${pageNum}&pageSize=${pageSize}`)\n}\n\nexport function nodeBatchOperation(clusterName, data) {\n  return post(batchUrl.replace(\"{clusterName}\", clusterName), data)\n}\n\nexport function getNodeByName(clusterName, node) {\n  return get(detailUrl.replace(\"{clusterName}\", clusterName).replace(\"{node}\", node))\n}\n\nexport function nodeReCreate(clusterName, node) {\n  return post(recreateUrl.replace(\"{clusterName}\", clusterName).replace(\"{node}\", node))\n}","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar sameValue = require('../internals/same-value');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@search logic\nfixRegExpWellKnownSymbolLogic('search', function (SEARCH, nativeSearch, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.es/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = requireObjectCoercible(this);\n      var searcher = regexp == undefined ? undefined : regexp[SEARCH];\n      return searcher !== undefined ? searcher.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@search\n    function (string) {\n      var res = maybeCallNative(nativeSearch, this, string);\n      if (res.done) return res.value;\n\n      var rx = anObject(this);\n      var S = String(string);\n\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"example\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('el-card',{staticStyle:{\"height\":\"350px\"}},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(_vm._s(_vm.$t('cluster.detail.overview.base_info')))])]),_c('div',[_c('el-col',{attrs:{\"span\":12}},[_c('ul',[_vm._v(_vm._s(_vm.$t('cluster.creation.name')))]),_c('ul',[_vm._v(_vm._s(_vm.$t('cluster.version')))]),_c('ul',[_vm._v(_vm._s(_vm.$t('cluster.creation.arch')))]),_c('ul',[_vm._v(_vm._s(_vm.$t('cluster.creation.network_type')))]),(_vm.currentCluster.source === 'local')?_c('div',[_c('ul',[_vm._v(_vm._s(_vm.$t('cluster.creation.flannel_backend')))]),_c('ul',[_vm._v(_vm._s(_vm.$t('cluster.creation.proxy_mode')))])]):_vm._e(),_c('ul',[_vm._v(_vm._s(_vm.$t('cluster.creation.runtime_type')))]),_c('ul',[_vm._v(_vm._s(_vm.$t('cluster.detail.overview.source')))])]),_c('el-col',{attrs:{\"span\":12}},[_c('ul',[_vm._v(_vm._s(_vm.currentCluster.name))]),_c('ul',[_vm._v(_vm._s(_vm.currentCluster.spec.version))]),_c('ul',[_vm._v(_vm._s(_vm.currentCluster.spec.architectures))]),_c('ul',[_vm._v(_vm._s(_vm.currentCluster.spec.networkType))]),(_vm.currentCluster.source === 'local')?_c('div',[(_vm.currentCluster.spec.networkType === 'flannel')?_c('ul',[_vm._v(_vm._s(_vm.currentCluster.spec.flannelBackend))]):_vm._e(),(_vm.currentCluster.spec.networkType === 'calico' && _vm.currentCluster.spec.calicoIpv4PoolIpip === 'off')?_c('ul',[_vm._v(\"bgp\")]):_vm._e(),(_vm.currentCluster.spec.networkType === 'calico' && _vm.currentCluster.spec.calicoIpv4PoolIpip === 'Always')?_c('ul',[_vm._v(\"ipip\")]):_vm._e(),_c('ul',[_vm._v(_vm._s(_vm.currentCluster.spec.kubeProxyMode))])]):_vm._e(),_c('ul',[_vm._v(_vm._s(_vm.currentCluster.spec.runtimeType))]),_c('ul',[_vm._v(_vm._s(_vm.currentCluster.source))])])],1)])],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-card',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading_chart),expression:\"loading_chart\"}],staticStyle:{\"height\":\"350px\"}},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(_vm._s(_vm.$t('cluster.detail.overview.capacity_info')))])]),_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('div',{attrs:{\"align\":\"center\"}},[_c('el-progress',{attrs:{\"stroke-width\":20,\"type\":\"circle\",\"width\":140,\"percentage\":_vm.cpuUsagePercent}}),_c('br'),_c('span',{staticStyle:{\"font-size\":\"24px\"}},[_vm._v(_vm._s(_vm.$t('cluster.detail.overview.cpu')))])],1)]),_c('el-col',{attrs:{\"span\":8}},[_c('div',{attrs:{\"align\":\"center\"}},[_c('el-progress',{attrs:{\"stroke-width\":20,\"type\":\"circle\",\"width\":140,\"percentage\":_vm.memUsagePercent}}),_c('br'),_c('span',{staticStyle:{\"font-size\":\"24px\"}},[_vm._v(_vm._s(_vm.$t('cluster.detail.overview.memory')))])],1)]),_c('el-col',{attrs:{\"span\":8}},[_c('div',{attrs:{\"align\":\"center\"}},[_c('el-progress',{attrs:{\"stroke-width\":20,\"type\":\"circle\",\"width\":140,\"percentage\":_vm.podUsagePercent}}),_c('br'),_c('span',{staticStyle:{\"font-size\":\"24px\"}},[_vm._v(_vm._s(_vm.$t('cluster.detail.overview.docker')))])],1)])],1)],1)],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-card',{staticStyle:{\"height\":\"350px\"}},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(_vm._s(_vm.$t('cluster.detail.overview.statistical_info')))])]),_c('div',[_c('el-col',{attrs:{\"span\":12}},[_c('ul',[_vm._v(\"Nodes\")]),_c('ul',[_vm._v(\"Namespaces\")]),_c('ul',[_vm._v(\"Deployments\")]),_c('ul',[_vm._v(\"Pods\")]),_c('ul',[_vm._v(\"Containers\")])]),_c('el-col',{attrs:{\"span\":12}},[_c('ul',[_vm._v(_vm._s(_vm.nodes.length))]),_c('ul',[_vm._v(_vm._s(_vm.namespaces.length))]),_c('ul',[_vm._v(_vm._s(_vm.deployments.length))]),_c('ul',[_vm._v(_vm._s(_vm.pods.length))]),_c('ul',[_vm._v(_vm._s(_vm.containerNumber))])])],1)])],1)],1)],1),_c('el-card',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading_xterm),expression:\"loading_xterm\"}],staticStyle:{\"margin-top\":\"20px\"}},[_c('div',{staticStyle:{\"height\":\"20px\"},attrs:{\"slot\":\"header\"},slot:\"header\"},[(!_vm.opened)?_c('el-button',{staticStyle:{\"float\":\"right\"},on:{\"click\":function($event){return _vm.onOpen()}}},[_vm._v(_vm._s(_vm.$t('cluster.detail.overview.connect')))]):_vm._e(),(_vm.opened)?_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":_vm.$t('cluster.detail.overview.open_in_new_windows'),\"placement\":\"bottom\"}},[_c('el-button',{staticStyle:{\"float\":\"right\"},on:{\"click\":function($event){return _vm.newWindow()}}},[_c('svg',{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#iconchuangkou\"}})])])],1):_vm._e(),(_vm.currentCluster.source==='local')?_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-right\":\"10px\"},attrs:{\"icon\":\"el-icon-document\"},on:{\"click\":function($event){return _vm.downloadKubeConfig()}}},[_vm._v(_vm._s(_vm.$t('cluster.detail.overview.download_kube_config')))]):_vm._e()],1),(_vm.opened)?_c('div',[_c('iframe',{staticStyle:{\"width\":\"100%\",\"height\":\"512px\"},attrs:{\"src\":_vm.url}})]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"example\">\r\n      <el-row>\r\n        <el-col :span=\"6\">\r\n          <el-card style=\"height: 350px\">\r\n            <div slot=\"header\" class=\"clearfix\">\r\n              <span>{{$t('cluster.detail.overview.base_info')}}</span>\r\n            </div>\r\n            <div>\r\n              <el-col :span=\"12\">\r\n                <ul>{{$t('cluster.creation.name')}}</ul>\r\n                <ul>{{$t('cluster.version')}}</ul>\r\n                <ul>{{$t('cluster.creation.arch')}}</ul>\r\n                <ul>{{$t('cluster.creation.network_type')}}</ul>\r\n                <div v-if=\"currentCluster.source === 'local'\">\r\n                  <ul>{{$t('cluster.creation.flannel_backend')}}</ul>\r\n                  <ul>{{$t('cluster.creation.proxy_mode')}}</ul>\r\n                </div>\r\n                <ul>{{$t('cluster.creation.runtime_type')}}</ul>\r\n                <ul>{{$t('cluster.detail.overview.source')}}</ul>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <ul>{{currentCluster.name}}</ul>\r\n                <ul>{{currentCluster.spec.version}}</ul>\r\n                <ul>{{currentCluster.spec.architectures}}</ul>\r\n                <ul>{{currentCluster.spec.networkType}}</ul>\r\n                <div v-if=\"currentCluster.source === 'local'\">\r\n                  <ul v-if=\"currentCluster.spec.networkType === 'flannel'\">{{currentCluster.spec.flannelBackend}}</ul>\r\n                  <ul v-if=\"currentCluster.spec.networkType === 'calico' && currentCluster.spec.calicoIpv4PoolIpip === 'off'\">bgp</ul>\r\n                  <ul v-if=\"currentCluster.spec.networkType === 'calico' && currentCluster.spec.calicoIpv4PoolIpip === 'Always'\">ipip</ul>\r\n                  <ul>{{currentCluster.spec.kubeProxyMode}}</ul>\r\n                </div>\r\n                <ul>{{currentCluster.spec.runtimeType}}</ul>\r\n                <ul>{{currentCluster.source}}</ul>\r\n              </el-col>\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"12\">\r\n          <el-card v-loading=\"loading_chart\" style=\"height: 350px\">\r\n            <div slot=\"header\" class=\"clearfix\">\r\n              <span>{{$t('cluster.detail.overview.capacity_info')}}</span>\r\n            </div>\r\n            <el-row type=\"flex\" justify=\"center\">\r\n              <el-col :span=\"8\">\r\n                <div align=\"center\">\r\n                  <el-progress :stroke-width=\"20\" type=\"circle\" :width=\"140\" :percentage=\"cpuUsagePercent\"></el-progress>\r\n                  <br>\r\n                  <span style=\"font-size: 24px\">{{$t('cluster.detail.overview.cpu')}}</span>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"8\">\r\n                <div align=\"center\">\r\n                  <el-progress :stroke-width=\"20\" type=\"circle\" :width=\"140\" :percentage=\"memUsagePercent\"></el-progress>\r\n                  <br>\r\n                  <span style=\"font-size: 24px\">{{$t('cluster.detail.overview.memory')}}</span>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"8\">\r\n                <div align=\"center\">\r\n                  <el-progress :stroke-width=\"20\" type=\"circle\" :width=\"140\" :percentage=\"podUsagePercent\"></el-progress>\r\n                  <br>\r\n                  <span style=\"font-size: 24px\">{{$t('cluster.detail.overview.docker')}}</span>\r\n                </div>\r\n              </el-col>\r\n            </el-row>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-card style=\"height: 350px\">\r\n            <div slot=\"header\" class=\"clearfix\">\r\n              <span>{{$t('cluster.detail.overview.statistical_info')}}</span>\r\n            </div>\r\n            <div>\r\n              <el-col :span=\"12\">\r\n                <ul>Nodes</ul>\r\n                <ul>Namespaces</ul>\r\n                <ul>Deployments</ul>\r\n                <ul>Pods</ul>\r\n                <ul>Containers</ul>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <ul>{{nodes.length}}</ul>\r\n                <ul>{{namespaces.length}}</ul>\r\n                <ul>{{deployments.length}}</ul>\r\n                <ul>{{pods.length}}</ul>\r\n                <ul>{{containerNumber}}</ul>\r\n              </el-col>\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n\r\n    <el-card style=\"margin-top: 20px\" v-loading=\"loading_xterm\">\r\n      <div slot=\"header\" style=\"height: 20px\">\r\n        <el-button v-if=\"!opened\" @click=\"onOpen()\" style=\"float: right;\">{{$t('cluster.detail.overview.connect')}}</el-button>\r\n        <el-tooltip v-if=\"opened\" effect=\"dark\" :content=\"$t('cluster.detail.overview.open_in_new_windows')\" placement=\"bottom\">\r\n          <el-button @click=\"newWindow()\" style=\"float: right;\">\r\n            <svg class=\"icon\" aria-hidden=\"true\">\r\n              <use xlink:href=\"#iconchuangkou\"></use>\r\n            </svg>\r\n          </el-button>  \r\n        </el-tooltip>\r\n        <el-button v-if=\"currentCluster.source==='local'\" icon=\"el-icon-document\" @click=\"downloadKubeConfig()\" style=\"float: right; margin-right: 10px\">{{$t('cluster.detail.overview.download_kube_config')}}</el-button>\r\n      </div>\r\n      <div v-if=\"opened\">\r\n        <iframe style=\"width: 100%;height: 512px;\" :src=\"url\"></iframe>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { listPod, listDeployment, getClusterToken } from \"@/api/cluster/cluster\"\r\nimport { listNodeInCluster, listNodesUsage } from \"@/api/cluster/node\"\r\nimport { listNamespace } from \"@/api/cluster/namespace\"\r\nimport { getClusterByName } from \"@/api/cluster\"\r\n\r\nexport default {\r\n  name: \"ClusterOverview\",\r\n  data() {\r\n    return {\r\n      loading_chart: false,\r\n      loading_xterm: false,\r\n      clusterName: \"\",\r\n      currentCluster: {\r\n        name: \"\",\r\n        spec: {\r\n          version: \"\",\r\n          architectures: \"\",\r\n          networkType: \"\",\r\n          kubeProxyMode: \"\",\r\n          runtimeType: \"\",\r\n          flannelBackend: \"\",\r\n          calicoIpv4PoolIpip: \"\",\r\n        },\r\n        source: \"\",\r\n      },\r\n      namespaces: [],\r\n      pods: [],\r\n      nodes: [],\r\n      deployments: [],\r\n      containerNumber: 0,\r\n      cpuTotal: 0,\r\n      cpuUsage: 0,\r\n      cpuUsagePercent: 0.0,\r\n      memTotal: 0,\r\n      memUsage: 0,\r\n      memUsagePercent: 0.0,\r\n      podLimit: 0,\r\n      podUsagePercent: 0.0,\r\n      opened: false,\r\n      url: \"\",\r\n    }\r\n  },\r\n  methods: {\r\n    downloadKubeConfig() {\r\n      window.open(`/api/v1/clusters/kubeconfig/${this.clusterName}`, \"_blank\")\r\n    },\r\n    search() {\r\n      this.loading_chart = true\r\n      this.clusterName = this.$route.params.name\r\n      getClusterByName(this.clusterName).then((data) => {\r\n        this.currentCluster = data\r\n      })\r\n      this.loadNameSpaces()\r\n      this.loadNodes()\r\n      this.loadDeployments()\r\n    },\r\n    onOpen() {\r\n      this.loading_xterm = true\r\n      this.opened = true\r\n      getClusterToken(this.clusterName).then((data) => {\r\n        this.url = \"/webkubectl/terminal/?token=\" + data.token\r\n        this.loading_xterm = false\r\n      })\r\n    },\r\n    newWindow() {\r\n      this.opened = true\r\n      getClusterToken(this.clusterName).then((data) => {\r\n        this.url = `/webkubectl/terminal/?token=${data.token}`\r\n        window.open(this.url, \"_blank\", \"weight=300,height=200,alwaysRaised=yes,depended=yes\")\r\n      })\r\n    },\r\n    loadNameSpaces() {\r\n      listNamespace(this.clusterName).then((data) => {\r\n        this.namespaces = data.items\r\n      })\r\n    },\r\n    loadPods() {\r\n      listPod(this.clusterName).then((data) => {\r\n        this.pods = data.items\r\n        this.pods.forEach((pod) => {\r\n          this.containerNumber = this.containerNumber + pod.spec.containers.length\r\n        })\r\n        this.podUsagePercent = Math.round((this.pods.length / this.podLimit) * 100)\r\n      })\r\n    },\r\n    loadNodes() {\r\n      listNodeInCluster(this.clusterName).then((data) => {\r\n        this.nodes = data.items\r\n        this.nodes.forEach((node) => {\r\n          this.cpuTotal = this.cpuTotal + Number(node.status.capacity.cpu)\r\n          const mem = node.status.capacity.memory.replace(\"Ki\", \"\")\r\n          this.memTotal = this.memTotal + Number(mem)\r\n          this.podLimit = this.podLimit + Number(node.status.capacity.pods)\r\n        })\r\n        this.loadNodesUsages()\r\n        this.loadPods()\r\n      })\r\n    },\r\n    loadDeployments() {\r\n      listDeployment(this.clusterName).then((data) => {\r\n        this.deployments = data.items\r\n      })\r\n    },\r\n    loadNodesUsages() {\r\n      listNodesUsage(this.clusterName).then((data) => {\r\n        let metrics = data.items\r\n        metrics.forEach((me) => {\r\n          const c = me.usage.cpu.replace(\"m\", \"\")\r\n          this.cpuUsage = this.cpuUsage + Number(c)\r\n          const m = me.usage.memory.replace(\"Ki\", \"\")\r\n          this.memUsage = this.memUsage + Number(m)\r\n        })\r\n        // this.cpuUsage = this.cpuUsage / (1000 * 1000 * 1000)\r\n        this.memUsagePercent = Math.round((this.memUsage / this.memTotal) * 100)\r\n        this.cpuUsagePercent = Math.round((this.cpuUsage / (this.cpuTotal*1000)) * 100)\r\n        this.loading_chart = false\r\n      })\r\n    },\r\n  },\r\n  mounted() {\r\n    this.search()\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.example {\r\n  ul {\r\n    height: 20px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=9a530c56&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=9a530c56&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9a530c56\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}