(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43ff80ce"],{"471b":function(t,e,n){"use strict";n.d(e,"f",(function(){return c})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return l})),n.d(e,"h",(function(){return r})),n.d(e,"g",(function(){return u})),n.d(e,"i",(function(){return m})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return f}));n("a5c9");var o=n("ff66"),s="/api/v1/multicluster";function c(t,e){return Object(o["c"])("".concat(s,"/repositories?pageNum=").concat(t,"&pageSize=").concat(e))}function i(t){return Object(o["c"])("".concat(s,"/repositories/").concat(t))}function a(t){return Object(o["e"])("".concat(s,"/repositories"),t)}function l(t){return Object(o["b"])("".concat(s,"/repositories/").concat(t))}function r(t,e){return Object(o["d"])("".concat(s,"/repositories/").concat(t),e)}function u(t){return Object(o["c"])("".concat(s,"/repositories/relations/").concat(t))}function m(t,e){return Object(o["e"])("".concat(s,"/repositories/relations/").concat(t),e)}function d(t,e,n){return Object(o["c"])("".concat(s,"/repositories/logs/").concat(t,"?pageNum=").concat(e,"&pageSize=").concat(n))}function f(t,e){return Object(o["c"])("".concat(s,"/repositories/logs/detail/").concat(t,"/").concat(e))}},d3b7:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("layout-content",{attrs:{header:t.$t("multi_cluster.multi_cluster"),"back-to":{name:"MultiClusterRepositoriesList"}}},[n("sync-log-detail",{attrs:{visible:t.detailOpened,"log-id":t.logId,name:t.name},on:{"update:visible":function(e){t.detailOpened=e}}}),n("complex-table",{attrs:{data:t.data,"local-key":"multi_cluster_log_columns","search-config":t.searchConfig,"pagination-config":t.paginationConfig}},[n("el-table-column",{attrs:{label:"Commit Id","show-overflow-tooltip":"","min-width":"120",fix:""},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[n("el-link",{staticStyle:{"font-size":"12px"},attrs:{type:"info"},on:{click:function(e){return t.showSyncDetail(o)}}},[t._v(t._s(o.gitCommitId))])]}}])}),n("el-table-column",{attrs:{label:t.$t("commons.table.status"),"min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return["success"===o.status.toLowerCase()?n("el-tag",{attrs:{type:"success",size:"small"}},[t._v(" "+t._s(t.$t("commons.status.success"))+" ")]):t._e()]}}])}),n("el-table-column",{attrs:{label:t.$t("commons.table.create_time")},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v(" "+t._s(t._f("datetimeFormat")(n.createdAt))+" ")]}}])})],1)],1)},s=[],c=n("30d5"),i=(n("f5bd"),n("2769"),n("ecf1"),n("a5c9"),n("b1fa"),n("2e6f"),n("af21"),n("be17")),a=n("86ca"),l=n("471b"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:t.$t("multi_cluster.sync_detail"),visible:t.dialogVisible,width:"40%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-row",[n("div",{staticStyle:{"text-align":"center"}},[t._l(t.logs,(function(e){return n("div",{key:e.clusterName},[n("span",[t._v(t._s(e.clusterName))]),n("div",{staticStyle:{"margin-top":"15px"},attrs:{align:"center"}},[n("table",{staticStyle:{width:"90%"}},t._l(e.multiClusterSyncClusterResourceLogs,(function(e){return n("tr",{key:e.resourceName},[n("td",[t._v(t._s(e.resourceName))]),n("td",[t._v(t._s(e.sourceFile))]),n("td",[t._v(t._s(e.status))]),n("td",[t._v(t._s(e.message))])])})),0)])])})),n("br")],2)]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v(t._s(t.$t("commons.button.cancel")))])],1)],1)},u=[],m={name:"SyncLogDetail",props:{visible:Boolean,name:String,logId:String},data:function(){return{loading:!1,logs:[]}},watch:{visible:function(t){var e=this;t&&Object(l["e"])(this.name,this.logId).then((function(t){e.logs=t.multiClusterSyncClusterLogs}))}},methods:{},computed:{dialogVisible:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}}},created:function(){}},d=m,f=n("5d22"),p=Object(f["a"])(d,r,u,!1,null,null,null),b=p.exports,g={name:"MultiClusterRepositoriesLogs",props:["name"],components:{SyncLogDetail:b,ComplexTable:a["a"],LayoutContent:i["a"]},data:function(){return{detailOpened:!1,logId:"",buttons:[],searchConfig:{quickPlaceholder:this.$t("commons.search.quickSearch"),components:[{field:"name",label:this.$t("commons.table.name"),component:"FuComplexInput",defaultOperator:"eq"},{field:"is_active",label:this.$t("commons.table.status"),component:"FuComplexSelect",options:[{label:this.$t("commons.status.active"),value:1},{label:this.$t("commons.status.passive"),value:0}],multiple:!0},{field:"is_admin",label:this.$t("user.role"),component:"FuComplexSelect",options:[{label:this.$t("commons.role.admin"),value:1},{label:this.$t("commons.role.user"),value:0}],multiple:!0},{field:"created_at",label:this.$t("commons.table.create_time"),component:"FuComplexDateTime",valueFormat:"yyyy-MM-dd HH:mm:ss"}]},paginationConfig:{currentPage:1,pageSize:5,total:0},data:[]}},methods:{select:function(t){console.log(t)},showSyncDetail:function(t){this.logId=t.id,this.detailOpened=!0},create:function(){this.$router.push({name:"MultiClusterRepositoryCreate"})},search:function(){var t=this,e=this.paginationConfig,n=e.currentPage,o=e.pageSize;Object(l["d"])(this.name,n,o).then((function(e){t.data=e.items,t.paginationConfig.total=e.total}))},del:function(t){var e=this;this.$confirm(this.$t("commons.confirm_message.delete"),this.$t("commons.message_box.prompt"),{confirmButtonText:this.$t("commons.button.confirm"),cancelButtonText:this.$t("commons.button.cancel"),type:"warning"}).then((function(){if(t)Object(l["b"])(t).then((function(){e.search(),e.$message({type:"success",message:"".concat(t).concat(e.$t("commons.msg.delete_success"),"!")})}));else{var n,o=[],s=Object(c["a"])(e.selects);try{for(s.s();!(n=s.n()).done;){var i=n.value;o.push(Object(l["b"])(i.name))}}catch(a){s.e(a)}finally{s.f()}Promise.all(o).then((function(){e.search(),e.$message({type:"success",message:e.$t("commons.msg.delete_success")})}))}}))}},created:function(){this.search()}},h=g,_=Object(f["a"])(h,o,s,!1,null,"393d0a4c",null);e["default"]=_.exports}}]);
//# sourceMappingURL=chunk-43ff80ce.9da9baed.js.map