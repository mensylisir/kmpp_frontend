(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24d6e288"],{"4dc5":function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("layout-content",{attrs:{header:t.$t("commons.button.edit"),"back-to":{name:"Registry"}}},[r("el-row",[r("el-col",{attrs:{span:4}},[r("br")]),r("el-col",{attrs:{span:12}},[r("div",{staticClass:"grid-content bg-purple-light"},[r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"form",attrs:{"label-position":"left",rules:t.rules,model:t.form,"label-width":"140px"}},[r("el-form-item",{attrs:{label:t.$t("setting.table.registry.arch"),prop:"architecture",required:""}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:t.$t("commons.validate.select")},model:{value:t.form.architecture,callback:function(e){t.$set(t.form,"architecture",e)},expression:"form.architecture"}},t._l(t.architectureOptions,(function(t){return r("el-option",{key:t.value,attrs:{value:t.value}})})),1)],1),r("el-form-item",{attrs:{label:t.$t("setting.table.registry.protocol"),prop:"protocol",required:""}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.form.protocol,callback:function(e){t.$set(t.form,"protocol",e)},expression:"form.protocol"}},t._l(t.protocolOptions,(function(t){return r("el-option",{key:t.value,attrs:{value:t.value,disabled:t.disabled}})})),1)],1),r("el-form-item",{attrs:{label:t.$t("setting.table.registry.hostname"),prop:"hostname",required:""}},[r("el-input",{model:{value:t.form.hostname,callback:function(e){t.$set(t.form,"hostname",e)},expression:"form.hostname"}})],1),r("div",{staticClass:"registry-collapse"},[r("el-collapse",{attrs:{accordion:""}},[r("el-collapse-item",[r("template",{slot:"title"},[t._v(" "+t._s(t.$t("multi_cluster.senior_setting"))),r("i",{staticClass:"header-icon el-icon-info"})]),r("div",[r("el-form-item",{attrs:{label:"RepoPort",prop:"repoPort",required:""}},[r("el-input-number",{attrs:{min:0,max:65535},model:{value:t.form.repoPort,callback:function(e){t.$set(t.form,"repoPort",e)},expression:"form.repoPort"}}),r("div",[r("span",{staticClass:"input-help"},[t._v(t._s(t.$t("setting.table.registry.repo_port_help")))])])],1),r("el-form-item",{attrs:{label:"RegistryPort",prop:"registryPort",required:""}},[r("el-input-number",{attrs:{min:0,max:65535},model:{value:t.form.registryPort,callback:function(e){t.$set(t.form,"registryPort",e)},expression:"form.registryPort"}}),r("div",[r("span",{staticClass:"input-help"},[t._v(t._s(t.$t("setting.table.registry.repo_registry_port_help")))])])],1),r("el-form-item",{attrs:{label:"RegistryHostedPort",prop:"registryHostedPort",required:""}},[r("el-input-number",{attrs:{min:0,max:65535},model:{value:t.form.registryHostedPort,callback:function(e){t.$set(t.form,"registryHostedPort",e)},expression:"form.registryHostedPort"}}),r("div",[r("span",{staticClass:"input-help"},[t._v(t._s(t.$t("setting.table.registry.repo_registry_hosted_port_help")))])])],1)],1)],2)],1)],1),r("div",{staticStyle:{float:"right"}},[r("el-form-item",[r("el-button",{on:{click:function(e){return t.onCancel()}}},[t._v(t._s(t.$t("commons.button.cancel")))]),r("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("commons.button.submit")))])],1)],1)],1)],1)]),r("el-col",{attrs:{span:4}},[r("br")])],1)],1)},n=[],i=(r("b1fa"),r("c43c")),s=r("be17"),c=r("0792"),a={components:{LayoutContent:s["a"]},name:"EditRegistry",props:["id"],data:function(){return{form:{architecture:"",hostname:"",protocol:"",id:"",repoPort:"",registryPort:"",registryHostedPort:""},architectureOptions:[{value:"x86_64"},{value:"aarch64"}],rules:{hostname:[c["a"].IpRule],architecture:[c["a"].RequiredRule],protocol:[c["a"].RequiredRule]},protocolOptions:[{value:"http"},{value:"https"}],loading:!1}},methods:{onSubmit:function(){var t=this;this.$refs.form.validate((function(e){return!!e&&(t.form.registryPort===t.form.repoPort?(t.$message({type:"error",message:t.$t("setting.table.registry.registry_and_repo_err")}),!1):t.form.registryPort===t.form.registryHostedPort?(t.$message({type:"error",message:t.$t("setting.table.registry.registry_and_registry_hosted_err")}),!1):t.form.repoPort===t.form.registryHostedPort?(t.$message({type:"error",message:t.$t("setting.table.registry.repo_and_registry_hosted_err")}),!1):(t.loading=!0,void Object(i["n"])(t.form.architecture,{architecture:t.form.architecture,hostname:t.form.hostname,protocol:t.form.protocol,id:t.form.id,repoPort:t.form.repoPort,registryPort:t.form.registryPort,registryHostedPort:t.form.registryHostedPort}).then((function(){t.loading=!1,t.$message({type:"success",message:t.$t("commons.msg.update_success")}),t.$router.push({name:"Registry"})})).finally((function(){t.loading=!1}))))}))},onCancel:function(){this.$router.push({name:"Registry"})}},created:function(){var t=this;Object(i["i"])(this.id).then((function(e){t.form=e}))}},l=a,u=r("5d22"),m=Object(u["a"])(l,o,n,!1,null,"d4a1f084",null);e["default"]=m.exports},c43c:function(t,e,r){"use strict";r.d(e,"j",(function(){return s})),r.d(e,"a",(function(){return c})),r.d(e,"f",(function(){return a})),r.d(e,"k",(function(){return l})),r.d(e,"e",(function(){return u})),r.d(e,"n",(function(){return m})),r.d(e,"l",(function(){return p})),r.d(e,"i",(function(){return f})),r.d(e,"g",(function(){return d})),r.d(e,"h",(function(){return g})),r.d(e,"b",(function(){return b})),r.d(e,"d",(function(){return y})),r.d(e,"m",(function(){return h})),r.d(e,"c",(function(){return v}));r("a5c9");var o=r("ff66"),n="/api/v1/settings",i="/api/v1/message/setting";function s(t){return Object(o["c"])("".concat(n,"/").concat(t))}function c(t,e){return Object(o["e"])("".concat(n,"/check/").concat(t),e)}function a(t){return Object(o["e"])(n,t)}function l(){return Object(o["c"])("".concat(n,"/registry"))}function u(t){return Object(o["e"])("".concat(n,"/registry"),t)}function m(t,e){return Object(o["d"])("".concat(n,"/registry/").concat(t),e)}function p(t,e,r){return Object(o["e"])("".concat(n,"/registry/search?pageNum=").concat(t,"&pageSize=").concat(e),r)}function f(t){return Object(o["c"])("".concat(n,"/registry/").concat(t))}function d(t){return Object(o["b"])("".concat(n,"/registry/").concat(t))}function g(t){return Object(o["c"])("".concat(i,"/").concat(t))}function b(t,e){return Object(o["e"])("".concat(i,"/check/").concat(t),e)}function y(t,e){return Object(o["e"])("".concat(i,"/").concat(t),e)}function h(t){return Object(o["e"])("/api/v1/ldap/sync",t)}function v(t){return Object(o["e"])("/api/v1/ldap/",t)}}}]);
//# sourceMappingURL=chunk-24d6e288.5cdde485.js.map