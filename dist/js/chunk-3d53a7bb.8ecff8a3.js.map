{"version":3,"sources":["webpack:///./node_modules/_@babel_runtime@7.14.8@@babel/runtime/helpers/esm/createForOfIteratorHelper.js","webpack:///./src/api/manifest.js","webpack:///./src/components/back-button/index.vue?04bd","webpack:///./src/api/cluster.js","webpack:///./node_modules/_core-js@3.15.2@core-js/modules/es.string.split.js","webpack:///./src/business/clusters/upgrade/index.vue?b3c5","webpack:///src/business/clusters/upgrade/index.vue","webpack:///./src/business/clusters/upgrade/index.vue?f16a","webpack:///./src/business/clusters/upgrade/index.vue","webpack:///./src/components/layout/LayoutContent.vue?6d0d","webpack:///./src/components/layout/LayoutContent.vue?6d22","webpack:///./src/components/back-button/index.vue?74d5","webpack:///src/components/back-button/index.vue","webpack:///./src/components/back-button/index.vue?8f7d","webpack:///./src/components/back-button/index.vue","webpack:///src/components/layout/LayoutContent.vue","webpack:///./src/components/layout/LayoutContent.vue?58ab","webpack:///./src/components/layout/LayoutContent.vue","webpack:///./src/components/back-button/index.vue?d0a3","webpack:///./src/components/layout/LayoutContent.vue?d541"],"names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","call","step","next","_e2","baseUrl","manifestGroup","get","listActive","module","exports","clusterUrl","clusterLoggerUrl","storageProvisionerLoggerUrl","getClusterByName","clusterName","getClusterByProject","projectNames","checkClusterNameExistence","searchClusters","page","size","condition","post","createCluster","data","healthCheck","clusterRecover","deleteCluster","force","del","importCluster","initCluster","upgradeCluster","version","req","getClusterStatus","getClusterLog","replace","getProvisionerLog","logId","openLogger","window","open","openProvisionerLogger","getSecret","fixRegExpWellKnownSymbolLogic","isRegExp","anObject","requireObjectCoercible","speciesConstructor","advanceStringIndex","toLength","callRegExpExec","regexpExec","stickyHelpers","fails","UNSUPPORTED_Y","arrayPush","push","min","Math","MAX_UINT32","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","re","originalExec","exec","apply","this","arguments","result","split","SPLIT","nativeSplit","maybeCallNative","internalSplit","separator","limit","string","String","lim","undefined","match","lastIndex","lastLength","output","flags","ignoreCase","multiline","unicode","sticky","lastLastIndex","separatorCopy","RegExp","source","slice","index","test","O","splitter","res","rx","S","C","unicodeMatching","p","q","A","z","render","_vm","_h","$createElement","_c","_self","attrs","$t","name","staticClass","ref","form","rules","staticStyle","on","changeUpgradeVersions","model","callback","$$v","$set","expression","_l","item","key","_v","_s","upgradeVersions","newManifest","coreVars","oldManifest","getVersion","currentCluster","spec","runtimeType","$event","onCancel","directives","rawName","onSubmit","staticRenderFns","props","components","loadding","manifestList","methods","$refs","validate","valid","loadInfo","$router","created","$route","params","$slots","description","header","_t","backPath","backName","backTo","nativeOn","jump","path","to","Object","component","computed","showBack"],"mappings":"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","file":"js/chunk-3d53a7bb.8ecff8a3.js","sourcesContent":["import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import {get, patch} from \"@/plugins/request\"\n\nconst baseUrl = \"/api/v1/manifests\";\n\nexport function manifestGroup() {\n  return get(`${baseUrl}/group`)\n}\n\nexport function listActive() {\n  return get(`${baseUrl}/active`);\n}\n\nexport function changeStatus(versionName, manifest) {\n  return patch(`${baseUrl}/${versionName}`, manifest)\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"theme\":\"#5354bb\"};","import {get, post, del} from \"@/plugins/request\"\n\nconst clusterUrl = \"/api/v1/clusters\"\nconst clusterLoggerUrl = \"/api/v1/clusters/logger/{cluster_name}\"\nconst clusterNodeLoggerUrl = \"/api/v1/clusters/node/logger/{cluster_name}/{node_name}\"\nconst storageProvisionerLoggerUrl = \"/api/v1/clusters/provisioner/log/{cluster_name}/{log_id}\"\n\nexport function getClusterByName(clusterName) {\n  return get(`${clusterUrl}/${clusterName}`)\n}\n\nexport function getClusterByProject(projectNames) {\n  return get(`${clusterUrl}/name/${projectNames}`)\n}\n\nexport function checkClusterNameExistence(clusterName) {\n  return get(`${clusterUrl}/existence/${clusterName}`)\n}\n\nexport function listClusters(page, size) {\n  return get(`${clusterUrl}?pageNum=${page}&pageSize=${size}`)\n}\n\nexport function searchClusters(page, size, condition) {\n  return post(`${clusterUrl}/search?pageNum=${page}&pageSize=${size}`, condition)\n}\n\nexport function createCluster(data) {\n  return post(`${clusterUrl}`, data)\n}\n\nexport function healthCheck(clusterName) {\n  return get(`${clusterUrl}/health/${clusterName}`)\n}\n\nexport function clusterRecover(clusterName) {\n  return post(`${clusterUrl}/recover/${clusterName}`, {})\n}\n\nexport function deleteCluster(clusterName, force) {\n  return del(`${clusterUrl}/${clusterName}?force=${force}`)\n}\n\nexport function importCluster(data) {\n  return post(`${clusterUrl}/import/`, data)\n}\n\nexport function allClusters() {\n  return get(`${clusterUrl}`)\n}\n\nexport function initCluster(clusterName) {\n  return post(`${clusterUrl}/init/${clusterName}/`, {})\n}\n\nexport function upgradeCluster(clusterName, version) {\n  let req = {\n    clusterName: clusterName,\n    version: version,\n  }\n  return post(`${clusterUrl}/upgrade/`, req)\n}\n\nexport function getClusterStatus(clusterName) {\n  return get(`${clusterUrl}/status/${clusterName}`)\n}\n\nexport function getClusterLog(clusterName) {\n  return get(clusterLoggerUrl.replace(\"{cluster_name}\", clusterName))\n}\n\nexport function getClusterNodeLog(clusterName, nodeName) {\n  return get(clusterNodeLoggerUrl.replace(\"{cluster_name}\", clusterName).replace(\"{node_name}\", nodeName))\n}\n\nexport function getProvisionerLog(clusterName, logId) {\n  return get(storageProvisionerLoggerUrl.replace(\"{cluster_name}\", clusterName).replace(\"{log_id}\", logId))\n}\n\nexport function openLogger(clusterName) {\n  window.open(`/ui/#/logger?clusterName=${clusterName}`, \"_blank\", \"height=865, width=800, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, resizable=yes,location=no, status=no\")\n}\n\nexport function openProvisionerLogger(clusterName, logId) {\n  window.open(`/ui/#/logger?clusterName=${clusterName}&logId=${logId}`, \"_blank\", \"height=865, width=800, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, resizable=yes,location=no, status=no\")\n}\n\nexport function getSecret(clusterName) {\n  return get(`${clusterUrl}/secret/${clusterName}`)\n}\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar fails = require('../internals/fails');\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  // eslint-disable-next-line regexp/no-empty-group -- required for testing\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    // eslint-disable-next-line regexp/no-empty-group -- required for testing\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    // eslint-disable-next-line regexp/no-assertion-capturing-group, regexp/no-empty-group -- required for testing\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.es/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (string, limit) {\n      var res = maybeCallNative(internalSplit, this, string, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(this);\n      var S = String(string);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (UNSUPPORTED_Y ? 'g' : 'y');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(UNSUPPORTED_Y ? '^(?:' + rx.source + ')' : rx, flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = UNSUPPORTED_Y ? 0 : q;\n        var z = callRegExpExec(splitter, UNSUPPORTED_Y ? S.slice(q) : S);\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (UNSUPPORTED_Y ? q : 0)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC, UNSUPPORTED_Y);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('layout-content',{attrs:{\"header\":_vm.$t('commons.button.upgrade'),\"back-to\":{ name: 'ClusterList' }}},[_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_c('br')]),_c('el-col',{attrs:{\"span\":10}},[_c('div',{staticClass:\"grid-content bg-purple-light\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('cluster.version'),\"prop\":\"version\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"clearable\":\"\"},on:{\"change\":_vm.changeUpgradeVersions},model:{value:(_vm.form.version),callback:function ($$v) {_vm.$set(_vm.form, \"version\", $$v)},expression:\"form.version\"}},_vm._l((_vm.upgradeVersions),function(item){return _c('el-option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1),(_vm.upgradeVersions.length === 0)?_c('div',[_c('span',{staticClass:\"input-help\"},[_vm._v(_vm._s(_vm.$t(\"cluster.upgrade.upgrade_help\")))])]):_vm._e()],1),_c('el-form-item',[(_vm.newManifest.coreVars.length !== 0 && _vm.oldManifest.coreVars !== 0)?_c('div',[_c('table',{staticClass:\"myTable\",staticStyle:{\"width\":\"100%\"}},[_c('tr',[_c('td',{staticStyle:{\"width\":\"40%\"}},[_vm._v(_vm._s(_vm.$t(\"commons.table.name\")))]),_c('td',{staticStyle:{\"width\":\"30%\"}},[_vm._v(_vm._s(_vm.$t(\"cluster.upgrade.current_version\")))]),_c('td',{staticStyle:{\"width\":\"30%\"}},[_vm._v(_vm._s(_vm.$t(\"cluster.upgrade.upgrade_version\")))])]),_c('tr',[_c('td',{staticStyle:{\"width\":\"40%\"}},[_vm._v(\"Kubernetes\")]),_c('td',{staticStyle:{\"width\":\"30%\"}},[_vm._v(_vm._s(_vm.getVersion(\"kubernetes\", _vm.oldManifest.coreVars)))]),_c('td',{staticStyle:{\"width\":\"30%\"}},[_vm._v(_vm._s(_vm.getVersion(\"kubernetes\", _vm.newManifest.coreVars)))])]),(_vm.getVersion('etcd', _vm.oldManifest.coreVars)!==_vm.getVersion('etcd', _vm.newManifest.coreVars))?_c('tr',[_c('td',{staticStyle:{\"width\":\"40%\"}},[_vm._v(\"ETCD\")]),_c('td',{staticStyle:{\"width\":\"30%\"}},[_vm._v(_vm._s(_vm.getVersion(\"etcd\", _vm.oldManifest.coreVars)))]),_c('td',{staticStyle:{\"width\":\"30%\"}},[_vm._v(_vm._s(_vm.getVersion(\"etcd\", _vm.newManifest.coreVars)))])]):_vm._e(),(_vm.currentCluster.spec.runtimeType=='docker'&& _vm.getVersion('docker', _vm.oldManifest.coreVars)!==_vm.getVersion('docker', _vm.newManifest.coreVars))?_c('tr',[_c('td',{staticStyle:{\"width\":\"40%\"}},[_vm._v(\"Docker\")]),_c('td',{staticStyle:{\"width\":\"30%\"}},[_vm._v(_vm._s(_vm.getVersion(\"docker\", _vm.oldManifest.coreVars)))]),_c('td',{staticStyle:{\"width\":\"30%\"}},[_vm._v(_vm._s(_vm.getVersion(\"docker\", _vm.newManifest.coreVars)))])]):_vm._e(),(_vm.currentCluster.spec.runtimeType=='containerd'&& _vm.getVersion('containerd', _vm.oldManifest.coreVars)!==_vm.getVersion('containerd', _vm.newManifest.coreVars))?_c('tr',[_c('td',{staticStyle:{\"width\":\"40%\"}},[_vm._v(\"Containerd\")]),_c('td',{staticStyle:{\"width\":\"30%\"}},[_vm._v(_vm._s(_vm.getVersion(\"containerd\", _vm.oldManifest.coreVars)))]),_c('td',{staticStyle:{\"width\":\"30%\"}},[_vm._v(_vm._s(_vm.getVersion(\"containerd\", _vm.newManifest.coreVars)))])]):_vm._e()])]):_vm._e()]),_c('el-form-item',{staticStyle:{\"float\":\"right\"}},[_c('el-button',{on:{\"click\":function($event){return _vm.onCancel()}}},[_vm._v(_vm._s(_vm.$t(\"commons.button.cancel\")))]),_c('el-button',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loadding),expression:\"loadding\"}],attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(_vm._s(_vm.$t(\"commons.button.ok\")))])],1)],1)],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <layout-content :header=\"$t('commons.button.upgrade')\" :back-to=\"{ name: 'ClusterList' }\">\n    <el-row>\n      <el-col :span=\"4\"><br /></el-col>\n      <el-col :span=\"10\">\n        <div class=\"grid-content bg-purple-light\">\n          <el-form :model=\"form\" ref=\"form\" :rules=\"rules\" label-width=\"120px\">\n            <el-form-item :label=\"$t('cluster.version')\" prop=\"version\">\n              <el-select style=\"width: 100%\" @change=\"changeUpgradeVersions\" v-model=\"form.version\" clearable>\n                <el-option v-for=\"item of upgradeVersions\" :key=\"item\" :value=\"item\">{{ item }}</el-option>\n              </el-select>\n              <div v-if=\"upgradeVersions.length === 0\"><span class=\"input-help\">{{\n              $t(\"cluster.upgrade.upgrade_help\")\n            }}</span></div>\n            </el-form-item>\n            <el-form-item>\n              <div v-if=\"newManifest.coreVars.length !== 0 && oldManifest.coreVars !== 0\">\n                <table style=\"width: 100%;\" class=\"myTable\">\n                  <tr>\n                    <td style=\"width: 40%\">{{ $t(\"commons.table.name\") }}</td>\n                    <td style=\"width: 30%\">{{ $t(\"cluster.upgrade.current_version\") }}</td>\n                    <td style=\"width: 30%\">{{ $t(\"cluster.upgrade.upgrade_version\") }}</td>\n                  </tr>\n                  <tr>\n                    <td style=\"width: 40%\">Kubernetes</td>\n                    <td style=\"width: 30%\">{{ getVersion(\"kubernetes\", oldManifest.coreVars) }}</td>\n                    <td style=\"width: 30%\">{{ getVersion(\"kubernetes\", newManifest.coreVars) }}</td>\n                  </tr>\n                  <tr v-if=\"getVersion('etcd', oldManifest.coreVars)!==getVersion('etcd', newManifest.coreVars)\">\n                    <td style=\"width: 40%\">ETCD</td>\n                    <td style=\"width: 30%\">{{ getVersion(\"etcd\", oldManifest.coreVars) }}</td>\n                    <td style=\"width: 30%\">{{ getVersion(\"etcd\", newManifest.coreVars) }}</td>\n                  </tr>\n                  <tr v-if=\"currentCluster.spec.runtimeType=='docker'&& getVersion('docker', oldManifest.coreVars)!==getVersion('docker', newManifest.coreVars)\">\n                    <td style=\"width: 40%\">Docker</td>\n                    <td style=\"width: 30%\">{{ getVersion(\"docker\", oldManifest.coreVars) }}</td>\n                    <td style=\"width: 30%\">{{ getVersion(\"docker\", newManifest.coreVars) }}</td>\n                  </tr>\n                  <tr v-if=\"currentCluster.spec.runtimeType=='containerd'&& getVersion('containerd', oldManifest.coreVars)!==getVersion('containerd', newManifest.coreVars)\">\n                    <td style=\"width: 40%\">Containerd</td>\n                    <td style=\"width: 30%\">{{ getVersion(\"containerd\", oldManifest.coreVars) }}</td>\n                    <td style=\"width: 30%\">{{ getVersion(\"containerd\", newManifest.coreVars) }}</td>\n                  </tr>\n                </table>\n              </div>\n            </el-form-item>\n            <el-form-item style=\"float: right\">\n              <el-button @click=\"onCancel()\">{{ $t(\"commons.button.cancel\") }}</el-button>\n              <el-button type=\"primary\" v-loading=\"loadding\" @click=\"onSubmit\">{{ $t(\"commons.button.ok\") }}</el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n      </el-col>\n    </el-row>\n  </layout-content>\n</template>\n\n<script>\nimport LayoutContent from \"@/components/layout/LayoutContent\"\nimport { upgradeCluster, getClusterByName } from \"@/api/cluster\"\nimport { manifestGroup } from \"@/api/manifest\"\nimport Rule from \"@/utils/rules\"\n\nexport default {\n  name: \"ClusterUpgrade\",\n  props: [\"name\"],\n  components: { LayoutContent },\n  data() {\n    return {\n      loadding: false,\n      form: {\n        clusterName: \"\",\n        version: \"\",\n      },\n      rules: {\n        version: [Rule.RequiredRule],\n      },\n      oldManifest: {\n        coreVars: [],\n      },\n      newManifest: {\n        coreVars: [],\n      },\n      upgradeVersions: [],\n      manifestList: [],\n    }\n  },\n  methods: {\n    onSubmit() {\n      this.$refs[\"form\"].validate((valid) => {\n        if (valid) {\n          this.loadding = true\n          upgradeCluster(this.form.clusterName, this.form.version)\n            .then(() => {\n              this.loadding = false\n              this.$message({ type: \"success\", message: this.$t(\"commons.msg.upgrade_start_success\") })\n              this.$router.push({ name: \"ClusterList\" })\n            })\n            .catch(() => {\n              this.loadding = false\n            })\n        }\n      })\n    },\n    loadInfo(clusterName) {\n      getClusterByName(clusterName).then((data) => {\n        this.currentCluster = data\n        this.form.clusterName = data.name\n        const currentVersion = data.spec.version\n        const currentVersions = currentVersion.split(\".\")\n        const version1 = currentVersions[0]\n        const version2 = currentVersions[1]\n        const versions = currentVersions[2].split(\"-ko\")\n        const version3 = Number(versions[0])\n        const koVersion = Number(versions[1])\n        this.upgradeVersions = []\n        manifestGroup().then((res) => {\n          for (const group of res) {\n            group.clusterManifests.forEach((item) => {\n              this.manifestList.push(item)\n            })\n          }\n          for (const manifest of this.manifestList) {\n            if (manifest.isActive) {\n              const manifestKoVersions = manifest.name.split(\"-ko\")\n              const manifestVersions = manifestKoVersions[0].split(\".\")\n              const manifestKoVersion = Number(manifestKoVersions[1])\n              const manifestVersion1 = manifestVersions[0]\n              const manifestVersion2 = manifestVersions[1]\n              const manifestVersion3 = Number(manifestVersions[2])\n              if (version1 === manifestVersion1 && version2 === manifestVersion2) {\n                if (manifestVersion3 > version3) {\n                  this.upgradeVersions.push(manifest.name)\n                }\n                if (manifestVersion3 === version3 && koVersion < manifestKoVersion) {\n                  this.upgradeVersions.push(manifest.name)\n                }\n              }\n            }\n          }\n        })\n      })\n    },\n    changeUpgradeVersions() {\n      for (const m of this.manifestList) {\n        if (m.name.indexOf(this.currentCluster.spec.version) !== -1) {\n          this.oldManifest = m\n        }\n        if (m.name === this.form.version) {\n          this.newManifest = m\n        }\n      }\n    },\n    getVersion(component, ns) {\n      for (const n of ns) {\n        if (n.name === component) {\n          return n.version\n        }\n      }\n    },\n    onCancel() {\n      this.$router.push({ name: \"ClusterList\" })\n    },\n  },\n  created() {\n    this.loadInfo(this.$route.params.name)\n  },\n}\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=9d2e1136&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9d2e1136\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@10.2.0@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./LayoutContent.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content-container\"},[(_vm.$slots.description || _vm.description)?_c('div',{staticClass:\"content-container__description\"},[_c('el-alert',{attrs:{\"title\":_vm.description,\"type\":\"info\"}}),_c('br')],1):_vm._e(),(_vm.$slots.header || _vm.header)?_c('div',{staticClass:\"content-container__header\"},[_vm._t(\"header\",function(){return [(_vm.showBack)?_c('back-button',{attrs:{\"path\":_vm.backPath,\"name\":_vm.backName,\"to\":_vm.backTo}}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.header)+\" \")]})],2):_vm._e(),(_vm.$slots.toolbar)?_c('div',{staticClass:\"content-container__toolbar\"},[_vm._t(\"toolbar\")],2):_vm._e(),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-icon',{staticClass:\"back-button\",attrs:{\"name\":\"back\"},nativeOn:{\"click\":function($event){return _vm.jump.apply(null, arguments)}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-icon name=\"back\" class=\"back-button\" @click.native=\"jump\"/>\n</template>\n\n<script>\nexport default {\n  name: \"BackButton\",\n  props: {\n    path: String,\n    name: String,\n    to: Object\n  },\n  methods: {\n    jump() {\n      const {path, name, to} = this\n      if (path) {\n        this.$router.push(path)\n      }\n      if (name) {\n        this.$router.push(name)\n      }\n      if (to) {\n        this.$router.push(to)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import \"~@/styles/common/mixins.scss\";\n@import \"~@/styles/common/variables.scss\";\n\n.back-button {\n  cursor: pointer;\n  margin-right: 10px;\n  font-weight: 600;\n\n  &:active {\n    transform: scale(0.85);\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=b3aebde8&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"content-container\">\n    <div\n      class=\"content-container__description\"\n      v-if=\"$slots.description || description\"\n    >\n      <el-alert :title=\"description\" type=\"info\"> </el-alert>\n      <br />\n    </div>\n    <div class=\"content-container__header\" v-if=\"$slots.header || header\">\n      <slot name=\"header\">\n        <back-button\n          :path=\"backPath\"\n          :name=\"backName\"\n          :to=\"backTo\"\n          v-if=\"showBack\"\n        ></back-button>\n        {{ header }}\n      </slot>\n    </div>\n    <div class=\"content-container__toolbar\" v-if=\"$slots.toolbar\">\n      <slot name=\"toolbar\"></slot>\n    </div>\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nimport BackButton from \"@/components/back-button\";\nexport default {\n  name: \"LayoutContent\",\n  components: { BackButton },\n  props: {\n    header: String,\n    description: String,\n    backPath: String,\n    backName: String,\n    backTo: Object,\n  },\n  computed: {\n    showBack({ backPath, backName, backTo }) {\n      return backPath || backName || backTo;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"~@/styles/common/mixins.scss\";\n@import \"~@/styles/common/variables\";\n\n.content-container {\n  transition: 0.3s;\n  color: $--color-text-primary;\n  background-color: #ffffff;\n  overflow: auto;\n  height: 100%;\n  padding: 20px;\n  border-radius: 4px;\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.14);\n  box-sizing: border-box;\n\n  .content-container__header {\n    margin: 0px 0 20px 0;\n    font-size: 18px;\n  }\n\n  .content-container__toolbar {\n    @include flex-row(space-between, center);\n    margin-bottom: 10px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./LayoutContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./LayoutContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LayoutContent.vue?vue&type=template&id=b9b3b6f6&\"\nimport script from \"./LayoutContent.vue?vue&type=script&lang=js&\"\nexport * from \"./LayoutContent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LayoutContent.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@10.2.0@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"theme\":\"#5354bb\"};"],"sourceRoot":""}