(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19255ae6"],{c100:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("layout-content",{attrs:{header:t.$t("commons.button.edit"),"back-to":{name:"PlanList"}}},[n("el-row",[n("el-col",{attrs:{span:4}},[n("br")]),n("el-col",{attrs:{span:10}},[n("div",{staticClass:"grid-content bg-purple-light"},[n("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"form",attrs:{"label-width":"200px",model:t.form,rules:t.rules,"label-position":"left"}},[n("el-form-item",{attrs:{label:t.$t("commons.table.name"),prop:"name"}},[n("el-input",{attrs:{disabled:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:t.$t("automatic.plan.master_model"),prop:"planVars.masterModel"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"","reserve-keyword":""},model:{value:t.form.planVars.masterModel,callback:function(e){t.$set(t.form.planVars,"masterModel",e)},expression:"form.planVars.masterModel"}},t._l(t.vmConfigs,(function(t,e){return n("el-option",{key:e,attrs:{label:t.name,value:t.name}})})),1)],1),n("el-form-item",{attrs:{label:t.$t("automatic.plan.worker_model"),prop:"planVars.workerModel"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"","reserve-keyword":""},model:{value:t.form.planVars.workerModel,callback:function(e){t.$set(t.form.planVars,"workerModel",e)},expression:"form.planVars.workerModel"}},t._l(t.vmConfigs,(function(t,e){return n("el-option",{key:e,attrs:{label:t.name,value:t.name}})})),1)],1),n("div",[n("h3",[t._v(t._s(t.$t("automatic.plan.config")))]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.vmConfigs}},[n("el-table-column",{attrs:{prop:"name",label:t.$t("commons.table.name")}}),n("el-table-column",{attrs:{prop:"config.cpu",label:t.$t("automatic.vm_config.cpu")}}),n("el-table-column",{attrs:{prop:"config.memory",label:t.$t("automatic.vm_config.memory")}}),"OpenStack"===t.form.provider?n("el-table-column",{attrs:{prop:"config.disk",label:t.$t("automatic.vm_config.disk")}}):t._e()],1)],1),n("br"),n("el-form-item",[n("div",{staticStyle:{float:"right"}},[n("el-button",{on:{click:function(e){return t.onCancel()}}},[t._v(t._s(t.$t("commons.button.cancel")))]),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v(t._s(t.$t("commons.button.submit")))])],1)])],1)],1)])],1)],1)},o=[],r=(n("f5bd"),n("b1fa"),n("c7a8")),l=n("be17"),c=n("0792"),i={name:"PlanEdit",components:{LayoutContent:l["a"]},props:["name"],data:function(){return{form:{planVars:{masterModel:"",workerModel:""}},rules:{planVars:{masterModel:[c["a"].RequiredRule],workerModel:[c["a"].RequiredRule]}},loading:!1,vmConfigs:[]}},methods:{onCancel:function(){this.$router.push({name:"PlanList"})},onSubmit:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;Object(r["f"])(e.name,e.form).then((function(){e.$message({type:"success",message:e.$t("commons.msg.update_success")}),e.$router.push({name:"PlanList"})}))}))}},created:function(){var t=this;this.loading=!0,Object(r["c"])(this.name).then((function(e){t.form=e,Object(r["d"])(t.form.region).then((function(e){t.loading=!1,t.vmConfigs=e}))})).finally((function(){t.loading=!1}))}},s=i,m=n("5d22"),u=Object(m["a"])(s,a,o,!1,null,"0f1b98d0",null);e["default"]=u.exports},c7a8:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"e",(function(){return l})),n.d(e,"d",(function(){return c})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"f",(function(){return m}));n("a5c9");var a=n("ff66"),o="/api/v1/plans";function r(t){return Object(a["b"])(o+"/"+t)}function l(t,e,n){return Object(a["e"])("".concat(o,"/search?pageNum=").concat(t,"&pageSize=").concat(e),n)}function c(t){return Object(a["c"])("".concat(o,"/configs/").concat(t))}function i(t){return Object(a["e"])("".concat(o),t)}function s(t){return Object(a["c"])("".concat(o,"/").concat(t))}function m(t,e){return Object(a["d"])("".concat(o,"/").concat(t),e)}}}]);
//# sourceMappingURL=chunk-19255ae6.ef992816.js.map