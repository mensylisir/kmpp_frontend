(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31fe9605"],{6560:function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return i})),n.d(e,"g",(function(){return s})),n.d(e,"c",(function(){return p})),n.d(e,"a",(function(){return l})),n.d(e,"h",(function(){return u})),n.d(e,"f",(function(){return m})),n.d(e,"i",(function(){return f}));n("a5c9");var o=n("ff66"),a="/api/v1/ippools";function r(){return Object(o["c"])("".concat(a))}function c(t){return Object(o["b"])("".concat(a,"/").concat(t))}function i(t){return Object(o["e"])(a,t)}function s(t,e,n){return Object(o["e"])("".concat(a,"/search?pageNum=").concat(t,"&pageSize=").concat(e),n)}function p(t,e){return Object(o["b"])("".concat(a,"/").concat(t,"/ips/").concat(e))}function l(t,e){return Object(o["e"])("".concat(a,"/").concat(t,"/ips"),e)}function u(t){return Object(o["d"])("".concat(a,"/").concat(t,"/ips/sync"))}function m(t,e,n,r){return Object(o["e"])("".concat(a,"/").concat(n,"/ips/search?pageNum=").concat(t,"&pageSize=").concat(e),r)}function f(t,e,n){return Object(o["d"])("".concat(a,"/").concat(t,"/ips/").concat(e),n)}},e21a:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("layout-content",{attrs:{header:t.$t("commons.button.create"),"back-to":{name:"IpList"}}},[n("el-row",[n("el-col",{attrs:{span:4}},[n("br")]),n("el-col",{attrs:{span:10}},[n("div",{staticClass:"grid-content bg-purple-light"},[n("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px","status-icon":"","label-position":"left"}},[n("el-form-item",{attrs:{label:t.$t("automatic.ip_pool.subnet")}},[n("el-input",{attrs:{disabled:"",placeholder:t.subnet}})],1),n("el-form-item",{attrs:{label:t.$t("automatic.ip_pool.ip_start"),prop:"ipStart"}},[n("el-input",{attrs:{placeholder:t.$t("automatic.ip_pool.ip_start_help")},model:{value:t.form.ipStart,callback:function(e){t.$set(t.form,"ipStart",e)},expression:"form.ipStart"}})],1),n("el-form-item",{attrs:{label:t.$t("automatic.ip_pool.ip_end"),prop:"ipEnd"}},[n("el-input",{attrs:{placeholder:t.$t("automatic.ip_pool.ip_end_help")},model:{value:t.form.ipEnd,callback:function(e){t.$set(t.form,"ipEnd",e)},expression:"form.ipEnd"}})],1),n("el-form-item",{attrs:{label:t.$t("automatic.ip_pool.gateway"),prop:"gateway"}},[n("el-input",{attrs:{placeholder:t.$t("automatic.ip_pool.gateway_help")},model:{value:t.form.gateway,callback:function(e){t.$set(t.form,"gateway",e)},expression:"form.gateway"}})],1),n("el-form-item",{attrs:{label:t.$t("automatic.ip_pool.dns1"),prop:"dns1"}},[n("el-input",{attrs:{placeholder:t.$t("automatic.ip_pool.dns1_help")},model:{value:t.form.dns1,callback:function(e){t.$set(t.form,"dns1",e)},expression:"form.dns1"}})],1),n("el-form-item",{attrs:{label:t.$t("automatic.ip_pool.dns2"),prop:"dns2"}},[n("el-input",{attrs:{placeholder:t.$t("automatic.ip_pool.dns2_help")},model:{value:t.form.dns2,callback:function(e){t.$set(t.form,"dns2",e)},expression:"form.dns2"}})],1),n("el-form-item",[n("div",{staticStyle:{float:"right"}},[n("el-button",{on:{click:function(e){return t.onCancel()}}},[t._v(t._s(t.$t("commons.button.cancel")))]),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v(t._s(t.$t("commons.button.submit")))])],1)])],1)],1)]),n("el-col",{attrs:{span:4}})],1)],1)},a=[],r=(n("f5bd"),n("be17")),c=n("6560"),i=n("0792"),s=n("6124"),p={name:"IpCreate",components:{LayoutContent:r["a"]},props:["name","subnet"],data:function(){return{form:{ipStart:"",ipEnd:"",gateway:"",dns1:"",dns2:"",ipPoolName:""},rules:{ipStart:[i["a"].IpRule],ipEnd:[i["a"].IpRule],gateway:[i["a"].IpRule],dns1:[i["a"].IpRule],dns2:[i["a"].IpRule]}}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate((function(t){return!!t&&(e.checkNetwork()?void Object(c["a"])(e.name,{ipStart:e.form.ipStart,ipEnd:e.form.ipEnd,gateway:e.form.gateway,dns1:e.form.dns1,dns2:e.form.dns2,ipPoolName:e.name}).then((function(){e.$message({type:"success",message:e.$t("commons.msg.save_success")}),e.$router.push({name:"IpList"})})):(e.$message({type:"error",message:e.$t("commons.validate.ip_range_error")}),!1))}))},onCancel:function(){this.$router.push({name:"IpList"})},checkNetwork:function(){for(var t=s.IPv4.parse(this.form.ipStart),e=s.IPv4.parse(this.form.ipEnd),n=t.toByteArray(),o=e.toByteArray(),a=0;a<4;a++){if(n[a]>o[a])return!1;if(3===a&&o[a]-n[a]<1)return!1}return!0}}},l=p,u=n("5d22"),m=Object(u["a"])(l,o,a,!1,null,"46daf339",null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-31fe9605.1572531f.js.map