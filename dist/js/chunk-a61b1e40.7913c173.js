(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a61b1e40"],{"274d":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"f",(function(){return r})),n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return c})),n.d(e,"a",(function(){return l})),n.d(e,"c",(function(){return u})),n.d(e,"g",(function(){return m}));n("a5c9");var a=n("ff66"),o="/api/v1/regions";function i(t){return Object(a["b"])(o+"/"+t)}function r(t,e,n){return Object(a["e"])("".concat(o,"/search?pageNum=").concat(t,"&pageSize=").concat(e),n)}function s(){return Object(a["c"])("".concat(o))}function c(t){return Object(a["e"])("".concat(o,"/datacenter"),t)}function l(t){return Object(a["e"])("".concat(o),t)}function u(t){return Object(a["c"])("".concat(o,"/").concat(t))}function m(t,e){return Object(a["d"])("".concat(o,"/").concat(t),e)}},f88d:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("layout-content",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{header:t.$t("automatic.region.name"),description:t.$t("automatic.region.description")}},[n("complex-table",{attrs:{"local-key":"region_columns",data:t.data,"pagination-config":t.paginationConfig,"search-config":t.searchConfig,selects:t.selects},on:{search:t.search,"update:selects":function(e){t.selects=e}},scopedSlots:t._u([{key:"header",fn:function(){return[n("el-button-group",[n("el-button",{attrs:{size:"small"},on:{click:function(e){return t.create()}}},[t._v(" "+t._s(t.$t("commons.button.create"))+" ")]),n("el-button",{attrs:{size:"small",disabled:0===t.selects.length},on:{click:function(e){return t.del()}}},[t._v(" "+t._s(t.$t("commons.button.delete"))+" ")])],1)]},proxy:!0}])},[n("el-table-column",{attrs:{type:"selection",fix:""}}),n("el-table-column",{attrs:{label:t.$t("commons.table.name"),"mix-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("el-link",{attrs:{type:"info"},on:{click:function(e){return t.openDetailPage(a)}}},[t._v(t._s(a.name))])]}}])}),n("el-table-column",{attrs:{label:t.$t("automatic.cloud_provider"),"mix-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return["OpenStack"===a.regionVars["provider"]?n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#iconopenstack"}})]):t._e(),"vSphere"===a.regionVars["provider"]?n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#iconvmware"}})]):t._e(),"FusionCompute"===a.regionVars["provider"]?n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#iconhuawei"}})]):t._e(),t._v(" "+t._s(a.regionVars["provider"])+" ")]}}])},[t._v("s ")]),n("el-table-column",{attrs:{label:t.$t("automatic.datacenter"),"mix-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v(t._s(n.datacenter)+" ")]}}])}),n("el-table-column",{attrs:{label:t.$t("commons.table.create_time")},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v(t._s(t._f("datetimeFormat")(n.createdAt)))]}}])}),n("fu-table-operations",{attrs:{buttons:t.buttons,label:t.$t("commons.table.action")}})],1),n("el-dialog",{attrs:{title:t.$t("automatic.detail"),visible:t.openDetail},on:{"update:visible":function(e){t.openDetail=e}}},[n("div",{staticStyle:{"text-align":"center"}},[n("div",{staticStyle:{"margin-top":"15px"},attrs:{align:"center"}},["vSphere"===t.item.provider?n("table",{staticClass:"myTable",staticStyle:{width:"90%"}},[n("tr",[n("td",[t._v(t._s(t.$t("commons.table.name")))]),n("td",[t._v(t._s(t.item.name))])]),n("tr",[n("td",[t._v(t._s(t.$t("automatic.cloud_provider")))]),n("td",[t._v(t._s(t.item.regionVars.provider))])]),n("tr",[n("td",[t._v(t._s(t.$t("automatic.datacenter")))]),n("td",[t._v(t._s(t.item.datacenter))])]),n("tr",[n("td",[t._v(t._s(t.$t("automatic.region.vcenter_host")))]),n("td",[t._v(t._s(t.item.regionVars.host))])]),n("tr",[n("td",[t._v(t._s(t.$t("automatic.region.vcenter_username")))]),n("td",[t._v(t._s(t.item.regionVars.username))])])]):t._e(),"FusionCompute"===t.item.provider?n("table",{staticClass:"myTable",staticStyle:{width:"90%"}},[n("tr",[n("td",[t._v(t._s(t.$t("commons.table.name")))]),n("td",[t._v(t._s(t.item.name))])]),n("tr",[n("td",[t._v(t._s(t.$t("automatic.cloud_provider")))]),n("td",[t._v(t._s(t.item.regionVars.provider))])]),n("tr",[n("td",[t._v(t._s(t.$t("automatic.datacenter")))]),n("td",[t._v(t._s(t.item.datacenter))])]),n("tr",[n("td",[t._v(t._s(t.$t("automatic.region.fusionCompute_server")))]),n("td",[t._v(t._s(t.item.regionVars.server))])]),n("tr",[n("td",[t._v(t._s(t.$t("automatic.region.vcenter_username")))]),n("td",[t._v(t._s(t.item.regionVars.user))])])]):t._e(),"OpenStack"===t.item.provider?n("table",{staticClass:"myTable",staticStyle:{width:"90%"}},[n("tr",[n("td",[t._v(t._s(t.$t("commons.table.name")))]),n("td",[t._v(t._s(t.item.name))])]),n("tr",[n("td",[t._v(t._s(t.$t("automatic.cloud_provider")))]),n("td",[t._v(t._s(t.item.regionVars.provider))])]),n("tr",[n("td",[t._v(t._s(t.$t("automatic.datacenter")))]),n("td",[t._v(t._s(t.item.datacenter))])]),n("tr",[n("td",[t._v(t._s(t.$t("automatic.region.openstack_identity")))]),n("td",[t._v(t._s(t.item.regionVars.identity))])]),n("tr",[n("td",[t._v(t._s(t.$t("automatic.region.vcenter_username")))]),n("td",[t._v(t._s(t.item.regionVars.username))])]),n("tr",[n("td",[t._v(t._s(t.$t("automatic.region.openstack_project")))]),n("td",[t._v(t._s(t.item.regionVars.projectId))])]),n("tr",[n("td",[t._v(t._s(t.$t("automatic.region.openstack_domain")))]),n("td",[t._v(t._s(t.item.regionVars.domainName))])])]):t._e()])]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.openDetail=!1}}},[t._v(t._s(t.$t("commons.button.cancel")))])],1)])],1)},o=[],i=n("30d5"),r=(n("f5bd"),n("b1fa"),n("2e6f"),n("af21"),n("2769"),n("ecf1"),n("86ca")),s=n("274d"),c=n("be17"),l={name:"RegionList",components:{ComplexTable:r["a"],LayoutContent:c["a"]},data:function(){var t=this;return{buttons:[{label:this.$t("commons.button.edit"),icon:"el-icon-edit",click:function(e){t.$router.push({name:"RegionEdit",params:{name:e.name}})}},{label:this.$t("commons.button.delete"),icon:"el-icon-delete",click:function(e){t.del(e.name)}}],searchConfig:{quickPlaceholder:this.$t("commons.search.quickSearch"),components:[{field:"name",label:this.$t("commons.table.name"),component:"FuComplexInput",defaultOperator:"eq"},{field:"create_time",label:this.$t("commons.table.create_time"),component:"FuComplexDateTime",valueFormat:"yyyy-MM-dd HH:mm:ss"}]},paginationConfig:{currentPage:1,pageSize:10,total:0},data:[],loading:!1,selects:[],openDetail:!1,item:{regionVars:{},datacenter:""}}},methods:{search:function(t){var e=this;this.loading=!0;var n=this.paginationConfig,a=n.currentPage,o=n.pageSize;Object(s["f"])(a,o,t).then((function(t){e.loading=!1,e.data=t.items,e.paginationConfig.total=t.total}))},create:function(){this.$router.push({path:"/automatic/regions/create"})},del:function(t){var e=this;this.$confirm(this.$t("commons.confirm_message.delete"),this.$t("commons.message_box.prompt"),{confirmButtonText:this.$t("commons.button.confirm"),cancelButtonText:this.$t("commons.button.cancel"),type:"warning"}).then((function(){var n=[];if(t)n.push(Object(s["b"])(t));else{var a,o=Object(i["a"])(e.selects);try{for(o.s();!(a=o.n()).done;){var r=a.value;n.push(Object(s["b"])(r.name))}}catch(c){o.e(c)}finally{o.f()}}Promise.all(n).then((function(){e.search(),e.$message({type:"success",message:e.$t("commons.msg.delete_success")})})).catch((function(){e.search()}))}))},openDetailPage:function(t){this.openDetail=!0,this.item=t}},created:function(){this.search()}},u=l,m=n("5d22"),d=Object(m["a"])(u,a,o,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-a61b1e40.7913c173.js.map