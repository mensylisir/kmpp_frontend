(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-692b8f68"],{"7ea2":function(t,e,n){"use strict";n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return u})),n.d(e,"a",(function(){return l})),n.d(e,"p",(function(){return s})),n.d(e,"c",(function(){return f})),n.d(e,"k",(function(){return m})),n.d(e,"b",(function(){return p})),n.d(e,"d",(function(){return b})),n.d(e,"l",(function(){return d})),n.d(e,"m",(function(){return h})),n.d(e,"q",(function(){return v})),n.d(e,"h",(function(){return k})),n.d(e,"g",(function(){return _})),n.d(e,"i",(function(){return j})),n.d(e,"n",(function(){return g})),n.d(e,"o",(function(){return w})),n.d(e,"j",(function(){return O}));n("99af"),n("ac1f"),n("5319");var r=n("ff66"),o="/api/v1/clusters",c="/api/v1/clusters/logger/{cluster_name}",a="/api/v1/clusters/provisioner/log/{cluster_name}/{log_id}";function i(t){return Object(r["c"])("".concat(o,"/").concat(t))}function u(t){return Object(r["c"])("".concat(o,"/name/").concat(t))}function l(t){return Object(r["c"])("".concat(o,"/existence/").concat(t))}function s(t,e,n){return Object(r["e"])("".concat(o,"/search?pageNum=").concat(t,"&pageSize=").concat(e),n)}function f(t){return Object(r["e"])("".concat(o),t)}function m(t){return Object(r["c"])("".concat(o,"/health/").concat(t))}function p(t){return Object(r["e"])("".concat(o,"/recover/").concat(t),{})}function b(t,e){return Object(r["b"])("".concat(o,"/").concat(t,"?force=").concat(e))}function d(t){return Object(r["e"])("".concat(o,"/import/"),t)}function h(t){return Object(r["e"])("".concat(o,"/init/").concat(t,"/"),{})}function v(t,e){var n={clusterName:t,version:e};return Object(r["e"])("".concat(o,"/upgrade/"),n)}function k(t){return Object(r["c"])("".concat(o,"/status/").concat(t))}function _(t){return Object(r["c"])(c.replace("{cluster_name}",t))}function j(t,e){return Object(r["c"])(a.replace("{cluster_name}",t).replace("{log_id}",e))}function g(t){window.open("/ui/#/logger?clusterName=".concat(t),"_blank","height=865, width=800, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, resizable=yes,location=no, status=no")}function w(t,e){window.open("/ui/#/logger?clusterName=".concat(t,"&logId=").concat(e),"_blank","height=865, width=800, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, resizable=yes,location=no, status=no")}function O(t){return Object(r["c"])("".concat(o,"/secret/").concat(t))}},"7f43":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("layout-content",{attrs:{header:"导入集群","back-to":{name:"ClusterList"}}},[n("el-row",[n("el-col",{attrs:{span:4}},[n("br")]),n("el-col",{attrs:{span:10}},[n("div",{staticClass:"grid-content bg-purple-light"},[n("el-form",{ref:"form",attrs:{model:t.form,"label-position":"left",rules:t.rules,"label-width":"120px"}},[n("el-form-item",{attrs:{label:t.$t("commons.table.name"),prop:"name"}},[n("el-input",{staticStyle:{width:"100%"},attrs:{clearable:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:t.$t("project.project"),prop:"projectName"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:""},model:{value:t.form.projectName,callback:function(e){t.$set(t.form,"projectName",t._n(e))},expression:"form.projectName"}},t._l(t.projects,(function(e){return n("el-option",{key:e.name,attrs:{value:e.name}},[t._v(t._s(e.name))])})),1)],1),n("el-form-item",{attrs:{label:"apiServer",prop:"apiServer"}},[n("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:t.$t("cluster.import.api_server_help"),clearable:""},model:{value:t.form.apiServer,callback:function(e){t.$set(t.form,"apiServer",e)},expression:"form.apiServer"}})],1),n("el-form-item",{attrs:{label:"router",prop:"router"}},[n("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:t.$t("cluster.import.router_help"),clearable:""},model:{value:t.form.router,callback:function(e){t.$set(t.form,"router",e)},expression:"form.router"}})],1),n("el-form-item",{attrs:{label:"token",prop:"token"}},[n("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",autosize:{minRows:2},clearable:""},model:{value:t.form.token,callback:function(e){t.$set(t.form,"token",e)},expression:"form.token"}})],1),n("el-form-item",{staticStyle:{float:"right"}},[n("el-button",{on:{click:function(e){return t.onCancel()}}},[t._v(t._s(t.$t("commons.button.cancel")))]),n("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loadding,expression:"loadding"}],attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("commons.button.create")))])],1)],1)],1)])],1)],1)},o=[],c=n("be17"),a=n("7273"),i=n("7ea2"),u=n("0792"),l={name:"ClusterImport",components:{LayoutContent:c["a"]},data:function(){return{loadding:!1,projects:[],form:{name:"",apiServer:"",token:"",router:"",projectName:"kubeoperator"},rules:{name:[u["a"].RequiredRule],apiServer:[u["a"].RequiredRule],token:[u["a"].RequiredRule],projectName:[u["a"].RequiredRule],router:[u["a"].RequiredRule]}}},methods:{onSubmit:function(){var t=this;this.$refs["form"].validate((function(e){if(!e)return!1;t.loadding=!0,Object(i["l"])(t.form).then((function(){t.loadding=!1,t.$router.push({name:"ClusterList"})})).catch((function(){t.loadding=!1}))}))},getProjects:function(){var t=this;Object(a["a"])().then((function(e){t.projects=e.items}))},onCancel:function(){this.$router.push({name:"ClusterList"})}},created:function(){this.getProjects()}},s=l,f=n("2877"),m=Object(f["a"])(s,r,o,!1,null,"ecbc0dd4",null);e["default"]=m.exports},"992c":function(t,e,n){t.exports={theme:"#5354bb"}},a026:function(t,e,n){"use strict";n("992c")},be17:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-container"},[t.$slots.description||t.description?n("div",{staticClass:"content-container__description"},[n("el-alert",{attrs:{title:t.description,type:"info"}}),n("br")],1):t._e(),t.$slots.header||t.header?n("div",{staticClass:"content-container__header"},[t._t("header",(function(){return[t.showBack?n("back-button",{attrs:{path:t.backPath,name:t.backName,to:t.backTo}}):t._e(),t._v(" "+t._s(t.header)+" ")]}))],2):t._e(),t.$slots.toolbar?n("div",{staticClass:"content-container__toolbar"},[t._t("toolbar")],2):t._e(),t._t("default")],2)},o=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-icon",{staticClass:"back-button",attrs:{name:"back"},nativeOn:{click:function(e){return t.jump.apply(null,arguments)}}})},a=[],i=(n("b0c0"),{name:"BackButton",props:{path:String,name:String,to:Object},methods:{jump:function(){var t=this.path,e=this.name,n=this.to;t&&this.$router.push(t),e&&this.$router.push(e),n&&this.$router.push(n)}}}),u=i,l=(n("eb9f"),n("2877")),s=Object(l["a"])(u,c,a,!1,null,null,null),f=s.exports,m={name:"LayoutContent",components:{BackButton:f},props:{header:String,description:String,backPath:String,backName:String,backTo:Object},computed:{showBack:function(t){var e=t.backPath,n=t.backName,r=t.backTo;return e||n||r}}},p=m,b=(n("a026"),Object(l["a"])(p,r,o,!1,null,null,null));e["a"]=b.exports},eb9f:function(t,e,n){"use strict";n("f574")},f574:function(t,e,n){t.exports={theme:"#5354bb"}}}]);
//# sourceMappingURL=chunk-692b8f68.297f8a86.js.map