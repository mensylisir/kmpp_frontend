{"version":3,"sources":["webpack:///./src/business/xpack/multi-cluster/index.vue?a345","webpack:///./src/business/xpack/multi-cluster/dialog/RelationsManagement.vue?0a8b","webpack:///src/business/xpack/multi-cluster/dialog/RelationsManagement.vue","webpack:///./src/business/xpack/multi-cluster/dialog/RelationsManagement.vue?1abf","webpack:///./src/business/xpack/multi-cluster/dialog/RelationsManagement.vue","webpack:///./src/business/xpack/multi-cluster/dialog/RepositoryErrorMessage.vue?16c9","webpack:///src/business/xpack/multi-cluster/dialog/RepositoryErrorMessage.vue","webpack:///./src/business/xpack/multi-cluster/dialog/RepositoryErrorMessage.vue?c2c8","webpack:///./src/business/xpack/multi-cluster/dialog/RepositoryErrorMessage.vue","webpack:///src/business/xpack/multi-cluster/index.vue","webpack:///./src/business/xpack/multi-cluster/index.vue?41d2","webpack:///./src/business/xpack/multi-cluster/index.vue","webpack:///./src/api/xpack/multi-cluster.js","webpack:///./src/api/cluster.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","$t","relationManagementOpened","currentRepositoryName","on","$event","repositoryErrorMessageOpened","errorMessage","data","searchConfig","paginationConfig","search","scopedSlots","_u","key","fn","create","_v","_s","proxy","ref","row","name","status","staticClass","staticStyle","_e","showErrorMessage","_f","createdAt","buttons","staticRenderFns","dialogVisible","directives","rawName","value","expression","model","callback","$$v","slot","onSubmit","component","message","ps","push","baseUrl","listMultiClusterRepositories","currentPage","pageSize","get","getMultiClusterRepository","createMultiClusterRepository","post","deleteMultiClusterRepository","del","updateMultiClusterRepository","patch","listMultiClusterRepositoryRelations","updateMultiClusterRepositoryRelations","getMultiClusterSyncLogs","getMultiClusterSyncLogsDetail","logId","clusterUrl","clusterLoggerUrl","storageProvisionerLoggerUrl","getClusterByName","clusterName","getClusterByProject","projectNames","checkClusterNameExistence","searchClusters","page","size","condition","createCluster","healthCheck","clusterRecover","deleteCluster","force","importCluster","allClusters","initCluster","upgradeCluster","version","req","getClusterStatus","getClusterLog","replace","getProvisionerLog","openLogger","window","open","openProvisionerLogger","getSecret"],"mappings":"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","file":"js/chunk-05e29a3e.a8b52485.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('layout-content',{attrs:{\"header\":_vm.$t('multi_cluster.multi_cluster')}},[_c('relations-management',{attrs:{\"visible\":_vm.relationManagementOpened,\"name\":_vm.currentRepositoryName},on:{\"update:visible\":function($event){_vm.relationManagementOpened=$event}}}),_c('repository-error-message',{attrs:{\"visible\":_vm.repositoryErrorMessageOpened,\"message\":_vm.errorMessage},on:{\"update:visible\":function($event){_vm.repositoryErrorMessageOpened=$event}}}),_c('complex-table',{attrs:{\"data\":_vm.data,\"local-key\":\"multi_cluster_columns\",\"search-config\":_vm.searchConfig,\"pagination-config\":_vm.paginationConfig},on:{\"search\":_vm.search},scopedSlots:_vm._u([{key:\"toolbar\",fn:function(){return [_c('el-button-group',[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.create()}}},[_vm._v(_vm._s(_vm.$t('commons.button.create')))])],1)]},proxy:true}])},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"fix\":\"\"}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('commons.table.name'),\"mix-width\":\"100\",\"fix\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(row.name)+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('multi_cluster.address'),\"min-width\":\"100\",\"prop\":\"source\",\"fix\":\"\"}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('commons.table.status'),\"min-width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [(row.status ==='Running')?_c('div',[_c('span',{staticClass:\"iconfont iconduihao\",staticStyle:{\"color\":\"#32B350\"}}),_vm._v(\" \"+_vm._s(_vm.$t(\"commons.status.running\"))+\" \")]):_vm._e(),(row.status ==='Initializing')?_c('div',[_c('i',{staticClass:\"el-icon-loading\"}),_vm._v(\"  \"+_vm._s(_vm.$t(\"commons.status.initializing\"))+\" \")]):_vm._e(),(row.status === 'Failed')?_c('div',[_c('span',{staticClass:\"iconfont iconerror\",staticStyle:{\"color\":\"#FA4147\"}}),_vm._v(\"       \"),_c('el-link',{attrs:{\"type\":\"info\"},on:{\"click\":function($event){return _vm.showErrorMessage(row)}}},[_vm._v(_vm._s(_vm.$t(\"commons.status.failed\")))])],1):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('commons.table.create_time')},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(_vm._f(\"datetimeFormat\")(row.createdAt))+\" \")]}}])}),_c('fu-table-operations',{attrs:{\"buttons\":_vm.buttons,\"label\":_vm.$t('commons.table.action'),\"fix\":\"\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.$t('multi_cluster.relation_management'),\"visible\":_vm.dialogVisible,\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-row',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('el-transfer',{attrs:{\"sty\":\"\",\"titles\":[_vm.$t('multi_cluster.cluster_list'),_vm.$t('multi_cluster.cluster_list')],\"data\":_vm.data},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible=false}}},[_vm._v(_vm._s(_vm.$t('commons.button.cancel')))]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(_vm._s(_vm.$t('commons.button.submit')))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog\n    :title=\"$t('multi_cluster.relation_management')\"\n    :visible.sync=\"dialogVisible\"\n    width=\"40%\">\n    <el-row v-loading=\"loading\">\n      <el-transfer sty :titles=\"[$t('multi_cluster.cluster_list'),$t('multi_cluster.cluster_list')]\" v-model=\"value\"\n                   :data=\"data\"></el-transfer>\n    </el-row>\n    <span slot=\"footer\" class=\"dialog-footer\">\n    <el-button @click=\"dialogVisible=false\">{{$t('commons.button.cancel')}}</el-button>\n    <el-button type=\"primary\" @click=\"onSubmit\">{{$t('commons.button.submit')}}</el-button>\n  </span>\n  </el-dialog>\n</template>\n\n\n<script>\n  import {listMultiClusterRepositoryRelations, updateMultiClusterRepositoryRelations} from \"@/api/xpack/multi-cluster\"\n  import {allClusters} from \"@/api/cluster\"\n\n  export default {\n    name: \"RelationsManagement\",\n    props: {\n      visible: Boolean,\n      name: String,\n    },\n    data() {\n      return {\n        loading: false,\n        data: [],\n        value: [],\n      };\n    },\n    watch: {\n      visible: function (n) {\n        if (n) {\n          this.generateData()\n        }\n      }\n    },\n    methods: {\n      generateData() {\n        this.loading = true\n        this.data = []\n        this.value = []\n        allClusters().then((data) => {\n          data.items.forEach((v) => {\n            if (v.status === 'Running') {\n              this.data.push({\n                label: v.name,\n                key: v.name\n              })\n            }\n          })\n          listMultiClusterRepositoryRelations(this.name).then((data) => {\n            data.items.forEach((v) => {\n              this.value.push(v.clusterName)\n            })\n            this.loading = false\n          })\n        })\n      },\n      onSubmit() {\n        updateMultiClusterRepositoryRelations(this.name, {clusterNames: this.value}).then(() => {\n          this.dialogVisible = false\n        }).catch(() => {\n          this.generateData()\n        })\n      }\n    },\n    computed: {\n      dialogVisible: {\n        get() {\n          return this.visible\n        },\n        set(s) {\n          this.$emit('update:visible', s);\n        }\n      }\n    }, created() {\n    }\n  };\n</script>\n","import mod from \"-!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./RelationsManagement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./RelationsManagement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RelationsManagement.vue?vue&type=template&id=0db54fba&\"\nimport script from \"./RelationsManagement.vue?vue&type=script&lang=js&\"\nexport * from \"./RelationsManagement.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.$t('commons.status.error'),\"visible\":_vm.dialogVisible,\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-row',[_vm._v(\" \"+_vm._s(_vm.message)+\" \")]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible=false}}},[_vm._v(_vm._s(_vm.$t('commons.button.cancel')))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog\n    :title=\"$t('commons.status.error')\"\n    :visible.sync=\"dialogVisible\"\n    width=\"40%\">\n    <el-row>\n      {{message}}\n    </el-row>\n    <span slot=\"footer\" class=\"dialog-footer\">\n    <el-button @click=\"dialogVisible=false\">{{$t('commons.button.cancel')}}</el-button>\n  </span>\n  </el-dialog>\n</template>\n\n\n<script>\n\n  export default {\n    name: \"RepositoryErrorMessage\",\n    props: {\n      visible: Boolean,\n      message: String,\n    },\n    data() {\n      return {\n        loading: false,\n      };\n    },\n    watch: {\n    },\n    methods: {},\n    computed: {\n      dialogVisible: {\n        get() {\n          return this.visible\n        },\n        set(s) {\n          this.$emit('update:visible', s);\n        }\n      }\n    }, created() {\n    }\n  };\n</script>\n","import mod from \"-!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./RepositoryErrorMessage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./RepositoryErrorMessage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RepositoryErrorMessage.vue?vue&type=template&id=f05c4b06&\"\nimport script from \"./RepositoryErrorMessage.vue?vue&type=script&lang=js&\"\nexport * from \"./RepositoryErrorMessage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <layout-content :header=\"$t('multi_cluster.multi_cluster')\">\n    <relations-management :visible=\"relationManagementOpened\"\n                          v-on:update:visible=\"relationManagementOpened=$event\"\n                          :name=\"currentRepositoryName\"></relations-management>\n    <repository-error-message :visible=\"repositoryErrorMessageOpened\"\n                              v-on:update:visible=\"repositoryErrorMessageOpened=$event\"\n                              :message=\"errorMessage\"></repository-error-message>\n\n\n    <complex-table :data=\"data\" local-key=\"multi_cluster_columns\" :search-config=\"searchConfig\"\n                   :pagination-config=\"paginationConfig\" @search=\"search\">\n      <template #toolbar>\n        <el-button-group>\n          <el-button size=\"small\" @click=\"create()\">{{$t('commons.button.create')}}</el-button>\n        </el-button-group>\n      </template>\n      <el-table-column type=\"selection\" fix></el-table-column>\n      <el-table-column :label=\"$t('commons.table.name')\" mix-width=\"100\" fix>\n        <template v-slot:default=\"{row}\">\n          {{row.name}}\n        </template>\n      </el-table-column>\n      <el-table-column :label=\"$t('multi_cluster.address')\" min-width=\"100\" prop=\"source\" fix/>\n      <el-table-column :label=\"$t('commons.table.status')\" min-width=\"100\">\n        <template v-slot:default=\"{row}\">\n          <div v-if=\"row.status ==='Running'\">\n            <span class=\"iconfont iconduihao\" style=\"color: #32B350\"></span>\n            {{ $t(\"commons.status.running\") }}\n          </div>\n          <div v-if=\"row.status ==='Initializing'\">\n            <i class=\"el-icon-loading\" />&nbsp;\n            {{ $t(\"commons.status.initializing\") }}\n          </div>\n          <div v-if=\"row.status === 'Failed'\">\n            <span class=\"iconfont iconerror\" style=\"color: #FA4147\"></span> &nbsp; &nbsp; &nbsp;\n            <el-link type=\"info\" @click=\"showErrorMessage(row)\">{{ $t(\"commons.status.failed\") }}</el-link>\n          </div>\n        </template>\n      </el-table-column>\n      <el-table-column :label=\"$t('commons.table.create_time')\">\n        <template v-slot:default=\"{row}\">\n          {{ row.createdAt | datetimeFormat }}\n        </template>\n      </el-table-column>\n\n      <fu-table-operations :buttons=\"buttons\" :label=\"$t('commons.table.action')\" fix/>\n    </complex-table>\n  </layout-content>\n</template>\n\n<script>\n  import LayoutContent from \"@/components/layout/LayoutContent\";\n  import ComplexTable from \"@/components/complex-table\";\n  import RelationsManagement from \"./dialog/RelationsManagement\"\n  import {listMultiClusterRepositories, deleteMultiClusterRepository} from \"@/api/xpack/multi-cluster\"\n  import RepositoryErrorMessage from \"./dialog/RepositoryErrorMessage\";\n\n\n  export default {\n    name: \"MultiClusterRepositoriesList\",\n    components: {RepositoryErrorMessage, RelationsManagement, ComplexTable, LayoutContent},\n    data() {\n      return {\n        relationManagementOpened: false,\n        repositoryErrorMessageOpened: false,\n        currentRepositoryName: \"\",\n        errorMessage: \"123\",\n        buttons: [\n          {\n            label: this.$t('commons.button.edit'), icon: \"el-icon-edit\", click: (row) => {\n              this.$router.push({name: \"MultiClusterRepositoryEdit\", params: {name: row.name}})\n\n            }\n          },\n          {\n            label: this.$t('commons.button.relation'), icon: \"el-icon-connection\", click: (row) => {\n              this.relationManagementOpened = true\n              this.currentRepositoryName = row.name\n            }\n          },\n          {\n            label: this.$t('commons.button.log'), icon: \"el-icon-notebook-2\", click: (row) => {\n              this.$router.push({name: \"MultiClusterRepositoryLog\", params: {name: row.name}})\n\n            }\n          },\n          {\n            label: this.$t('commons.button.delete'), icon: \"el-icon-delete\", click: (row) => {\n              this.del(row.name)\n            }\n          },\n        ],\n        searchConfig: {\n          quickPlaceholder: this.$t(\"commons.search.quickSearch\"),\n          components: [\n            {field: \"name\", label: this.$t('commons.table.name'), component: \"FuComplexInput\", defaultOperator: \"eq\"},\n            {\n              field: \"is_active\",\n              label: this.$t('commons.table.status'),\n              component: \"FuComplexSelect\",\n              options: [\n                {label: this.$t('commons.status.active'), value: 1},\n                {label: this.$t('commons.status.passive'), value: 0},\n              ],\n              multiple: true\n            },\n            {\n              field: \"is_admin\",\n              label: this.$t('user.role'),\n              component: \"FuComplexSelect\",\n              options: [\n                {label: this.$t('commons.role.admin'), value: 1},\n                {label: this.$t('commons.role.user'), value: 0},\n              ],\n              multiple: true\n            },\n            {\n              field: \"created_at\",\n              label: this.$t('commons.table.create_time'),\n              component: \"FuComplexDateTime\",\n              valueFormat: \"yyyy-MM-dd\"\n            },\n          ]\n        },\n        paginationConfig: {\n          currentPage: 1,\n          pageSize: 5,\n          total: 0,\n        },\n        data: [],\n      }\n    },\n    methods: {\n      select(selection) {\n        console.log(selection)\n      },\n      showErrorMessage(item) {\n        this.errorMessage = item.message\n        this.repositoryErrorMessageOpened = true\n      },\n      create() {\n        this.$router.push({name: \"MultiClusterRepositoryCreate\"})\n      },\n      search() {\n        const {currentPage, pageSize} = this.paginationConfig\n        listMultiClusterRepositories(currentPage, pageSize).then(data => {\n          this.data = data.items\n          this.paginationConfig.total = data.total\n        })\n      },\n      del(name) {\n        this.$confirm(this.$t('commons.confirm_message.delete'), this.$t('commons.message_box.prompt'), {\n          confirmButtonText: this.$t('commons.button.confirm'),\n          cancelButtonText: this.$t('commons.button.cancel'),\n          type: 'warning'\n        }).then(() => {\n          if (name) {\n            deleteMultiClusterRepository(name).then(() => {\n              this.search()\n              this.$message({\n                type: 'success',\n                message: `${name}${this.$t('commons.msg.op_success')}!`\n              });\n            })\n          } else {\n            const ps = []\n            for (const item of this.selects) {\n              ps.push(deleteMultiClusterRepository(item.name))\n            }\n            Promise.all(ps).then(() => {\n              this.search()\n              this.$message({\n                type: 'success',\n                message: this.$t('commons.msg.op_success'),\n              });\n            })\n          }\n        })\n      },\n    },\n    created() {\n      this.search()\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3f37508a&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f37508a\",\n  null\n  \n)\n\nexport default component.exports","import {get, post, del, patch} from \"@/plugins/request\"\n\nconst baseUrl = \"/api/v1/multicluster\"\n\nexport function listMultiClusterRepositories(currentPage, pageSize) {\n  return get(`${baseUrl}/repositories?pageNum=${currentPage}&pageSize=${pageSize}`,)\n}\n\n\nexport function getMultiClusterRepository(name) {\n  return get(`${baseUrl}/repositories/${name}`,)\n}\n\nexport function createMultiClusterRepository(data) {\n  return post(`${baseUrl}/repositories`, data)\n}\n\nexport function deleteMultiClusterRepository(name) {\n  return del(`${baseUrl}/repositories/${name}`)\n}\n\nexport function updateMultiClusterRepository(name, data) {\n  return patch(`${baseUrl}/repositories/${name}`, data)\n}\n\n\nexport function listMultiClusterRepositoryRelations(name) {\n  return get(`${baseUrl}/repositories/relations/${name}`,)\n}\n\nexport function updateMultiClusterRepositoryRelations(name, data) {\n  return post(`${baseUrl}/repositories/relations/${name}`, data)\n}\n\nexport function getMultiClusterSyncLogs(name, currentPage, pageSize) {\n  return get(`${baseUrl}/repositories/logs/${name}?pageNum=${currentPage}&pageSize=${pageSize}`,)\n}\n\nexport function getMultiClusterSyncLogsDetail(name, logId) {\n  return get(`${baseUrl}/repositories/logs/detail/${name}/${logId}`,)\n}\n","import {get, post, del} from \"@/plugins/request\"\n\nconst clusterUrl = \"/api/v1/clusters\"\nconst clusterLoggerUrl = \"/api/v1/clusters/logger/{cluster_name}\"\nconst clusterNodeLoggerUrl = \"/api/v1/clusters/node/logger/{cluster_name}/{node_name}\"\nconst storageProvisionerLoggerUrl = \"/api/v1/clusters/provisioner/log/{cluster_name}/{log_id}\"\n\nexport function getClusterByName(clusterName) {\n  return get(`${clusterUrl}/${clusterName}`)\n}\n\nexport function getClusterByProject(projectNames) {\n  return get(`${clusterUrl}/name/${projectNames}`)\n}\n\nexport function checkClusterNameExistence(clusterName) {\n  return get(`${clusterUrl}/existence/${clusterName}`)\n}\n\nexport function listClusters(page, size) {\n  return get(`${clusterUrl}?pageNum=${page}&pageSize=${size}`)\n}\n\nexport function searchClusters(page, size, condition) {\n  return post(`${clusterUrl}/search?pageNum=${page}&pageSize=${size}`, condition)\n}\n\nexport function createCluster(data) {\n  return post(`${clusterUrl}`, data)\n}\n\nexport function healthCheck(clusterName) {\n  return get(`${clusterUrl}/health/${clusterName}`)\n}\n\nexport function clusterRecover(clusterName) {\n  return post(`${clusterUrl}/recover/${clusterName}`, {})\n}\n\nexport function deleteCluster(clusterName, force) {\n  return del(`${clusterUrl}/${clusterName}?force=${force}`)\n}\n\nexport function importCluster(data) {\n  return post(`${clusterUrl}/import/`, data)\n}\n\nexport function allClusters() {\n  return get(`${clusterUrl}`)\n}\n\nexport function initCluster(clusterName) {\n  return post(`${clusterUrl}/init/${clusterName}/`, {})\n}\n\nexport function upgradeCluster(clusterName, version) {\n  let req = {\n    clusterName: clusterName,\n    version: version,\n  }\n  return post(`${clusterUrl}/upgrade/`, req)\n}\n\nexport function getClusterStatus(clusterName) {\n  return get(`${clusterUrl}/status/${clusterName}`)\n}\n\nexport function getClusterLog(clusterName) {\n  return get(clusterLoggerUrl.replace(\"{cluster_name}\", clusterName))\n}\n\nexport function getClusterNodeLog(clusterName, nodeName) {\n  return get(clusterNodeLoggerUrl.replace(\"{cluster_name}\", clusterName).replace(\"{node_name}\", nodeName))\n}\n\nexport function getProvisionerLog(clusterName, logId) {\n  return get(storageProvisionerLoggerUrl.replace(\"{cluster_name}\", clusterName).replace(\"{log_id}\", logId))\n}\n\nexport function openLogger(clusterName) {\n  window.open(`/ui/#/logger?clusterName=${clusterName}`, \"_blank\", \"height=865, width=800, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, resizable=yes,location=no, status=no\")\n}\n\nexport function openProvisionerLogger(clusterName, logId) {\n  window.open(`/ui/#/logger?clusterName=${clusterName}&logId=${logId}`, \"_blank\", \"height=865, width=800, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, resizable=yes,location=no, status=no\")\n}\n\nexport function getSecret(clusterName) {\n  return get(`${clusterUrl}/secret/${clusterName}`)\n}\n"],"sourceRoot":""}