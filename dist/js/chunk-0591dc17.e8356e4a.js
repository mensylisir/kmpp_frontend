(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0591dc17"],{"2f97":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("layout-content",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{header:t.$t("automatic.zone.name"),description:t.$t("automatic.zone.description")}},[o("complex-table",{attrs:{"local-key":"zone_columns",data:t.data,"pagination-config":t.paginationConfig,"search-config":t.searchConfig,selects:t.selects},on:{search:t.search,"update:selects":function(e){t.selects=e}},scopedSlots:t._u([{key:"header",fn:function(){return[o("el-button-group",[o("el-button",{attrs:{size:"small"},on:{click:function(e){return t.create()}}},[t._v(" "+t._s(t.$t("commons.button.create"))+" ")]),o("el-button",{attrs:{size:"small",disabled:0===t.selects.length},on:{click:function(e){return t.del()}}},[t._v(t._s(t.$t("commons.button.delete"))+" ")])],1)]},proxy:!0}])},[o("el-table-column",{attrs:{type:"selection",fix:""}}),o("el-table-column",{attrs:{label:t.$t("commons.table.name"),"mix-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[o("el-link",{attrs:{type:"info"},on:{click:function(e){return t.openDetailPage(n)}}},[t._v(t._s(n.name))])]}}])}),o("el-table-column",{attrs:{label:t.$t("automatic.region.name"),"mix-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[t._v(t._s(o.regionName)+" ")]}}])}),o("el-table-column",{attrs:{label:t.$t("commons.table.status"),"mix-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return["READY"===n.status?o("div",[o("span",{staticClass:"iconfont iconduihao",staticStyle:{color:"#32B350"}}),t._v(" "+t._s(t.$t("automatic.zone.ready"))+" ")]):t._e(),"INITIALIZING"===n.status?o("div",[o("i",{staticClass:"el-icon-loading"}),t._v("       "+t._s(t.$t("automatic.zone.initializing"))+" ")]):t._e(),"UPLOADIMAGERROR"===n.status?o("div",[o("span",{staticClass:"iconfont iconerror2",staticStyle:{color:"#FA4147"}}),t._v("       "+t._s(t.$t("automatic.zone.uploadImageError"))+" ")]):t._e()]}}])}),o("el-table-column",{attrs:{label:t.$t("commons.table.create_time")},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[t._v(t._s(t._f("datetimeFormat")(o.createdAt)))]}}])}),o("fu-table-operations",{attrs:{buttons:t.buttons,label:t.$t("commons.table.action")}})],1),o("el-dialog",{attrs:{title:t.$t("automatic.detail"),visible:t.openDetail},on:{"update:visible":function(e){t.openDetail=e}}},[o("div",{staticStyle:{"text-align":"center"}},[o("div",{staticStyle:{"margin-top":"15px"},attrs:{align:"center"}},["vSphere"===t.item.provider?o("table",{staticClass:"myTable",staticStyle:{width:"90%"}},[o("tr",[o("td",[t._v(t._s(t.$t("commons.table.name")))]),o("td",[t._v(t._s(t.item.name))])]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.region.name")))]),o("td",[t._v(t._s(t.item.regionName))])]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.zone.resource_pool")))]),o("td",[t._v(t._s(t.item.cloudVars.resourcePool))])]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.zone.cluster")))]),o("td",[t._v(t._s(t.item.cloudVars.cluster))])]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.zone.datastore")))]),o("td",[t._v(t._s(t.item.cloudVars.datastore))])]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.zone.network")))]),o("td",[t._v(t._s(t.item.cloudVars.network))])]),"customize"===t.item.cloudVars.templateType?o("tr",[o("td",[t._v(t._s(t.$t("automatic.zone.template")))]),o("td",[t._v(t._s(t.item.cloudVars.imageName))])]):t._e(),o("tr",[o("td",[t._v(t._s(t.$t("automatic.ip_pool.name")))]),o("td",[t._v(t._s(t.item.ipPool.name))])]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.ip_pool.subnet")))]),o("td",[t._v(t._s(t.item.ipPool.subnet))])]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.ip_pool.ip_usage")))]),t.item.ipPool.ips.length>0?o("td",[t._v(t._s(t.item.ipPool.ipUsed)+"/"+t._s(t.item.ipPool.ips.length))]):t._e()]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.ip_pool.gateway")))]),t.item.ipPool.ips.length>0?o("td",[t._v(" "+t._s(t.item.ipPool.ips[0].gateway))]):t._e()]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.ip_pool.dns1")))]),t.item.ipPool.ips.length>0?o("td",[t._v(t._s(t.item.ipPool.ips[0].dns1))]):t._e()]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.ip_pool.dns2")))]),t.item.ipPool.ips.length>0?o("td",[t._v(t._s(t.item.ipPool.ips[0].dns2))]):t._e()])]):t._e(),"FusionCompute"===t.item.provider?o("table",{staticClass:"myTable",staticStyle:{width:"90%"}},[o("tr",[o("td",[t._v(t._s(t.$t("commons.table.name")))]),o("td",[t._v(t._s(t.item.name))])]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.region.name")))]),o("td",[t._v(t._s(t.item.regionName))])]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.zone.cluster")))]),o("td",[t._v(t._s(t.item.cloudVars.cluster))])]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.zone.datastore")))]),o("td",[t._v(t._s(t.item.cloudVars.datastore))])]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.zone.network")))]),o("td",[t._v(t._s(t.item.cloudVars.portgroup))])]),"customize"===t.item.cloudVars.templateType?o("tr",[o("td",[t._v(t._s(t.$t("automatic.zone.template")))]),o("td",[t._v(t._s(t.item.cloudVars.template))])]):t._e(),o("tr",[o("td",[t._v(t._s(t.$t("automatic.ip_pool.name")))]),o("td",[t._v(t._s(t.item.ipPool.name))])]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.ip_pool.subnet")))]),o("td",[t._v(t._s(t.item.ipPool.subnet))])]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.ip_pool.ip_usage")))]),t.item.ipPool.ips.length>0?o("td",[t._v(t._s(t.item.ipPool.ipUsed)+"/"+t._s(t.item.ipPool.ips.length))]):t._e()]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.ip_pool.gateway")))]),t.item.ipPool.ips.length>0?o("td",[t._v(" "+t._s(t.item.ipPool.ips[0].gateway))]):t._e()]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.ip_pool.dns1")))]),t.item.ipPool.ips.length>0?o("td",[t._v(t._s(t.item.ipPool.ips[0].dns1))]):t._e()]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.ip_pool.dns2")))]),t.item.ipPool.ips.length>0?o("td",[t._v(t._s(t.item.ipPool.ips[0].dns2))]):t._e()])]):t._e(),"OpenStack"===t.item.provider?o("table",{staticClass:"myTable",staticStyle:{width:"90%"}},[o("tr",[o("td",[t._v(t._s(t.$t("commons.table.name")))]),o("td",[t._v(t._s(t.item.name))])]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.region.name")))]),o("td",[t._v(t._s(t.item.regionName))])]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.zone.cluster")))]),o("td",[t._v(t._s(t.item.cloudVars.cluster))])]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.zone.storageType")))]),o("td",[t._v(t._s(t.item.cloudVars.storageType))])]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.zone.network")))]),o("td",[t._v(t._s(t.item.cloudVars.network))])]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.zone.security_group")))]),o("td",[t._v(t._s(t.item.cloudVars.securityGroup))])]),"customize"===t.item.cloudVars.templateType?o("tr",[o("td",[t._v(t._s(t.$t("automatic.zone.template")))]),o("td",[t._v(t._s(t.item.cloudVars.template))])]):t._e(),o("tr",[o("td",[t._v(t._s(t.$t("automatic.ip_pool.name")))]),o("td",[t._v(t._s(t.item.ipPool.name))])]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.ip_pool.subnet")))]),o("td",[t._v(t._s(t.item.ipPool.subnet))])]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.ip_pool.ip_usage")))]),t.item.ipPool.ips.length>0?o("td",[t._v(t._s(t.item.ipPool.ipUsed)+"/"+t._s(t.item.ipPool.ips.length))]):t._e()]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.ip_pool.gateway")))]),t.item.ipPool.ips.length>0?o("td",[t._v(" "+t._s(t.item.ipPool.ips[0].gateway))]):t._e()]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.ip_pool.dns1")))]),t.item.ipPool.ips.length>0?o("td",[t._v(t._s(t.item.ipPool.ips[0].dns1))]):t._e()]),o("tr",[o("td",[t._v(t._s(t.$t("automatic.ip_pool.dns2")))]),t.item.ipPool.ips.length>0?o("td",[t._v(t._s(t.item.ipPool.ips[0].dns2))]):t._e()])]):t._e()])]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.openDetail=!1}}},[t._v(t._s(t.$t("commons.button.cancel")))])],1)])],1)},i=[],a=o("30d5"),c=(o("f5bd"),o("b1fa"),o("2e6f"),o("af21"),o("2769"),o("ecf1"),o("86ca")),s=o("dd3c"),r=o("be17"),l=o("c43c"),u={name:"ZoneList",components:{ComplexTable:c["a"],LayoutContent:r["a"]},data:function(){var t=this;return{loading:!1,buttons:[{label:this.$t("commons.button.edit"),icon:"el-icon-edit",click:function(e){t.$router.push({name:"ZoneEdit",params:{name:e.name}})}},{label:this.$t("commons.button.delete"),icon:"el-icon-delete",click:function(e){t.del(e.name)}}],searchConfig:{quickPlaceholder:this.$t("commons.search.quickSearch"),components:[{field:"name",label:this.$t("commons.table.name"),component:"FuComplexInput",defaultOperator:"eq"},{field:"status",label:this.$t("commons.table.status"),component:"FuComplexSelect",options:[{label:this.$t("automatic.zone.ready"),value:"READY"},{label:this.$t("automatic.zone.initializing"),value:"INITIALIZING"},{label:this.$t("automatic.zone.uploadImageError"),value:"UPLOADIMAGERROR"}],multiple:!0},{field:"create_time",label:this.$t("commons.table.create_time"),component:"FuComplexDateTime",valueFormat:"yyyy-MM-dd HH:mm:ss"}]},paginationConfig:{currentPage:1,pageSize:10,total:0},data:[],selects:[],openDetail:!1,item:{cloudVars:{},ipPool:{ips:[]},provider:""}}},methods:{search:function(t){var e=this;this.loading=!0;var o=this.paginationConfig,n=o.currentPage,i=o.pageSize;Object(s["h"])(n,i,t).then((function(t){e.loading=!1,e.data=t.items,e.paginationConfig.total=t.total}))},del:function(t){var e=this;this.$confirm(this.$t("commons.confirm_message.delete"),this.$t("commons.message_box.prompt"),{confirmButtonText:this.$t("commons.button.confirm"),cancelButtonText:this.$t("commons.button.cancel"),type:"warning"}).then((function(){var o=[];if(t)o.push(Object(s["b"])(t));else{var n,i=Object(a["a"])(e.selects);try{for(i.s();!(n=i.n()).done;){var c=n.value;o.push(Object(s["b"])(c.name))}}catch(r){i.e(r)}finally{i.f()}}Promise.all(o).then((function(){e.search(),e.$message({type:"success",message:e.$t("commons.msg.delete_success")})})).catch((function(){e.search()}))}))},create:function(){var t=this;Object(l["k"])().then((function(e){var o,n=null===e.items?[]:e.items,i=!1,c=Object(a["a"])(n);try{for(c.s();!(o=c.n()).done;){var s=o.value;if("x86_64"===s.architecture){i=!0;break}}}catch(r){c.e(r)}finally{c.f()}i?t.$router.push({name:"ZoneCreate"}):t.$message({type:"info",message:t.$t("cluster.creation.repo_err")})}))},openDetailPage:function(t){this.openDetail=!0,this.item=t},onCancel:function(){this.openDetail=!1}},created:function(){this.search()}},m=u,_=o("5d22"),d=Object(_["a"])(m,n,i,!1,null,"6bc6a72b",null);e["default"]=d.exports},c43c:function(t,e,o){"use strict";o.d(e,"j",(function(){return c})),o.d(e,"a",(function(){return s})),o.d(e,"f",(function(){return r})),o.d(e,"k",(function(){return l})),o.d(e,"e",(function(){return u})),o.d(e,"n",(function(){return m})),o.d(e,"l",(function(){return _})),o.d(e,"i",(function(){return d})),o.d(e,"g",(function(){return p})),o.d(e,"h",(function(){return f})),o.d(e,"b",(function(){return v})),o.d(e,"d",(function(){return b})),o.d(e,"m",(function(){return g})),o.d(e,"c",(function(){return h}));o("a5c9");var n=o("ff66"),i="/api/v1/settings",a="/api/v1/message/setting";function c(t){return Object(n["c"])("".concat(i,"/").concat(t))}function s(t,e){return Object(n["e"])("".concat(i,"/check/").concat(t),e)}function r(t){return Object(n["e"])(i,t)}function l(){return Object(n["c"])("".concat(i,"/registry"))}function u(t){return Object(n["e"])("".concat(i,"/registry"),t)}function m(t,e){return Object(n["d"])("".concat(i,"/registry/").concat(t),e)}function _(t,e,o){return Object(n["e"])("".concat(i,"/registry/search?pageNum=").concat(t,"&pageSize=").concat(e),o)}function d(t){return Object(n["c"])("".concat(i,"/registry/").concat(t))}function p(t){return Object(n["b"])("".concat(i,"/registry/").concat(t))}function f(t){return Object(n["c"])("".concat(a,"/").concat(t))}function v(t,e){return Object(n["e"])("".concat(a,"/check/").concat(t),e)}function b(t,e){return Object(n["e"])("".concat(a,"/").concat(t),e)}function g(t){return Object(n["e"])("/api/v1/ldap/sync",t)}function h(t){return Object(n["e"])("/api/v1/ldap/",t)}},dd3c:function(t,e,o){"use strict";o.d(e,"b",(function(){return a})),o.d(e,"h",(function(){return c})),o.d(e,"e",(function(){return s})),o.d(e,"f",(function(){return r})),o.d(e,"g",(function(){return l})),o.d(e,"a",(function(){return u})),o.d(e,"d",(function(){return m})),o.d(e,"c",(function(){return _})),o.d(e,"i",(function(){return d}));o("a5c9");var n=o("ff66"),i="/api/v1/zones";function a(t){return Object(n["b"])(i+"/"+t)}function c(t,e,o){return Object(n["e"])("".concat(i,"/search?pageNum=").concat(t,"&pageSize=").concat(e),o)}function s(t){return Object(n["e"])("".concat(i,"/clusters"),t)}function r(t){return Object(n["e"])("".concat(i,"/datastores"),t)}function l(t){return Object(n["e"])("".concat(i,"/templates"),t)}function u(t){return Object(n["e"])("".concat(i),t)}function m(t){return Object(n["c"])("".concat(i,"/list/").concat(t))}function _(t){return Object(n["c"])("".concat(i,"/").concat(t))}function d(t,e){return Object(n["d"])("".concat(i,"/").concat(t),e)}}}]);
//# sourceMappingURL=chunk-0591dc17.e8356e4a.js.map