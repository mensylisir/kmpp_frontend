(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4417418a"],{"274d":function(e,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"f",(function(){return l})),o.d(t,"d",(function(){return c})),o.d(t,"e",(function(){return s})),o.d(t,"a",(function(){return i})),o.d(t,"c",(function(){return u})),o.d(t,"g",(function(){return m}));o("a5c9");var r=o("ff66"),a="/api/v1/regions";function n(e){return Object(r["b"])(a+"/"+e)}function l(e,t,o){return Object(r["e"])("".concat(a,"/search?pageNum=").concat(e,"&pageSize=").concat(t),o)}function c(){return Object(r["c"])("".concat(a))}function s(e){return Object(r["e"])("".concat(a,"/datacenter"),e)}function i(e){return Object(r["e"])("".concat(a),e)}function u(e){return Object(r["c"])("".concat(a,"/").concat(e))}function m(e,t){return Object(r["d"])("".concat(a,"/").concat(e),t)}},"523c":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("layout-content",{attrs:{header:e.$t("commons.button.create"),"back-to":{name:"ZoneList"}}},[o("el-row",[o("el-col",{attrs:{span:4}},[o("br")]),o("el-col",{attrs:{span:10}},[o("div",{staticClass:"grid-content bg-purple-light"},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",attrs:{"label-width":"200px",model:e.form,rules:e.rules,"label-position":"left"}},[o("el-form-item",{attrs:{label:e.$t("commons.table.name"),prop:"name"}},[o("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),o("div",[o("span",{staticClass:"input-help"},[e._v(e._s(e.$t("commons.validate.name_help")))])])],1),o("el-form-item",{attrs:{label:e.$t("automatic.region.name"),prop:"regionName"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"","reserve-keyword":"",size:"medium"},on:{change:function(t){return e.changeRegion(e.form.regionName)}},model:{value:e.form.regionName,callback:function(t){e.$set(e.form,"regionName",t)},expression:"form.regionName"}},e._l(e.regions,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1),"vSphere"===e.region.regionVars["provider"]?o("div",[o("el-divider",{attrs:{"content-position":"left"}},[e._v(e._s(e.$t("automatic.zone.compute")))]),o("el-form-item",{attrs:{label:e.$t("automatic.zone.cluster"),prop:"cloudVars.cluster"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"","reserve-keyword":"",size:"medium"},on:{change:function(t){return e.changeCloudZone(e.form.cloudVars.cluster)}},model:{value:e.form.cloudVars.cluster,callback:function(t){e.$set(e.form.cloudVars,"cluster",t)},expression:"form.cloudVars.cluster"}},e._l(e.cloudZones,(function(e,t){return o("el-option",{key:t,attrs:{label:e.cluster,value:e.cluster}})})),1)],1),o("el-form-item",{attrs:{label:e.$t("automatic.zone.resource_pool"),prop:"cloudVars.resourcePool"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",size:"medium","reserve-keyword":""},model:{value:e.form.cloudVars.resourcePool,callback:function(t){e.$set(e.form.cloudVars,"resourcePool",t)},expression:"form.cloudVars.resourcePool"}},e._l(e.cloudZone.resourcePools,(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),o("el-divider",{attrs:{"content-position":"left"}},[e._v(e._s(e.$t("automatic.zone.datastore")))]),o("el-form-item",{attrs:{label:e.$t("automatic.zone.datastore_type"),prop:"cloudVars.datastoreType"}},[o("el-radio-group",{model:{value:e.form.cloudVars.datastoreType,callback:function(t){e.$set(e.form.cloudVars,"datastoreType",t)},expression:"form.cloudVars.datastoreType"}},[o("el-radio",{attrs:{label:"value"}},[e._v(e._s(e.$t("automatic.zone.value")))]),o("el-radio",{attrs:{label:"usage"}},[e._v(e._s(e.$t("automatic.zone.usage")))])],1)],1),o("el-form-item",{attrs:{label:e.$t("automatic.zone.datastore"),prop:"cloudVars.datastore"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",filterable:"",size:"medium","reserve-keyword":""},model:{value:e.form.cloudVars.datastore,callback:function(t){e.$set(e.form.cloudVars,"datastore",t)},expression:"form.cloudVars.datastore"}},e._l(e.cloudDatastores,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1),o("el-divider",{attrs:{"content-position":"left"}},[e._v(e._s(e.$t("automatic.zone.template")))]),o("el-form-item",{attrs:{label:e.$t("automatic.zone.template_type"),prop:"cloudVars.templateType"}},[o("el-radio-group",{model:{value:e.form.cloudVars.templateType,callback:function(t){e.$set(e.form.cloudVars,"templateType",t)},expression:"form.cloudVars.templateType"}},[o("el-radio",{attrs:{label:"default"}},[e._v(e._s(e.$t("automatic.zone.default")))]),o("el-radio",{attrs:{label:"customize"},on:{change:function(t){return e.changeTemplateType("customize")}}},[e._v(" "+e._s(e.$t("automatic.zone.customize"))+" ")])],1)],1),"customize"===e.form.cloudVars["templateType"]?o("div",[o("el-form-item",{attrs:{label:e.$t("automatic.zone.template"),prop:"cloudVars.imageName"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"","reserve-keyword":"",size:"medium"},on:{change:function(t){return e.changeTemplate(e.form.cloudVars.imageName)}},model:{value:e.form.cloudVars.imageName,callback:function(t){e.$set(e.form.cloudVars,"imageName",t)},expression:"form.cloudVars.imageName"}},e._l(e.cloudTemplates,(function(e,t){return o("el-option",{key:t,attrs:{label:e.imageName,value:e.imageName}})})),1)],1),o("el-form-item",{attrs:{label:e.$t("credential.credential"),prop:"credentialName"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",size:"medium","reserve-keyword":""},model:{value:e.form.credentialName,callback:function(t){e.$set(e.form,"credentialName",t)},expression:"form.credentialName"}},e._l(e.credentials,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1)],1):e._e(),o("el-divider",{attrs:{"content-position":"left"}},[e._v(e._s(e.$t("automatic.zone.network")))]),o("el-form-item",{attrs:{label:e.$t("automatic.zone.network_adapter"),prop:"cloudVars.network"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",size:"medium","reserve-keyword":""},model:{value:e.form.cloudVars.network,callback:function(t){e.$set(e.form.cloudVars,"network",t)},expression:"form.cloudVars.network"}},e._l(e.cloudZone.networks,(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),o("el-form-item",{attrs:{label:e.$t("automatic.ip_pool.name"),prop:"ipPoolName"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",size:"medium","reserve-keyword":""},on:{change:function(t){return e.changeIpPool()}},model:{value:e.form.ipPoolName,callback:function(t){e.$set(e.form,"ipPoolName",t)},expression:"form.ipPoolName"}},e._l(e.ipPools,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1)],1):e._e(),"OpenStack"===e.region.regionVars["provider"]?o("div",[o("el-divider",{attrs:{"content-position":"left"}},[e._v(" "+e._s(e.$t("automatic.zone.compute")))]),o("el-form-item",{attrs:{label:e.$t("automatic.zone.cluster"),prop:"cloudVars.cluster"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"","reserve-keyword":"",size:"medium"},on:{change:function(t){return e.changeCloudZone(e.form.cloudVars.cluster)}},model:{value:e.form.cloudVars.cluster,callback:function(t){e.$set(e.form.cloudVars,"cluster",t)},expression:"form.cloudVars.cluster"}},e._l(e.cloudZones,(function(e,t){return o("el-option",{key:t,attrs:{label:e.cluster,value:e.cluster}})})),1)],1),o("el-divider",{attrs:{"content-position":"left"}},[e._v(e._s(e.$t("automatic.zone.datastore")))]),o("el-form-item",{attrs:{label:e.$t("automatic.zone.storageType"),prop:"cloudVars.storageType"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",size:"medium","reserve-keyword":""},model:{value:e.form.cloudVars.storageType,callback:function(t){e.$set(e.form.cloudVars,"storageType",t)},expression:"form.cloudVars.storageType"}},e._l(e.cloudZone.storages,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1),o("el-divider",{attrs:{"content-position":"left"}},[e._v(e._s(e.$t("automatic.zone.template")))]),o("el-form-item",{attrs:{label:e.$t("automatic.zone.template_type"),prop:"cloudVars.templateType"}},[o("el-radio-group",{model:{value:e.form.cloudVars.templateType,callback:function(t){e.$set(e.form.cloudVars,"templateType",t)},expression:"form.cloudVars.templateType"}},[o("el-radio",{attrs:{label:"default"}},[e._v(e._s(e.$t("automatic.zone.default")))]),o("el-radio",{attrs:{label:"customize"},on:{change:function(t){return e.changeTemplateType("customize")}}},[e._v(" "+e._s(e.$t("automatic.zone.customize"))+" ")])],1)],1),"customize"===e.form.cloudVars["templateType"]?o("div",[o("el-form-item",{attrs:{label:e.$t("automatic.zone.template"),prop:"cloudVars.imageName"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"","reserve-keyword":"",size:"medium"},on:{change:function(t){return e.changeTemplate(e.form.cloudVars.imageName)}},model:{value:e.form.cloudVars.imageName,callback:function(t){e.$set(e.form.cloudVars,"imageName",t)},expression:"form.cloudVars.imageName"}},e._l(e.cloudTemplates,(function(e,t){return o("el-option",{key:t,attrs:{label:e.imageName,value:e.imageName}})})),1)],1),o("el-form-item",{attrs:{label:e.$t("credential.credential"),prop:"credentialName"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",size:"medium","reserve-keyword":""},model:{value:e.form.credentialName,callback:function(t){e.$set(e.form,"credentialName",t)},expression:"form.credentialName"}},e._l(e.credentials,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1)],1):e._e(),o("el-divider",{attrs:{"content-position":"left"}},[e._v(e._s(e.$t("automatic.zone.network")))]),o("el-form-item",{attrs:{label:e.$t("automatic.zone.security_group"),prop:"cloudVars.securityGroup"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",size:"medium","reserve-keyword":""},model:{value:e.form.cloudVars.securityGroup,callback:function(t){e.$set(e.form.cloudVars,"securityGroup",t)},expression:"form.cloudVars.securityGroup"}},e._l(e.cloudZone.securityGroups,(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),o("el-form-item",{attrs:{label:e.$t("automatic.zone.network"),prop:"cloudVars.network"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"","reserve-keyword":"",size:"medium"},on:{change:function(t){return e.changeNetwork(e.form.cloudVars.network)}},model:{value:e.form.cloudVars.network,callback:function(t){e.$set(e.form.cloudVars,"network",t)},expression:"form.cloudVars.network"}},e._l(e.cloudZone.networkList,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1),o("el-form-item",{attrs:{label:e.$t("automatic.zone.ip_type"),prop:"cloudVars.ipType"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",size:"medium","reserve-keyword":""},model:{value:e.form.cloudVars.ipType,callback:function(t){e.$set(e.form.cloudVars,"ipType",t)},expression:"form.cloudVars.ipType"}},e._l(e.cloudZone.ipTypes,(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),"private"===e.form.cloudVars.ipType?o("el-form-item",{attrs:{label:e.$t("automatic.zone.subnet"),prop:"cloudVars.subnet"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",size:"medium","reserve-keyword":""},model:{value:e.form.cloudVars.subnet,callback:function(t){e.$set(e.form.cloudVars,"subnet",t)},expression:"form.cloudVars.subnet"}},e._l(e.subnetList,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1):e._e(),"floating"===e.form.cloudVars.ipType?o("el-form-item",{attrs:{label:e.$t("automatic.zone.floating_ip"),prop:"cloudVars.floatingNetwork"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",size:"medium","reserve-keyword":""},model:{value:e.form.cloudVars.floatingNetwork,callback:function(t){e.$set(e.form.cloudVars,"floatingNetwork",t)},expression:"form.cloudVars.floatingNetwork"}},e._l(e.cloudZone.floatingNetworkList,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1):e._e(),o("el-form-item",{attrs:{label:e.$t("automatic.ip_pool.name"),prop:"ipPoolName"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",size:"medium","reserve-keyword":""},on:{change:function(t){return e.changeIpPool()}},model:{value:e.form.ipPoolName,callback:function(t){e.$set(e.form,"ipPoolName",t)},expression:"form.ipPoolName"}},e._l(e.ipPools,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1)],1):e._e(),"FusionCompute"===e.region.regionVars["provider"]?o("div",[o("el-divider",{attrs:{"content-position":"left"}},[e._v(e._s(e.$t("automatic.zone.compute")))]),o("el-form-item",{attrs:{label:e.$t("automatic.zone.cluster"),prop:"cloudVars.cluster"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",size:"medium","reserve-keyword":""},on:{change:function(t){return e.changeCloudZone(e.form.cloudVars.cluster)}},model:{value:e.form.cloudVars.cluster,callback:function(t){e.$set(e.form.cloudVars,"cluster",t)},expression:"form.cloudVars.cluster"}},e._l(e.cloudZones,(function(e,t){return o("el-option",{key:t,attrs:{label:e.cluster,value:e.cluster}})})),1)],1),o("el-divider",{attrs:{"content-position":"left"}},[e._v(e._s(e.$t("automatic.zone.datastore")))]),o("el-form-item",{attrs:{label:e.$t("automatic.zone.datastore"),prop:"cloudVars.datastore"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",size:"medium",filterable:"","reserve-keyword":""},model:{value:e.form.cloudVars.datastore,callback:function(t){e.$set(e.form.cloudVars,"datastore",t)},expression:"form.cloudVars.datastore"}},e._l(e.cloudDatastores,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1),o("el-divider",{attrs:{"content-position":"left"}},[e._v(e._s(e.$t("automatic.zone.template")))]),o("el-form-item",{attrs:{label:e.$t("automatic.zone.template_type"),prop:"cloudVars.templateType"}},[o("el-radio-group",{model:{value:e.form.cloudVars.templateType,callback:function(t){e.$set(e.form.cloudVars,"templateType",t)},expression:"form.cloudVars.templateType"}},[o("el-radio",{attrs:{label:"default"}},[e._v(e._s(e.$t("automatic.zone.default")))]),o("el-radio",{attrs:{label:"customize"}},[e._v(" "+e._s(e.$t("automatic.zone.customize"))+" ")])],1)],1),"default"===e.form.cloudVars["templateType"]?o("div",[o("el-form-item",{attrs:{label:e.$t("automatic.zone.nfs_address"),prop:"cloudVars.nfsAddress"}},[o("el-input",{model:{value:e.form.cloudVars.nfsAddress,callback:function(t){e.$set(e.form.cloudVars,"nfsAddress",t)},expression:"form.cloudVars.nfsAddress"}})],1),o("el-form-item",{attrs:{label:e.$t("automatic.zone.nfs_port"),prop:"cloudVars.nfsPort"}},[o("el-input-number",{model:{value:e.form.cloudVars.nfsPort,callback:function(t){e.$set(e.form.cloudVars,"nfsPort",t)},expression:"form.cloudVars.nfsPort"}})],1),o("el-form-item",{attrs:{label:e.$t("automatic.zone.nfs_folder"),prop:"cloudVars.nfsFolder"}},[o("el-input",{model:{value:e.form.cloudVars.nfsFolder,callback:function(t){e.$set(e.form.cloudVars,"nfsFolder",t)},expression:"form.cloudVars.nfsFolder"}})],1),o("el-form-item",{attrs:{label:e.$t("automatic.zone.nfs_username"),prop:"cloudVars.nfsUsername"}},[o("el-input",{model:{value:e.form.cloudVars.nfsUsername,callback:function(t){e.$set(e.form.cloudVars,"nfsUsername",t)},expression:"form.cloudVars.nfsUsername"}})],1),o("el-form-item",{attrs:{label:e.$t("automatic.zone.nfs_password"),prop:"cloudVars.nfsPassword"}},[o("el-input",{attrs:{type:"password"},model:{value:e.form.cloudVars.nfsPassword,callback:function(t){e.$set(e.form.cloudVars,"nfsPassword",t)},expression:"form.cloudVars.nfsPassword"}})],1)],1):e._e(),"customize"===e.form.cloudVars["templateType"]?o("div",[o("el-form-item",{attrs:{label:e.$t("automatic.zone.template"),prop:"cloudVars.imageName"}},[o("el-select",{attrs:{filterable:"","reserve-keyword":"",size:"medium"},on:{change:function(t){return e.changeTemplate(e.form.cloudVars.imageName)}},model:{value:e.form.cloudVars.imageName,callback:function(t){e.$set(e.form.cloudVars,"imageName",t)},expression:"form.cloudVars.imageName"}},e._l(e.cloudZone.templates,(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),o("el-form-item",{attrs:{label:e.$t("credential.credential"),prop:"credentialName"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",size:"medium","reserve-keyword":""},model:{value:e.form.credentialName,callback:function(t){e.$set(e.form,"credentialName",t)},expression:"form.credentialName"}},e._l(e.credentials,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1)],1):e._e(),o("el-divider",{attrs:{"content-position":"left"}},[e._v(e._s(e.$t("automatic.zone.network")))]),o("el-form-item",{attrs:{label:e.$t("automatic.zone.switch"),prop:"cloudVars.switch"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"","reserve-keyword":"",size:"medium"},on:{change:function(t){return e.changeSwitch(e.form.cloudVars.switch)}},model:{value:e.form.cloudVars.switch,callback:function(t){e.$set(e.form.cloudVars,"switch",t)},expression:"form.cloudVars.switch"}},e._l(e.cloudZone.switchs,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1),o("el-form-item",{attrs:{label:e.$t("automatic.zone.portgroup"),prop:"cloudVars.portgroup"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",size:"medium","reserve-keyword":""},model:{value:e.form.cloudVars.portgroup,callback:function(t){e.$set(e.form.cloudVars,"portgroup",t)},expression:"form.cloudVars.portgroup"}},e._l(e.portgroups,(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),o("el-form-item",{attrs:{label:e.$t("automatic.ip_pool.name"),prop:"ipPoolName"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",size:"medium","reserve-keyword":""},on:{change:function(t){return e.changeIpPool()}},model:{value:e.form.ipPoolName,callback:function(t){e.$set(e.form,"ipPoolName",t)},expression:"form.ipPoolName"}},e._l(e.ipPools,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1)],1):e._e(),o("el-form-item",[o("div",{staticStyle:{float:"right"}},[o("el-button",{on:{click:function(t){return e.onCancel()}}},[e._v(e._s(e.$t("commons.button.cancel")))]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v(e._s(e.$t("commons.button.submit")))])],1)])],1),e.currentPool&&""!==e.form.ipPoolName?o("h4",[e._v(e._s(e.$t("automatic.ip_pool.name")))]):e._e(),e.currentPool&&""!==e.form.ipPoolName?o("table",{staticClass:"el-table"},[o("tbody",[o("tr",[o("th",[e._v(e._s(e.$t("commons.table.name")))]),o("td",[e._v(e._s(e.currentPool.name))])]),o("tr",[o("th",[e._v(e._s(e.$t("automatic.ip_pool.subnet")))]),o("td",[e._v(e._s(e.currentPool.subnet))])]),o("tr",[o("th",[e._v(e._s(e.$t("automatic.ip_pool.gateway")))]),e.currentPool.ips.length>0?o("td",[e._v(e._s(e.currentPool.ips[0].gateway))]):e._e()]),o("tr",[o("th",[e._v(e._s(e.$t("automatic.ip_pool.dns1")))]),e.currentPool.ips.length>0?o("td",[e._v(e._s(e.currentPool.ips[0].dns1))]):e._e()]),o("tr",[o("th",[e._v(e._s(e.$t("automatic.ip_pool.dns2")))]),e.currentPool.ips.length>0?o("td",[e._v(e._s(e.currentPool.ips[0].dns2))]):e._e()]),o("tr",[o("th",[e._v(e._s(e.$t("automatic.ip_pool.ip_usage")))]),o("td",[e._v(e._s(e.currentPool.ipUsed)+"/"+e._s(e.currentPool.ips.length))])])])]):e._e()],1)])],1)],1)},a=[],n=o("30d5"),l=(o("6afd"),o("f5bd"),o("b1fa"),o("be17")),c=o("0792"),s=o("274d"),i=o("dd3c"),u=o("fb0a"),m=o("6560"),d={name:"ZoneCreate",components:{LayoutContent:l["a"]},data:function(){return{loading:!1,form:{name:"",regionName:"",cloudVars:{datastoreType:"value",templateType:"default",cluster:"",imageName:"",storageType:"",securityGroup:"",ipType:"",subnet:"",floatingNetwork:"",switch:"",portgroup:"",nfsAddress:"",nfsPort:"",nfsFolder:"",nfsUsername:"",nfsPassword:"",resourcePool:""},credentialName:"",ipPoolName:""},regions:[],cloudZoneRequest:{cloudVars:{}},cloudZones:[],region:{regionVars:{}},cloudDatastores:[],cloudZone:{resourcePools:[],networks:[],storages:[],securityGroups:[],networkList:[],ipType:[],ipTypes:[],floatingNetworkList:[],switchs:[],portgroups:[],templates:[]},cloudTemplates:[],credentials:[],ipPools:[],subnetList:[],portgroups:[],rules:{name:[c["a"].LengthRule,c["a"].NameRule],regionName:[c["a"].RequiredRule],cloudVars:{cluster:[c["a"].RequiredRule],datastore:[c["a"].RequiredRule],resourcePool:[c["a"].RequiredRule],templateType:[c["a"].RequiredRule],datastoreType:[c["a"].RequiredRule],imageName:[c["a"].RequiredRule],network:[c["a"].RequiredRule],storageType:[c["a"].RequiredRule],securityGroup:[c["a"].RequiredRule],ipType:[c["a"].RequiredRule],subnet:[c["a"].RequiredRule],floatingNetwork:[c["a"].RequiredRule],switch:[c["a"].RequiredRule],portgroup:[c["a"].RequiredRule],nfsAddress:[c["a"].RequiredRule],nfsPort:[c["a"].RequiredRule],nfsUsername:[c["a"].RequiredRule],nfsPassword:[c["a"].RequiredRule]},credentialName:[c["a"].RequiredRule],ipPoolName:[c["a"].RequiredRule]},currentPool:{ips:[],ipUsed:0}}},methods:{changeRegion:function(e){var t=this;this.regions.forEach((function(o){o.name===e&&(t.region=o,t.cloudZoneRequest.cloudVars=JSON.parse(o.vars),t.cloudZoneRequest.cloudVars["datacenter"]=o.datacenter,t.loading=!0,Object(i["e"])(t.cloudZoneRequest).then((function(e){t.cloudZones=e.result,t.loading=!1})))}))},changeCloudZone:function(e){var t=this;this.cloudZones.forEach((function(o){o.cluster===e&&(t.cloudZone=o)})),this.cloudZoneRequest.cloudVars["cluster"]=e,this.form.cloudVars.resourcePool="",this.form.cloudVars.datastore=[],this.loading=!0,Object(i["f"])(this.cloudZoneRequest).then((function(e){t.cloudDatastores=e,t.loading=!1}))},changeTemplateType:function(e){var t=this;"customize"===e&&(this.loading=!0,Object(i["g"])(this.cloudZoneRequest).then((function(e){t.cloudTemplates=e.result,t.loading=!1})))},changeTemplate:function(e){var t=this;this.cloudTemplates.forEach((function(o){o.imageName===e&&(t.form.cloudVars["imageDisks"]=o.imageDisks)}))},changeNetwork:function(e){var t=this;this.cloudZone.networkList.forEach((function(o){o.id===e&&(t.subnetList=o.subnetList)}))},changeSwitch:function(e){var t=this;this.cloudZone.switchs.forEach((function(o){o.name===e&&(t.portgroups=o.portgroups)}))},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.loading=!0,Object(i["a"])(t.form).then((function(){t.loading=!1,t.$message({type:"success",message:t.$t("commons.msg.create_success")}),t.$router.push({name:"ZoneList"})})).finally((function(){t.loading=!1}))}))},onCancel:function(){this.$router.push({name:"ZoneList"})},changeIpPool:function(){var e,t=Object(n["a"])(this.ipPools);try{for(t.s();!(e=t.n()).done;){var o=e.value;if(this.form.ipPoolName===o.name){this.currentPool=o;break}}}catch(r){t.e(r)}finally{t.f()}}},created:function(){var e=this;Object(s["d"])().then((function(t){e.regions=t.items})),Object(u["c"])().then((function(t){e.credentials=t.items})),Object(m["e"])().then((function(t){e.ipPools=t.items}))}},f=d,p=o("5d22"),b=Object(p["a"])(f,r,a,!1,null,"54dc6280",null);t["default"]=b.exports},6560:function(e,t,o){"use strict";o.d(t,"e",(function(){return n})),o.d(t,"d",(function(){return l})),o.d(t,"b",(function(){return c})),o.d(t,"g",(function(){return s})),o.d(t,"c",(function(){return i})),o.d(t,"a",(function(){return u})),o.d(t,"h",(function(){return m})),o.d(t,"f",(function(){return d})),o.d(t,"i",(function(){return f}));o("a5c9");var r=o("ff66"),a="/api/v1/ippools";function n(){return Object(r["c"])("".concat(a))}function l(e){return Object(r["b"])("".concat(a,"/").concat(e))}function c(e){return Object(r["e"])(a,e)}function s(e,t,o){return Object(r["e"])("".concat(a,"/search?pageNum=").concat(e,"&pageSize=").concat(t),o)}function i(e,t){return Object(r["b"])("".concat(a,"/").concat(e,"/ips/").concat(t))}function u(e,t){return Object(r["e"])("".concat(a,"/").concat(e,"/ips"),t)}function m(e){return Object(r["d"])("".concat(a,"/").concat(e,"/ips/sync"))}function d(e,t,o,n){return Object(r["e"])("".concat(a,"/").concat(o,"/ips/search?pageNum=").concat(e,"&pageSize=").concat(t),n)}function f(e,t,o){return Object(r["d"])("".concat(a,"/").concat(e,"/ips/").concat(t),o)}},dd3c:function(e,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"h",(function(){return l})),o.d(t,"e",(function(){return c})),o.d(t,"f",(function(){return s})),o.d(t,"g",(function(){return i})),o.d(t,"a",(function(){return u})),o.d(t,"d",(function(){return m})),o.d(t,"c",(function(){return d})),o.d(t,"i",(function(){return f}));o("a5c9");var r=o("ff66"),a="/api/v1/zones";function n(e){return Object(r["b"])(a+"/"+e)}function l(e,t,o){return Object(r["e"])("".concat(a,"/search?pageNum=").concat(e,"&pageSize=").concat(t),o)}function c(e){return Object(r["e"])("".concat(a,"/clusters"),e)}function s(e){return Object(r["e"])("".concat(a,"/datastores"),e)}function i(e){return Object(r["e"])("".concat(a,"/templates"),e)}function u(e){return Object(r["e"])("".concat(a),e)}function m(e){return Object(r["c"])("".concat(a,"/list/").concat(e))}function d(e){return Object(r["c"])("".concat(a,"/").concat(e))}function f(e,t){return Object(r["d"])("".concat(a,"/").concat(e),t)}},fb0a:function(e,t,o){"use strict";o.d(t,"d",(function(){return n})),o.d(t,"e",(function(){return l})),o.d(t,"a",(function(){return c})),o.d(t,"f",(function(){return s})),o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return u}));o("a5c9");var r=o("ff66"),a="/api/v1/credentials";function n(){return Object(r["c"])("".concat(a))}function l(e,t,o){return Object(r["e"])("".concat(a,"/search?pageNum=").concat(e,"&pageSize=").concat(t),o)}function c(e){return Object(r["e"])(a,e)}function s(e,t){return Object(r["d"])("".concat(a,"/").concat(e),t)}function i(e){return Object(r["b"])("".concat(a,"/").concat(e))}function u(){return Object(r["c"])("".concat(a))}}}]);
//# sourceMappingURL=chunk-4417418a.e1020dad.js.map