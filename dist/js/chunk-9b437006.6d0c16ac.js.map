{"version":3,"sources":["webpack:///./src/api/backup-account.js","webpack:///./node_modules/_core-js@3.15.2@core-js/modules/es.array.join.js","webpack:///./src/business/backup-account/create/index.vue?0504","webpack:///src/business/backup-account/create/index.vue","webpack:///./src/business/backup-account/create/index.vue?9182","webpack:///./src/business/backup-account/create/index.vue","webpack:///./src/api/cluster.js"],"names":["backupAccountUrl","createBackupAccounts","data","post","listBuckets","updateBackupAccounts","name","patch","deleteBackupAccounts","del","searchBackupAccounts","currentPage","pageSize","conditions","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","join","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator","call","this","undefined","render","_vm","_h","$createElement","_c","_self","attrs","$t","staticClass","directives","rawName","value","expression","ref","rules","form","model","callback","$$v","$set","_v","_s","staticStyle","_l","item","key","label","disabled","type","credentialVars","_e","on","getClusters","index","getBuckets","$event","onCancel","onSubmit","staticRenderFns","components","props","projects","clusters","bucket","accessKey","secretKey","accountName","accountKey","region","endpoint","port","username","address","password","typeOptions","formLabelWidth","buckets","loading","methods","$refs","validate","valid","$router","push","length","created","component","clusterUrl","clusterLoggerUrl","storageProvisionerLoggerUrl","getClusterByName","clusterName","get","getClusterByProject","projectNames","checkClusterNameExistence","searchClusters","page","size","condition","createCluster","healthCheck","clusterRecover","deleteCluster","force","importCluster","allClusters","initCluster","upgradeCluster","version","req","getClusterStatus","getClusterLog","replace","getProvisionerLog","logId","openLogger","window","open","openProvisionerLogger","getSecret"],"mappings":"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","file":"js/chunk-9b437006.6d0c16ac.js","sourcesContent":["import {del, get, patch, post} from \"@/plugins/request\"\n\nconst backupAccountUrl=\"/api/v1/backupaccounts\"\n\n\nexport function getBackupAccounts(currentPage,pageSize) {\n  return get(`${backupAccountUrl}/?pageNum=${currentPage}&pageSize=${pageSize}`)\n}\n\nexport function createBackupAccounts(data) {\n  return post(`${backupAccountUrl}`,data)\n}\n\nexport function listBuckets(data) {\n  return post(`${backupAccountUrl}/buckets`,data)\n}\n\nexport function updateBackupAccounts(name, data) {\n  return patch(`${backupAccountUrl}/${name}`,data)\n}\n\nexport function deleteBackupAccounts(name) {\n  return del(`${backupAccountUrl}/${name}`)\n}\n\nexport function searchBackupAccounts(currentPage, pageSize, conditions) {\n  return post(`${backupAccountUrl}/search?pageNum=${currentPage}&pageSize=${pageSize}`, conditions)\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('layout-content',{attrs:{\"header\":_vm.$t('commons.button.create'),\"back-to\":{ name: 'BackupAccount'}}},[_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_c('br')]),_c('el-col',{attrs:{\"span\":10}},[_c('div',{staticClass:\"grid-content bg-purple-light\"},[_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"form\",attrs:{\"label-position\":\"left\",\"rules\":_vm.rules,\"model\":_vm.form,\"label-width\":\"160px\"}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('commons.table.name'),\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}}),_c('div',[_c('span',{staticClass:\"input-help\"},[_vm._v(_vm._s(_vm.$t('commons.validate.name_help')))])])],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('commons.table.type'),\"required\":\"\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":_vm.$t('commons.validate.select')},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}},_vm._l((_vm.typeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"value\":item.value,\"label\":item.label,\"disabled\":item.disabled}})}),1)],1),(_vm.form.type === 'OSS' || _vm.form.type === 'S3')?_c('el-form-item',{attrs:{\"label\":\"AccessKey\",\"prop\":\"credentialVars.accessKey\"}},[_c('el-input',{model:{value:(_vm.form.credentialVars['accessKey']),callback:function ($$v) {_vm.$set(_vm.form.credentialVars, 'accessKey', $$v)},expression:\"form.credentialVars['accessKey']\"}})],1):_vm._e(),(_vm.form.type === 'OSS' || _vm.form.type === 'S3')?_c('el-form-item',{attrs:{\"label\":\"SecretKey\",\"prop\":\"credentialVars.secretKey\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.form.credentialVars['secretKey']),callback:function ($$v) {_vm.$set(_vm.form.credentialVars, 'secretKey', $$v)},expression:\"form.credentialVars['secretKey']\"}})],1):_vm._e(),(_vm.form.type === 'AZURE')?_c('el-form-item',{attrs:{\"label\":_vm.$t('backup_account.table.accountName'),\"prop\":\"credentialVars.accountName\"}},[_c('el-input',{model:{value:(_vm.form.credentialVars['accountName']),callback:function ($$v) {_vm.$set(_vm.form.credentialVars, 'accountName', $$v)},expression:\"form.credentialVars['accountName']\"}})],1):_vm._e(),(_vm.form.type === 'AZURE')?_c('el-form-item',{attrs:{\"label\":_vm.$t('backup_account.table.accountKey'),\"prop\":\"credentialVars.accountKey\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.form.credentialVars['accountKey']),callback:function ($$v) {_vm.$set(_vm.form.credentialVars, 'accountKey', $$v)},expression:\"form.credentialVars['accountKey']\"}})],1):_vm._e(),(_vm.form.type === 'S3')?_c('el-form-item',{attrs:{\"label\":_vm.$t('backup_account.table.region'),\"prop\":\"credentialVars.region\"}},[_c('el-input',{model:{value:(_vm.form.credentialVars['region']),callback:function ($$v) {_vm.$set(_vm.form.credentialVars, 'region', $$v)},expression:\"form.credentialVars['region']\"}})],1):_vm._e(),(_vm.form.type !== 'SFTP')?_c('el-form-item',{attrs:{\"label\":_vm.$t('backup_account.table.endpoint'),\"prop\":\"credentialVars.endpoint\"}},[_c('el-input',{model:{value:(_vm.form.credentialVars['endpoint']),callback:function ($$v) {_vm.$set(_vm.form.credentialVars, 'endpoint', $$v)},expression:\"form.credentialVars['endpoint']\"}})],1):_vm._e(),(_vm.form.type !== 'SFTP')?_c('el-form-item',{attrs:{\"label\":_vm.$t('backup_account.table.bucket'),\"prop\":\"bucket\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":_vm.$t('commons.validate.select')},model:{value:(_vm.form.bucket),callback:function ($$v) {_vm.$set(_vm.form, \"bucket\", $$v)},expression:\"form.bucket\"}},_vm._l((_vm.buckets),function(item){return _c('el-option',{key:item,attrs:{\"value\":item}})}),1)],1):_vm._e(),(_vm.form.type === 'SFTP')?_c('div',[_c('el-form-item',{attrs:{\"label\":_vm.$t('backup_account.table.address'),\"prop\":\"credentialVars.address\"}},[_c('el-input',{attrs:{\"placeholder\":\"172.16.10.100\"},model:{value:(_vm.form.credentialVars['address']),callback:function ($$v) {_vm.$set(_vm.form.credentialVars, 'address', $$v)},expression:\"form.credentialVars['address']\"}})],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('backup_account.table.port'),\"prop\":\"credentialVars.port\"}},[_c('el-input-number',{attrs:{\"min\":0,\"max\":65535},model:{value:(_vm.form.credentialVars['port']),callback:function ($$v) {_vm.$set(_vm.form.credentialVars, 'port', $$v)},expression:\"form.credentialVars['port']\"}})],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('backup_account.table.username'),\"prop\":\"credentialVars.username\"}},[_c('el-input',{model:{value:(_vm.form.credentialVars['username']),callback:function ($$v) {_vm.$set(_vm.form.credentialVars, 'username', $$v)},expression:\"form.credentialVars['username']\"}})],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('backup_account.table.password'),\"prop\":\"credentialVars.password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.form.credentialVars['password']),callback:function ($$v) {_vm.$set(_vm.form.credentialVars, 'password', $$v)},expression:\"form.credentialVars['password']\"}})],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('backup_account.table.path'),\"prop\":\"bucket\"}},[_c('el-input',{model:{value:(_vm.form.bucket),callback:function ($$v) {_vm.$set(_vm.form, \"bucket\", $$v)},expression:\"form.bucket\"}})],1)],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":_vm.$t('host.project_auth'),\"prop\":\"projects\",\"required\":\"\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"multiple\":\"\",\"filterable\":\"\",\"reserve-keyword\":\"\"},on:{\"change\":_vm.getClusters},model:{value:(_vm.form.projects),callback:function ($$v) {_vm.$set(_vm.form, \"projects\", $$v)},expression:\"form.projects\"}},_vm._l((_vm.projects),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item.name}})}),1)],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('host.cluster_auth'),\"prop\":\"clusters\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"multiple\":\"\",\"filterable\":\"\",\"reserve-keyword\":\"\"},model:{value:(_vm.form.clusters),callback:function ($$v) {_vm.$set(_vm.form, \"clusters\", $$v)},expression:\"form.clusters\"}},_vm._l((_vm.clusters),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item,\"value\":item}})}),1)],1),_c('div',{staticStyle:{\"float\":\"right\"}},[_c('el-form-item',[(_vm.form.type !== 'SFTP')?_c('el-button',{attrs:{\"plain\":\"\"},on:{\"click\":_vm.getBuckets}},[_vm._v(_vm._s(_vm.$t('commons.button.getBucket')))]):_vm._e(),_c('el-button',{on:{\"click\":function($event){return _vm.onCancel()}}},[_vm._v(_vm._s(_vm.$t('commons.button.cancel')))]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(_vm._s(_vm.$t('commons.button.submit')))])],1)],1)],1)],1)]),_c('el-col',{attrs:{\"span\":4}},[_c('br')])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <layout-content :header=\"$t('commons.button.create')\" :back-to=\"{ name: 'BackupAccount'}\">\n    <el-row>\n      <el-col :span=\"4\"><br /></el-col>\n      <el-col :span=\"10\">\n        <div class=\"grid-content bg-purple-light\">\n          <el-form ref=\"form\" v-loading=\"loading\" label-position=\"left\" :rules=\"rules\" :model=\"form\" label-width=\"160px\">\n            <el-form-item :label=\"$t('commons.table.name')\" prop=\"name\">\n              <el-input v-model=\"form.name\"></el-input>\n              <div><span class=\"input-help\">{{$t('commons.validate.name_help')}}</span></div>\n            </el-form-item>\n            <el-form-item :label=\"$t('commons.table.type')\" required>\n              <el-select style=\"width: 100%\" v-model=\"form.type\" :placeholder=\"$t('commons.validate.select')\">\n                <el-option v-for=\"item in typeOptions\" :key=\"item.value\" :value=\"item.value\" :label=\"item.label\" :disabled=\"item.disabled\">\n                </el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item v-if=\"form.type === 'OSS' || form.type === 'S3'\" label=\"AccessKey\" prop=\"credentialVars.accessKey\">\n              <el-input v-model=\"form.credentialVars['accessKey']\"></el-input>\n            </el-form-item>\n            <el-form-item v-if=\"form.type === 'OSS' || form.type === 'S3'\" label=\"SecretKey\" prop=\"credentialVars.secretKey\">\n              <el-input type=\"password\" v-model=\"form.credentialVars['secretKey']\"></el-input>\n            </el-form-item>\n            <el-form-item v-if=\"form.type === 'AZURE'\" :label=\"$t('backup_account.table.accountName')\" prop=\"credentialVars.accountName\">\n              <el-input v-model=\"form.credentialVars['accountName']\"></el-input>\n            </el-form-item>\n            <el-form-item v-if=\"form.type === 'AZURE'\" :label=\"$t('backup_account.table.accountKey')\" prop=\"credentialVars.accountKey\">\n              <el-input type=\"password\" v-model=\"form.credentialVars['accountKey']\"></el-input>\n            </el-form-item>\n            <el-form-item v-if=\"form.type === 'S3'\" :label=\"$t('backup_account.table.region')\" prop=\"credentialVars.region\">\n              <el-input v-model=\"form.credentialVars['region']\"></el-input>\n            </el-form-item>\n            <el-form-item v-if=\"form.type !== 'SFTP'\" :label=\"$t('backup_account.table.endpoint')\" prop=\"credentialVars.endpoint\">\n              <el-input v-model=\"form.credentialVars['endpoint']\"></el-input>\n            </el-form-item>\n            <el-form-item v-if=\"form.type !== 'SFTP'\" :label=\"$t('backup_account.table.bucket')\" prop=\"bucket\">\n              <el-select style=\"width: 100%\" v-model=\"form.bucket\" :placeholder=\"$t('commons.validate.select')\">\n                <el-option v-for=\"item in buckets\" :key=\"item\" :value=\"item\">\n                </el-option>\n              </el-select>\n            </el-form-item>\n            <!-- SFTP Option start-->\n            <div v-if=\"form.type === 'SFTP'\">\n              <el-form-item :label=\"$t('backup_account.table.address')\" prop=\"credentialVars.address\">\n                <el-input placeholder=\"172.16.10.100\" v-model=\"form.credentialVars['address']\"></el-input>\n              </el-form-item>\n              <el-form-item :label=\"$t('backup_account.table.port')\" prop=\"credentialVars.port\">\n                <el-input-number v-model=\"form.credentialVars['port']\" :min=\"0\" :max=\"65535\"></el-input-number>\n              </el-form-item>\n              <el-form-item :label=\"$t('backup_account.table.username')\" prop=\"credentialVars.username\">\n                <el-input v-model=\"form.credentialVars['username']\"></el-input>\n              </el-form-item>\n              <el-form-item :label=\"$t('backup_account.table.password')\" prop=\"credentialVars.password\">\n                <el-input type=\"password\" v-model=\"form.credentialVars['password']\"></el-input>\n              </el-form-item>\n              <el-form-item :label=\"$t('backup_account.table.path')\" prop=\"bucket\">\n                <el-input v-model=\"form.bucket\"></el-input>\n              </el-form-item>\n            </div>\n            <!-- SFTP Option end-->\n            <el-form-item :label=\"$t('host.project_auth')\" prop=\"projects\" required>\n              <el-select v-model=\"form.projects\" multiple style=\"width:100%\" filterable @change=\"getClusters\" reserve-keyword>\n                <el-option v-for=\"(item,index) in projects\" :key=\"index\" :label=\"item.name\" :value=\"item.name\">\n                </el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item :label=\"$t('host.cluster_auth')\" prop=\"clusters\">\n              <el-select v-model=\"form.clusters\" multiple style=\"width:100%\" filterable reserve-keyword>\n                <el-option v-for=\"(item,index) in clusters\" :key=\"index\" :label=\"item\" :value=\"item\">\n                </el-option>\n              </el-select>\n            </el-form-item>\n            <div style=\"float: right\">\n              <el-form-item>\n                <el-button v-if=\"form.type !== 'SFTP'\" plain @click=\"getBuckets\">{{$t('commons.button.getBucket')}}</el-button>\n                <el-button @click=\"onCancel()\">{{$t('commons.button.cancel')}}</el-button>\n                <el-button type=\"primary\" @click=\"onSubmit\">{{$t('commons.button.submit')}}</el-button>\n              </el-form-item>\n            </div>\n          </el-form>\n\n        </div>\n      </el-col>\n      <el-col :span=\"4\"><br /></el-col>\n    </el-row>\n  </layout-content>\n\n</template>\n\n<script>\nimport LayoutContent from \"@/components/layout/LayoutContent\"\nimport { createBackupAccounts, listBuckets } from \"@/api/backup-account\"\nimport { allProjects } from \"@/api/projects\"\nimport { getClusterByProject } from \"@/api/cluster\"\nimport Rule from \"@/utils/rules\"\n\nexport default {\n  name: \"RegistryCreate\",\n  components: { LayoutContent },\n  props: [\"dialogFormVisible\"],\n  data() {\n    return {\n      form: {\n        projects: [],\n        clusters: [],\n        name: \"\",\n        type: \"\",\n        bucket: \"\",\n        credentialVars: {},\n      },\n      rules: {\n        name: [Rule.NameRule],\n        bucket: [Rule.RequiredRule],\n        credentialVars: {\n          accessKey: [Rule.RequiredRule],\n          secretKey: [Rule.RequiredRule],\n          accountName: [Rule.RequiredRule],\n          accountKey: [Rule.RequiredRule],\n          region: [Rule.RequiredRule],\n          endpoint: [Rule.RequiredRule],\n          port: [Rule.RequiredRule],\n          username: [Rule.RequiredRule],\n          address: [Rule.RequiredRule],\n          password: [Rule.RequiredRule],\n        },\n      },\n      typeOptions: [\n        {\n          value: \"OSS\",\n        },\n        {\n          value: \"S3\",\n        },\n        {\n          value: \"SFTP\",\n        },\n        {\n          label: \"Azure\",\n          value: \"AZURE\",\n        },\n      ],\n      formLabelWidth: \"120px\",\n      buckets: [],\n      loading: false,\n      projects: [],\n      clusters: [],\n    }\n  },\n  methods: {\n    onSubmit() {\n      this.$refs.form.validate((valid) => {\n        if (!valid) {\n          return false\n        }\n        this.loading = true\n        createBackupAccounts({\n          bucket: this.form.bucket,\n          credentialVars: this.form.credentialVars,\n          name: this.form.name,\n          type: this.form.type,\n          projects: this.form.projects,\n          clusters: this.form.clusters,\n        })\n          .then(() => {\n            this.loading = false\n            this.$message({\n              type: \"success\",\n              message: this.$t(\"commons.msg.create_success\"),\n            })\n            this.$router.push({ name: \"BackupAccount\" })\n          })\n          .finally(() => {\n            this.loading = false\n          })\n      })\n    },\n    onCancel() {\n      this.$router.push({ name: \"BackupAccount\" })\n    },\n    getClusters() {\n      this.clusters = []\n      this.form.clusters = []\n      if (this.form.projects.length === 0) {\n        return\n      }\n      let pros = this.form.projects.join(\",\")\n      getClusterByProject(pros).then((data) => {\n        this.clusters = []\n        for (const clu of data) {\n          this.clusters.push(clu.name)\n        }\n      })\n    },\n    getBuckets() {\n      this.loading = true\n      listBuckets({\n        name: this.form.name,\n        type: this.form.type,\n        credentialVars: this.form.credentialVars,\n      })\n        .then((data) => {\n          this.loading = false\n          this.buckets = data\n        })\n        .finally(() => {\n          this.loading = false\n        })\n    },\n  },\n  created() {\n    this.form.type = \"SFTP\"\n    allProjects().then((res) => {\n      this.projects = res.items\n    })\n  },\n}\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2da58f77&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2da58f77\",\n  null\n  \n)\n\nexport default component.exports","import {get, post, del} from \"@/plugins/request\"\n\nconst clusterUrl = \"/api/v1/clusters\"\nconst clusterLoggerUrl = \"/api/v1/clusters/logger/{cluster_name}\"\nconst clusterNodeLoggerUrl = \"/api/v1/clusters/node/logger/{cluster_name}/{node_name}\"\nconst storageProvisionerLoggerUrl = \"/api/v1/clusters/provisioner/log/{cluster_name}/{log_id}\"\n\nexport function getClusterByName(clusterName) {\n  return get(`${clusterUrl}/${clusterName}`)\n}\n\nexport function getClusterByProject(projectNames) {\n  return get(`${clusterUrl}/name/${projectNames}`)\n}\n\nexport function checkClusterNameExistence(clusterName) {\n  return get(`${clusterUrl}/existence/${clusterName}`)\n}\n\nexport function listClusters(page, size) {\n  return get(`${clusterUrl}?pageNum=${page}&pageSize=${size}`)\n}\n\nexport function searchClusters(page, size, condition) {\n  return post(`${clusterUrl}/search?pageNum=${page}&pageSize=${size}`, condition)\n}\n\nexport function createCluster(data) {\n  return post(`${clusterUrl}`, data)\n}\n\nexport function healthCheck(clusterName) {\n  return get(`${clusterUrl}/health/${clusterName}`)\n}\n\nexport function clusterRecover(clusterName) {\n  return post(`${clusterUrl}/recover/${clusterName}`, {})\n}\n\nexport function deleteCluster(clusterName, force) {\n  return del(`${clusterUrl}/${clusterName}?force=${force}`)\n}\n\nexport function importCluster(data) {\n  return post(`${clusterUrl}/import/`, data)\n}\n\nexport function allClusters() {\n  return get(`${clusterUrl}`)\n}\n\nexport function initCluster(clusterName) {\n  return post(`${clusterUrl}/init/${clusterName}/`, {})\n}\n\nexport function upgradeCluster(clusterName, version) {\n  let req = {\n    clusterName: clusterName,\n    version: version,\n  }\n  return post(`${clusterUrl}/upgrade/`, req)\n}\n\nexport function getClusterStatus(clusterName) {\n  return get(`${clusterUrl}/status/${clusterName}`)\n}\n\nexport function getClusterLog(clusterName) {\n  return get(clusterLoggerUrl.replace(\"{cluster_name}\", clusterName))\n}\n\nexport function getClusterNodeLog(clusterName, nodeName) {\n  return get(clusterNodeLoggerUrl.replace(\"{cluster_name}\", clusterName).replace(\"{node_name}\", nodeName))\n}\n\nexport function getProvisionerLog(clusterName, logId) {\n  return get(storageProvisionerLoggerUrl.replace(\"{cluster_name}\", clusterName).replace(\"{log_id}\", logId))\n}\n\nexport function openLogger(clusterName) {\n  window.open(`/ui/#/logger?clusterName=${clusterName}`, \"_blank\", \"height=865, width=800, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, resizable=yes,location=no, status=no\")\n}\n\nexport function openProvisionerLogger(clusterName, logId) {\n  window.open(`/ui/#/logger?clusterName=${clusterName}&logId=${logId}`, \"_blank\", \"height=865, width=800, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, resizable=yes,location=no, status=no\")\n}\n\nexport function getSecret(clusterName) {\n  return get(`${clusterUrl}/secret/${clusterName}`)\n}\n"],"sourceRoot":""}