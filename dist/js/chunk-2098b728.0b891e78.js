(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2098b728"],{"5c56":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"box-card",staticStyle:{width:"50%",background:"#FFFFFF"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v(t._s(t.$t("setting.table.license.title")))])]),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:18}},[i("DetailCard",{attrs:{title:t.cardTitle,items:t.detailItems}})],1)],1),i("el-button",{staticStyle:{float:"right",margin:"0 10px 8px"},attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v(t._s(t.$t("commons.button.import")))]),i("el-dialog",{attrs:{title:t.$t("setting.option.addLicense"),visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e},cancel:function(e){t.dialogLicenseImport=!1},confirm:t.importLicense}},[i("el-button",{attrs:{type:"text"},on:{click:function(e){return t.applyLicensee()}}},[t._v(t._s(t.$t("setting.apply_licensee")))]),i("el-form",[i("el-form-item",[i("el-row",{attrs:{type:"flex",justify:"center"}},[i("el-upload",{staticClass:"upload-demo",attrs:{"on-change":t.onUploadChange,action:"","auto-upload":!1,drag:""}},[i("i",{staticClass:"el-icon-upload"}),i("div",{staticClass:"el-upload__text"},[t._v(t._s(t.$t("commons.form.file_upload_help")))]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icontishi11"}})]),t._v(" "+t._s(t.$t("cluster.detail.backup.local_recover_tips")))])])],1)],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v(t._s(t.$t("commons.button.cancel")))]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.importLicense()}}},[t._v(t._s(t.$t("commons.button.import")))])],1)],1)],1)},a=[],n=(i("b1fa"),i("0e84")),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},t._l(t.items,(function(e){return i("el-row",{key:"card-"+e.key,staticClass:"item",staticStyle:{"font-weight":"bold",color:"#676a6c"},attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("div",{staticClass:"item-label",style:{"text-align":t.align}},[i("label",[t._v(t._s(e.key)+": ")])])]),i("el-col",{attrs:{span:18}},["valid"==e.value?i("span",{staticClass:"item-text",staticStyle:{color:"green"}},[t._v(" "+t._s(t.$t("setting.table.license.valid"))+" ")]):"invalid"==e.value?i("span",{staticClass:"item-text",staticStyle:{color:"#ff0000"}},[t._v(" "+t._s(t.$t("setting.table.license.invalid"))+" ")]):"expired"==e.value?i("span",{staticClass:"item-text",staticStyle:{color:"red"}},[t._v(" "+t._s(t.$t("setting.table.license.expired"))+" ")]):i("span",{staticClass:"item-text"},[t._v(" "+t._s(e.value)+" ")])])],1)})),1)},o=[],c={name:"DetailCard",props:{title:{type:String,default:function(){return this.$t("common.BasicInfo")}},items:{type:Array,default:function(){return[]}},align:{type:String,default:"left"}},created:function(){}},r=c,u=(i("8109"),i("5d22")),d=Object(u["a"])(r,l,o,!1,null,"742340a6",null),p=d.exports,f={name:"License",components:{DetailCard:p},data:function(){return{loading:!1,form:{message:"",status:"",license:{corporation:"",product:"",edition:"",count:"",expired:""}},dialogVisible:!1,licenseData:{},licenseFile:{},file:{}}},created:function(){var t=this;this.loading=!0,Object(n["a"])().then((function(e){t.loading=!1,t.form.license=e.license,t.form.status=e.status})).finally((function(){t.loading=!1}))},methods:{importLicense:function(){var t=this,e=new FormData;e.append("file",this.file.raw),Object(n["b"])(e).then((function(e){e.status?(t.$message({type:"success",message:t.$t("commons.msg.import_success")}),setTimeout((function(){return location.reload()}),500)):t.$message.error(e.message)}))},onUploadChange:function(t){this.file=t},applyLicensee:function(){window.open("https://jinshuju.net/f/qc6g44")}},computed:{cardTitle:function(){return""},detailItems:function(){return"invalid"==this.form.status?[{key:this.$t("setting.license"),value:this.$t("setting.table.license.communityEdition")}]:[{key:this.$t("setting.table.license.corporation"),value:this.form.license.corporation},{key:this.$t("setting.table.license.count"),value:this.form.license.count},{key:this.$t("setting.table.license.expiration"),value:this.form.license.expired},{key:this.$t("setting.table.license.edition"),value:this.form.license.edition},{key:this.$t("setting.table.license.status"),value:this.form.status}]}}},m=f,g=Object(u["a"])(m,s,a,!1,null,"55155356",null);e["default"]=g.exports},8109:function(t,e,i){"use strict";i("fa81")},fa81:function(t,e,i){}}]);
//# sourceMappingURL=chunk-2098b728.0b891e78.js.map