(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-550be426"],{2337:function(t,e,a){},"396f":function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return l}));var n=a("ff66"),i="/api/v1/manifests";function s(){return Object(n["c"])("".concat(i,"/group"))}function o(){return Object(n["c"])("".concat(i,"/active"))}function l(t,e){return Object(n["d"])("".concat(i,"/").concat(t),e)}},"3cf9":function(t,e,a){"use strict";a("2337")},"8dd5":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("layout-content",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{header:t.$t("route.manifest")}},[n("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.currentVersion,callback:function(e){t.currentVersion=e},expression:"currentVersion"}},t._l(t.activeNames,(function(t){return n("el-tab-pane",{key:t,attrs:{label:t,name:t}})})),1),t._l(t.versionList,(function(e){return n("div",{key:e.largeVersion},[n("div",[e.largeVersion==t.currentVersion?n("div",t._l(e.clusterManifests,(function(e){return n("div",{key:e.name},[n("el-col",{attrs:{span:6}},[n("el-card",{staticClass:"box-card",staticStyle:{"margin-left":"10px","margin-top":"20px"},attrs:{id:"card_header"}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("b",[t._v(t._s(e.name))]),n("div",{staticStyle:{float:"right"}},[n("el-link",{staticStyle:{color:"#F2F2F2"},on:{click:function(a){return t.onDetail(e)}}},[t._v(" "+t._s(t.$t("manifest.detail")))])],1)]),n("el-col",{attrs:{span:4}},[n("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:a("f321"),alt:""}})]),n("el-col",{attrs:{span:20}},t._l(e.coreVars,(function(e){return n("div",{key:e.name},[n("ul",[n("span",[t._v(t._s(e.name)+" : "+t._s(e.version))])])])})),0),n("div",{staticClass:"bottom"},[n("el-switch",{directives:[{name:"permission",rawName:"v-permission",value:["ADMIN"],expression:"['ADMIN']"}],staticStyle:{"margin-left":"100px"},attrs:{"active-text":t.$t("commons.button.enable"),"inactive-text":t.$t("commons.button.disable")},on:{change:function(a){return t.changeEnable(e)}},model:{value:e.isActive,callback:function(a){t.$set(e,"isActive",a)},expression:"versionMini.isActive"}})],1)],1)],1)],1)})),0):t._e()])])})),n("el-scrollbar",{staticStyle:{height:"100%"}},[n("el-dialog",{attrs:{title:t.$t("manifest.detail"),visible:t.dialogVisible,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("div",{staticStyle:{height:"500px","text-align":"center"}},[n("el-scrollbar",{staticStyle:{height:"500px"}},[n("p",[t._v(t._s(t.manifestDetail.name))]),n("div",{staticStyle:{"margin-top":"15px"},attrs:{align:"center"}},[n("el-table",{staticStyle:{width:"90%"},attrs:{data:t.manifestDetail.coreVars,border:""}},[n("el-table-column",{attrs:{prop:"name",label:t.$t("manifest.component")}}),n("el-table-column",{attrs:{prop:"version",label:t.$t("manifest.version")}})],1)],1),n("p",[t._v("Network")]),n("div",{staticStyle:{"margin-top":"15px"},attrs:{align:"center"}},[n("el-table",{staticStyle:{width:"90%"},attrs:{data:t.manifestDetail.networkVars,border:""}},[n("el-table-column",{attrs:{prop:"name",label:t.$t("manifest.component")}}),n("el-table-column",{attrs:{prop:"version",label:t.$t("manifest.version")}})],1)],1),n("p",[t._v("Tool")]),n("div",{staticStyle:{"margin-top":"15px"},attrs:{align:"center"}},[n("el-table",{staticStyle:{width:"90%"},attrs:{data:t.manifestDetail.toolVars,border:""}},[n("el-table-column",{attrs:{prop:"name",label:t.$t("manifest.component")}}),n("el-table-column",{attrs:{prop:"version",label:t.$t("manifest.version")}})],1)],1),n("p",[t._v("Storage")]),n("div",{staticStyle:{"margin-top":"15px"},attrs:{align:"center"}},[n("el-table",{staticStyle:{width:"90%"},attrs:{data:t.manifestDetail.storageVars,border:""}},[n("el-table-column",{attrs:{prop:"name",label:t.$t("manifest.component")}}),n("el-table-column",{attrs:{prop:"version",label:t.$t("manifest.version")}})],1)],1),n("p",[t._v("Other")]),n("div",{staticStyle:{"margin-top":"15px"},attrs:{align:"center"}},[n("el-table",{staticStyle:{width:"90%"},attrs:{data:t.manifestDetail.otherVars,border:""}},[n("el-table-column",{attrs:{prop:"name",label:t.$t("manifest.component")}}),n("el-table-column",{attrs:{prop:"version",label:t.$t("manifest.version")}})],1)],1)])],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v(t._s(t.$t("commons.button.cancel")))])],1)])],1),n("el-dialog",{staticClass:"ko-tips",attrs:{title:t.$t("commons.message_box.prompt"),"show-close":!0,visible:t.manifestVisible,width:"40%"},on:{"update:visible":function(e){t.manifestVisible=e}}},[n("span",[t._v(t._s(t.$t("manifest.manifest_help")))]),n("br"),n("br"),n("br"),n("div",{staticStyle:{"line-height":"150%"}},[n("span",{staticStyle:{"font-weight":"bolder"}},[t._v(t._s(t.$t("manifest.see_documentation"))+":")]),n("br"),n("a",{staticStyle:{color:"#447DF7"},attrs:{href:"https://kubeoperator.io/docs/user_manual/version/",target:"_blank"}},[t._v("https://kubeoperator.io/docs/user_manual/version/")]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})])])],2)},i=[],s=(a("b1fa"),a("6afd"),a("f5bd"),a("2769"),a("ecf1"),a("396f")),o=a("be17"),l={name:"Manifest",components:{LayoutContent:o["a"]},data:function(){return{versionList:[],activeNames:[],currentVersion:"",dialogVisible:!1,manifestDetail:{},loading:!1,manifestVisible:!1}},methods:{search:function(){var t=this;Object(s["c"])().then((function(e){t.loading=!0,t.versionList=e,t.activeNames=[],t.versionList.forEach((function(e){t.loading=!1,t.activeNames.push(e.largeVersion),t.currentVersion=t.activeNames[0]}))})).finally((function(){t.loading=!1}))},getLatestManifest:function(){var t=this;Object(s["c"])().then((function(e){t.versionList=e}))},changeEnable:function(t){var e=this;Object(s["a"])(t.name,t).then((function(t){t.isActive?(e.manifestVisible=!0,e.$message({message:e.$t("manifest.enable_message",[t.name]),type:"success"})):e.$message({message:e.$t("manifest.disable_message",[t.name]),type:"success"}),e.getLatestManifest()}))},handleClick:function(t){this.currentVersion=t.name},onDetail:function(t){console.log("onDetail:",t),this.manifestDetail=t,this.dialogVisible=!0}},mounted:function(){this.search()}},r=l,c=(a("3cf9"),a("5d22")),m=Object(c["a"])(r,n,i,!1,null,null,null);e["default"]=m.exports},f321:function(t,e,a){t.exports=a.p+"img/kubernetes.4655ae6f.png"}}]);
//# sourceMappingURL=chunk-550be426.f6f534fd.js.map